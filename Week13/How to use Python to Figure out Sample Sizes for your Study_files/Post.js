(window.webpackJsonp=window.webpackJsonp||[]).push([[36,5,6],{"./node_modules/@babel/runtime/helpers/construct.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js");function s(t,n,a){return o()?e.exports=s=Reflect.construct:e.exports=s=function(e,t,n){var o=[null];o.push.apply(o,t);var s=new(Function.bind.apply(e,o));return n&&r(s,n.prototype),s},s.apply(null,arguments)}e.exports=s},"./node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},"./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js":function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),s=n("./node_modules/@babel/runtime/helpers/isNativeFunction.js"),a=n("./node_modules/@babel/runtime/helpers/construct.js");function i(t){var n="function"==typeof Map?new Map:void 0;return e.exports=i=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},i(t)}e.exports=i},"./src/components/analytics/ParselyReporter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/session/RequireFlag.tsx"),m=n("./src/components/session/WithFlag.tsx"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/framework/source/SourceContext.tsx"),b=n("./src/util/hooks/useScript.tsx"),g=n("./src/util/hooks/useTimer.tsx");function h(){var e=Object(g.a)();return function(t){var n=t.resource,r=t.callback,o=t.max,s=t.ms;return function t(n){var r=n.resource,o=n.callback,s=n.max,a=n.ms,i=n.tries;if(i<s)try{o(r())}catch(n){e((function(){return t({resource:r,callback:o,max:s,ms:2*a,tries:i+1})}),a)}}({resource:n,callback:r,max:o||Number.POSITIVE_INFINITY,ms:s||1,tries:0})}}function v(e){var t=e.currentLocation,n=e.referrer,r=e.referrerSource,o=function(e){return e?e.mediumMemberAt?"member":"user":"visitor"}(e.viewer);return x(t,n,r,o),null}var x=function(e,t,n,r){var s=Object(b.a)("//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js",{id:"parsely-cf"}),a=o()(s,2),i=a[0],l=a[1],u=h();c.useEffect((function(){i&&!l&&u({resource:function(){return window.PARSELY.beacon},callback:function(){return window.PARSELY.beacon.trackPageView({url:E(e,n),urlref:t,js:1,data:{viewerStatus:r}})},max:10})}),[e,t,i,l])};function E(e,t){if(!e)return"";if(!t)return e;var n=new URL(e),r=Object(f.c)(t),s=r.name,a=r.dimension;if(s&&n.searchParams.set("utm_medium",s),a){var i=a.split("."),l=o()(i,3),c=l[0],u=l[1],d=l[2];c&&n.searchParams.set("utm_source",c),u&&n.searchParams.set("utm_term",u),d&&n.searchParams.set("utm_content",d)}return n.toString()}var y=Object(u.c)((function(e){var t=e.config.isAmp,n=e.client.isBot,r=e.navigation;return{isAmp:t,isBot:n,currentLocation:r.currentLocation,referrer:r.referrer,referrerSource:r.referrerSource}}))((function(e){var t=e.isBot,n=e.isAmp,r=l()(e,["isBot","isAmp"]);return t||n?null:c.createElement(d.a,{name:"enable_parsely"},c.createElement(m.a,{name:"dont_track_user"},(function(e){return e?null:c.createElement(c.Fragment,null,c.createElement("script",null,"window.PARSELY = window.PARSELY || {autotrack: false}"),c.createElement(p.b,null,(function(e){return c.createElement(v,a()({},r,{viewer:e}))})))})))}))},"./src/components/audio/AudioPlayback.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return V}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n.n(d),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/upsell/UpsellClickable.tsx"),b=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/design-system/type/index.ts"),h=n("./src/framework/reporter/index.ts"),v=n("./src/framework/source/index.ts"),x=n("./src/framework/style/index.ts"),E=n("./src/framework/track/UpsellPresentationTracker.tsx"),y=n("./src/styles/font.ts"),O=n("./src/svg/audio-21px.svg");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=m.a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},m.a.createElement("rect",{width:6,height:17,rx:2}),m.a.createElement("rect",{x:9,width:6,height:17,rx:2})),j=function(e){return m.a.createElement("svg",w({width:25,height:25},e),C)};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=m.a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"}),P=function(e){return m.a.createElement("svg",S({width:25,height:25},e),_)};function k(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return k=function(){return e},e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={duration:0,elapsed:0,playing:!1},A=function(e,t){switch(t.type){case"load":return T({},e,{duration:t.duration});case"play":return T({},e,{playing:!0});case"pause":return T({},e,{playing:!1});case"seek":return T({},e,{elapsed:t.clickedTime});case"progress":return T({},e,{elapsed:t.elapsed});case"end":return T({},e,{playing:!1});default:return e}},L={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},M={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},B=function(e){var t=e.postId,n=e.audioVersionUrl,r=Object(x.useCx)(),o=d.useReducer(A,R),s=a()(o,2),i=s[0],l=s[1],c=i.duration,u=i.elapsed,m=i.playing,p=Object(x.useKeyframes)({fadeInKeyframesName:L,fadeOutKeyframesName:M}),f=p.fadeInKeyframesName,v=p.fadeOutKeyframesName,E=d.useState(!1),y=a()(E,2),O=y[0],w=y[1],C=d.useState(!1),S=a()(C,2),_=S[0],k=S[1],I=d.useCallback((function(){w((function(e){return k(!!e),!1}))}),[]),T=d.useCallback((function(){w((function(e){return k(!e),!0}))}),[]),B=Object(h.c)();d.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),d.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]);var D=function(e){var t=e.children,n=e.onClick,r=Object(x.useCx)();return d.createElement("button",{onMouseUp:n,className:r((function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",":focus":{outline:"none"},color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}}))},t)};return d.createElement(b.b,{display:"flex",justifyContent:"center",margin:"20px 0"},d.createElement("audio",{id:"audio-player"},d.createElement("source",{src:n})),d.createElement(b.b,{display:"flex",alignItems:"center",flexGrow:"1"},d.createElement(b.b,{marginRight:"16px"},d.createElement((function(e){var n=e.playing,r=d.useCallback((function(){var e=document.getElementById("audio-player");n?(B.event("audio.end",{postId:t}),e.pause(),l({type:"pause"})):(B.event("audio.start",{postId:t}),e.play(),l({type:"play"}))}),[n]);return d.createElement(D,{onClick:r},n?d.createElement(j,null):d.createElement(P,null))}),{playing:m})),d.createElement(b.b,{display:"flex",flexDirection:"column",flexGrow:"1"},d.createElement(g.a,{scale:"M",color:"DARKER"},"Listen to this story"),d.createElement((function(e){var t=e.duration,n=e.elapsed,o=e.isProgressBeanVisible,s=e.onMouseEnterProgressBar,a=e.onMouseLeaveProgressBar,i=e.onTimeUpdate,l=n&&t?Math.max(0,Math.min(n/t*100,100)):0;function c(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}function u(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}var m=[function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",left:"".concat(l,"%"),cursor:"pointer",opacity:o?1:0}}];return _&&m.push({animation:"".concat(o?f:v," .2s ease-in-out forwards")}),d.createElement(b.b,{display:"flex",alignItems:"center"},d.createElement(b.b,{width:"28px",marginRight:"12px",textAlign:"left"},d.createElement(g.a,{scale:"M"},n?c(n):"--:--")),d.createElement("div",{className:r((function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(l,"%, ").concat(e.baseColor.background.normal," 0)")}})),id:"audio-player-progress-bar",onMouseDown:function(e){function t(e){i(u(e))}i(u(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t),a()}))},onMouseEnter:s,onMouseLeave:a},d.createElement("div",{className:r(m),onAnimationEnd:function(){return k(!1)}})),d.createElement(b.b,{width:"28px",marginLeft:"12px",textAlign:"right"},d.createElement(g.a,{scale:"M"},t?c(t):"--:--")))}),{elapsed:u,duration:c,isProgressBeanVisible:O,onMouseEnterProgressBar:T,onMouseLeaveProgressBar:I,onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})}}))))},D=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},N=function(e){return{color:e.baseColor.text.light,fontSize:"14px"}},U=function(e){var t=e.post,n=Object(x.useCx)();return d.createElement(b.A,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},d.createElement(O.a,{className:n(D)}),d.createElement(b.d,{className:n([Object(y.g)(),N])},"Psst... there’s an audio version of this story."," ",d.createElement(f.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function F(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return d.createElement(b.b,{marginTop:"30px"},d.createElement(p.b,null,(function(e){return e&&!!e.mediumMemberAt||!o?d.createElement(B,{postId:n,audioVersionUrl:r}):d.createElement(v.b,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},d.createElement(E.a,null,d.createElement(U,{post:t})))})))}var V=u()(k(),f.b)},"./src/components/broadcast-banner/BroadcastBanner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/lodash/cloneDeep.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n("./src/components/broadcast-banner/useCdcMessaging.tsx"),p=n("./src/components/cta/TextCTA.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/style/index.ts"),g=n("./src/svg/exclamation-25px.svg");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){return{width:"20px",height:"20px",fill:e.baseColor.text.lighter}},E=function(e){var t=e.parsedMessage;return d.createElement(f.b,{marginLeft:"8px",maxWidth:"calc(100% - 33px)"},t.map((function(e,t){return"string"==typeof e?d.createElement(d.Fragment,{key:"parsedBroadcastMessage-".concat(t)},e):d.createElement(f.t,{key:"parsedBroadcastMessage-".concat(t),linkStyle:"OBVIOUS",href:e.href,target:"_blank"},e.text)})))},y=function(e){var t=e.tier,n=e.topics,r=e.tags,o=e.isLocked,s=e.postId,i=e.isTopicPage,c=e.postPublishDate,h=Object(b.useCx)(),y=Object(m.a)({tier:t,topics:n,tags:r,flag:"covid_19_cdc_banner",isLocked:o,postId:s,isTopicPage:i,postPublishDate:c}),O=y.shouldShowCdcMessaging,w=y.message,C=d.useCallback((function(){return function(e){for(var t=u()(e),n=t.markups,r=t.text,o=[r],s=0,i=Object.entries(n);s<i.length;s++){var c=l()(i[s],2),d=c[0],m=c[1],p=o.pop();if(!p||"string"!=typeof p){o=[r];break}var f=p.substring(0,m.start),b=p.substring(m.start,m.end),g=p.substring(m.end);o=[].concat(a()(o),[f,v({text:b},m),g]);for(var h=Number(d)+1;h<n.length;h++)n[h].start=n[h].start-m.end,n[h].end=n[h].end-m.end}return o}(w)}),[w]);if(!O)return null;var j=C();return d.createElement(p.b,{scale:p.a.S},d.createElement(f.b,{display:"flex"},d.createElement(g.a,{className:h(x)}),d.createElement(E,{parsedMessage:j})))}},"./src/components/broadcast-banner/useCdcMessaging.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/components/session/useFlag.tsx"),s={1:"tierA",2:"tierA",other:"tierA"},a=function(e){var t=e.tags,n=void 0===t?[]:t,a=e.topics,i=void 0===a?[]:a,l=e.tier,c=e.flag,u=e.isLocked,d=e.isTopicPage,m=e.postId,p=e.postPublishDate,f=Boolean(Object(o.a)(c)),b=Object(r.f)((function(e){return{sharedCdcMessaging:e.config.sharedCdcMessaging}}),r.d).sharedCdcMessaging,g=b.COVID_APPLICABLE_TAG_SLUGS,h=b.COVID_APPLICABLE_TOPIC_NAMES,v=b.COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE,x=b.COVID_MESSAGES,E=b.COVID_BANNER_POST_ID_OVERRIDE_WHITELIST,y={shouldShowCdcMessaging:!1,message:x[s.other]};if(E.includes(m||""))return y;if(p&&p<15778368e5)return y;var O=g.map((function(e){return e.toLowerCase()})),w=(d?v:h).map((function(e){return e.toLowerCase()})),C=n.map((function(e){return O.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),j=i.map((function(e){return w.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowCdcMessaging:f&&!(!C&&!j),message:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,a=r.some((function(e){return t.includes(e?e.toLowerCase():"")}));return a&&o&&[1,2].includes(n||0)?e.paywall:null==n?e[s.other]:e[s[n]||"tierB"]}(x,w,l,i,u)}}},"./src/components/collection/CollectionFollowButton.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),u=n.n(c),d=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m=n("./node_modules/graphql-tag/src/index.js"),p=n.n(m),f=n("./node_modules/react/index.js"),b=n("./node_modules/react-redux/es/index.js"),g=n("./src/components/session/WithViewer.tsx"),h=n("./src/components/style/BaseThemeProvider.tsx"),v=n("./src/components/susi/SusiClickable.tsx"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),y=n("./src/framework/design-system/type/index.ts"),O=n("./src/framework/reporter/index.ts"),w=n("./src/framework/source/index.ts"),C=n("./src/framework/style/index.ts"),j=n("./src/framework/track/index.ts"),S=n("./src/svg/arrow-down-21px.svg"),_=n("./src/util/routes.ts");function P(){var e=u()(["\n  mutation UnsubscribeCollectionEmailsMutation($id: ID!) {\n    unsubscribeCollectionEmails(collectionId: $id) {\n      __typename\n      id\n      isUserSubscribedToCollectionEmails\n    }\n  }\n"]);return P=function(){return e},e}function k(){var e=u()(["\n  mutation SubscribeCollectionEmailsMutation($id: ID!) {\n    subscribeCollectionEmails(collectionId: $id) {\n      __typename\n      id\n      isUserSubscribedToCollectionEmails\n    }\n  }\n"]);return k=function(){return e},e}function I(){var e=u()(["\n  mutation UnfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerIsFollowing\n    }\n  }\n"]);return I=function(){return e},e}function T(){var e=u()(["\n  mutation FollowCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerIsFollowing\n      isUserSubscribedToCollectionEmails\n    }\n  }\n"]);return T=function(){return e},e}function R(){var e=u()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    canToggleEmail\n    slug\n    isUserSubscribedToCollectionEmails\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return R=function(){return e},e}function A(){var e=u()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return A=function(){return e},e}var L=p()(A()),M=p()(R(),_.G,v.b),B=function(e){var t=e.children,n=e.extraTopPadding,r=e.extraBottomPadding,o=e.padding,s=e.margin,a=e.borderTop;return f.createElement(x.b,{padding:o||"".concat(n?"20px":"5px"," 20px ").concat(r?"20px":"5px"," 20px"),margin:s,borderTop:a?"BASE_LIGHTER":"NONE"},t)},D=p()(T()),N=p()(I()),U=p()(k()),F=p()(P()),V={position:"relative",left:"6px"},H=function(e){return{followCollectionMutation:function(e){var t=Object(d.d)(D),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,viewerIsFollowing:!0,isUserSubscribedToCollectionEmails:!1}}})}),[e])}(e),unfollowCollectionMutation:function(e){var t=Object(d.d)(N),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,viewerIsFollowing:!1}}})}),[e])}(e),subscribeCollectionEmailsMutation:function(e){var t=Object(d.d)(U),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{subscribeCollectionEmails:{__typename:"Collection",id:e.id,isUserSubscribedToCollectionEmails:!0}}})}),[e])}(e),unsubscribeCollectionEmailsMutation:function(e){var t=Object(d.d)(F),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{unsubscribeCollectionEmails:{__typename:"Collection",id:e.id,isUserSubscribedToCollectionEmails:!1}}})}),[e])}(e)}},z=function(e){var t=Object(C.useCx)(),n=Object(b.f)((function(e){return e.config.isAmp})),r=e.collection,s=e.post,i=r&&r.name?r.name:"",c=Object(O.c)(),u=Object(w.d)(),d=f.useState(!!e.isPopoverVisible),m=l()(d,2),p=m[0],_=m[1],P=f.useState(!!e.isToastVisible),k=l()(P,2),I=k[0],T=k[1],R=H(r),A=R.followCollectionMutation,L=R.unfollowCollectionMutation,M=R.subscribeCollectionEmailsMutation,D=R.unsubscribeCollectionEmailsMutation,N=f.useCallback((function(){_(!1)}),[]);f.useEffect((function(){return j.a.on("scroll",N),function(){j.a.off("scroll",N)}}),[N]);var U=f.useCallback((function(){r.viewerIsFollowing||(c.event("collection.followed",{collectionId:r.id,followSource:u}),A()),_(!0)}),[r]),F=f.useCallback((function(){c.event("collection.unfollowed",{collectionId:r.id,followSource:u}),L(),_(!1)}),[]),z=f.useCallback((function(){_(!1)}),[]),W=f.useCallback((function(e){c.event("client.action",{action:"toggle-subscribe-collection-emails",eventType:"click",classAttribute:"checkbox"}),e.target.checked?M():D(),T(!0)}),[]),$=f.useCallback((function(){T(!1)}),[]);if(n)return null;if(e.simpleButton)return q(r,e,U,F);var K=!!r.isUserSubscribedToCollectionEmails;return f.createElement(f.Fragment,null,f.createElement(x.w,{isVisible:!!p,hide:z,popoverRenderFn:function(){return f.createElement(x.b,{width:"280px",display:"flex",flexDirection:"column"},f.createElement(B,{extraTopPadding:!0},f.createElement(y.b,{scale:"XS"},"You‘re following ",i)),f.createElement(B,null,f.createElement(x.d,null,"You‘ll now see more stories from ",i," across Medium.")),r.canToggleEmail&&f.createElement(B,null,f.createElement(x.d,null,f.createElement("label",null,f.createElement(x.b,{display:"inline",marginRight:"5px"},f.createElement("input",{type:"checkbox",onChange:W,checked:K})),"Receive emails from this publication"))),f.createElement(B,{extraBottomPadding:!0},f.createElement(x.d,null,f.createElement(x.t,{onClick:F,linkStyle:"OBVIOUS",inline:!0},"Unfollow publication"))))}},f.createElement((function(e){var t=e.buttonSize,n=void 0===t?"SMALL":t,i=a()(e,["buttonSize"]);return f.createElement(g.b,null,(function(t){return t?f.createElement(x.c,o()({size:n,onClick:U},i),e.children):f.createElement(v.a,o()({collection:r,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:n,operation:"register",actionUrl:G(r,s)},i),e.children)}))}),{buttonSize:e.buttonSize,buttonStyle:r.viewerIsFollowing?"STRONG":"OBVIOUS"},r.viewerIsFollowing?"Following":"Follow",r.viewerIsFollowing&&f.createElement("span",{className:t(V)},f.createElement(S.a,null)))),f.createElement(h.b,null,f.createElement(E.a,{isVisible:!!I,hide:$,duration:2e3},f.createElement(x.d,null,K?"You‘ll now receive emails from ".concat(i,"."):"You‘ll no longer receive emails from ".concat(i,".")))))},G=function(e,t){return e.slug&&(t&&t.id?Object(_.Rb)(e.slug,t.id):Object(_.Qb)(e.slug))},q=function(e,t,n,r){return f.createElement(g.b,null,(function(o){return o?f.createElement(x.c,{size:"REGULAR",onClick:e.viewerIsFollowing?r:n,buttonStyle:e.viewerIsFollowing?"STRONG":"OBVIOUS"},e.viewerIsFollowing?"Following":"Follow"):f.createElement(v.a,{collection:e,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:G(e,t)},e.viewerIsFollowing?"Following":"Follow")}))}},"./src/components/collection/CollectionLogo.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/collection/auroraHooks.ts"),c=n("./src/components/ui/image/index.ts"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/design-system/type/useTypeRules.ts"),m=n("./src/framework/style/index.ts"),p=n("./src/schema-types/globalTypes.ts"),f=n("./src/util/miroImage.ts");function b(){var e=o()(["\n  fragment CollectionLogo_image on ImageMetadata {\n    id\n    originalHeight\n    originalWidth\n  }\n"]);return b=function(){return e},e}function g(){var e=o()(["\n  fragment CollectionLogo_collection on Collection {\n    ...auroraHooks_collection\n    name\n    isAuroraVisible\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function h(e){var t=e.clamp,n=void 0===t?1:t,r=e.collection,o=e.maxWidth,s=e.maxHeight,a=e.textScale,b=void 0===a?"S":a,g=e.withTextColorSubtle,h=void 0!==g&&g,v=e.customNameColor,x=e.customLogoImage,E=e.nameTreatment,y=Object(m.useCx)(),O=Object(d.a)({name:"heading",scale:b,clamp:n}),w=function(e,t){return function(n){return{color:t||n.baseColor.text[e]}}}(h?"normal":"dark",v),C=Object(l.f)(r)&&void 0!==x?x:r.logo;if(!C||!C.id||E===p.k.NAME_TREATMENT_TEXT)return i.createElement("span",{className:y([O,w])},r.name||"");var j=C.id,S=C.originalWidth||100,_=C.originalHeight||100;if(o&&S>o){var P=S/o;S=Math.floor(S/P),_=Math.floor(_/P)}if(s&&_>s){var k=_/s;S=Math.floor(S/k),_=Math.floor(_/k)}return i.createElement(u.b,{width:"".concat(S,"px"),height:"".concat(_,"px")},i.createElement(c.b,{miroId:j,alt:r.name||"Publication logo",width:S,height:_,strategy:f.a.Resample}))}var v=a()(g(),l.a);a()(b())},"./src/components/collection/CollectionMetabar.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return Z})),n.d(t,"c",(function(){return ee}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/@babel/runtime/helpers/extends.js"),f=n.n(p),b=n("./src/components/collection/CollectionLogo.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/Type.tsx"),v=n("./src/framework/style/index.ts"),x=n("./src/styles/breakpoints.ts");function E(){var e=o()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return E=function(){return e},e}var y=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},a()(t,x.sm(e),{display:"none"}),a()(t,"marginTop","".concat(20,"px")),a()(t,"paddingTop","".concat(20,"px")),a()(t,"height","".concat(80,"px")),t},O={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},w=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function C(e){var t=e.navItems,n=e.withTextColorSubtle,r=Object(v.useCx)(),o=Object(v.useTheme)();return t?d.createElement("ul",{className:r(y)},t.map((function(e,t){return e.url&&d.createElement(d.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&d.createElement("span",{className:r(w)}),d.createElement("li",{className:r(O)},d.createElement(h.a,{fontConfig:o.newFonts.detail,scale:"S",tag:"span",additionalRules:(s=n?"lighter":"normal",function(e){return{color:e.baseColor.text[s],textTransform:"uppercase",letterSpacing:"1px"}})},d.createElement(g.t,{href:e.url},e.title))));var s}))):null}var j=u()(E()),S=n("./src/components/navigation/Anchor.tsx"),_=n("./src/framework/design-system/typedefs/responsiveStyles.ts"),P=n("./src/util/routes.ts"),k=n("./src/util/theme.ts");function I(){var e=o()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var T=u()(I(),j,b.b,P.G,k.b),R=Object(m.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.collection,n=e.currentLocation,r=e.shouldShowCollectionLogo,o=void 0===r||r,s=e.withBorderTop,i=void 0!==s&&s,l=e.withTextColorSubtle,c=void 0!==l&&l,u=e.breakpoint,m=void 0===u?_.a.sm:u,p=t.navItems.slice().length>0;return d.createElement(g.b,f()({backgroundColor:"BACKGROUND",display:p?"block":"none",borderTop:i?"BASE_LIGHTER":"NONE"},a()({},m,{display:"block"})),d.createElement(g.v,null,d.createElement(g.b,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},o?d.createElement(g.b,{flexShrink:"0",marginRight:"40px"},d.createElement(S.a,{href:Object(P.F)(t,n)},d.createElement(b.a,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:c}))):null,d.createElement(g.b,{flexShrink:"1",overflow:"auto"},d.createElement(C,{navItems:t.navItems,withTextColorSubtle:c})))))})),A=n("./src/components/metabar/Logo.tsx"),L=n("./src/components/metabar/MetabarActions.tsx"),M=n("./src/components/metabar/MetabarActionsLO.tsx"),B=n("./src/components/metabar/OpenInApp.tsx"),D=n("./src/components/metabar/constants.ts"),N=n("./src/components/session/WithViewer.tsx"),U=n("./src/styles/zIndex.ts");function F(){var e=o()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_collection\n  }\n  ","\n  ","\n  ","\n"]);return F=function(){return e},e}var V=u()(F(),b.b,P.G,L.a),H=Object(m.c)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.authDomain,n=e.collection,r=e.currentLocation,o=e.isAmp,s=e.post,i=e.shouldShowCollectionLogo,l=e.withMonogramDark,c=e.setIsMetabarLocked,u=e.breakpoint,m=void 0===u?_.a.sm:u,p=e.hideOpenInAppLink,h=void 0!==p&&p;return d.createElement(g.b,{backgroundColor:"BACKGROUND"},d.createElement(g.v,null,d.createElement(g.b,f()({display:"flex",alignItems:"center",height:"".concat(D.a,"px")},a()({},m,{display:"flex",height:"".concat(D.c,"px")})),d.createElement(g.b,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:U.a.metabar},d.createElement(S.a,{href:"https://".concat(t,"/"),"aria-label":"Homepage"},d.createElement(A.a,{dark:l})),i&&d.createElement(d.Fragment,null,d.createElement(g.b,f()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},a()({},m,{display:"none"}))),d.createElement(g.b,a()({},m,{display:"none"}),d.createElement(S.a,{href:Object(P.F)(n,r)},d.createElement(b.a,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"})))),d.createElement(N.b,null,(function(e){return!h&&e?d.createElement(B.a,{postId:s&&s.id,collectionSlug:n.slug}):d.createElement(d.Fragment,null)}))),d.createElement(g.b,{flexGrow:"0",zIndex:U.a.metabar},o?d.createElement(M.a,{withoutConversionButton:!0,post:s,collectionSlug:n&&n.slug||null}):d.createElement(L.c,{post:s,collection:n,withoutConversionButton:!0,setIsMetabarLocked:c,collectionSlug:n&&n.slug||null})))))})),z=n("./src/components/collection/auroraHooks.ts"),G=n("./src/components/metabar/MetabarLayout.tsx"),q=n("./src/components/session/useFlag.tsx"),W=n("./src/metadata/Favicon.tsx");function $(){var e=o()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    colorBehavior\n    isAuroraPilot\n    isAuroraVisible\n    favicon {\n      id\n    }\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...auroraHooks_collection\n    ...collectionDefaultBackgroundTheme_collection\n    ...collectionTintBackgroundTheme_collection\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $=function(){return e},e}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){return D.a+(e?D.b:0)}function X(e){return D.c+(e?D.b:0)}function Q(e){var t,n=e.post,r=e.collection,o=e.isAmp,s=e.isFixed,a=e.behavior,i=e.shouldShowBottomMetabar,c=void 0===i||i,u=e.hideOpenInAppLink,p=Object(v.useTheme)(),f=d.useState(!1),b=l()(f,2),h=b[0],x=b[1],E=d.useState(!1),y=l()(E,2),O=y[0],w=y[1],C=Object(m.f)((function(e){return e.client.isNativeMedium})),j="ACCENT_COLOR"===r.colorBehavior,S=r.navItems&&r.navItems.length>0,_=c&&S,P=!(_||O),I=j||_||O,T=!!Object(q.a)("make_nav_sticky"),A=Object(z.c)(r),L=T&&O;if(d.useEffect((function(){window.innerWidth<p.breakpoints.md&&w(!0)}),[]),C)return null;var M=c&&d.createElement(g.F,{theme:j?Object(k.d)(r,p,A):Object(k.g)(r,p,A)},d.createElement(R,{collection:r,withBorderTop:j,withTextColorSubtle:j}));return d.createElement(d.Fragment,null,d.createElement(G.a,{height:Y(S&&c),heightSm:X(!L&&c),isFixed:L||s,isLocked:L||h,behavior:a,marginBottom:0,marginBottomSm:0},d.createElement(W.a,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),d.createElement(g.F,{theme:I?Object(k.d)(r,p,A):Object(k.g)(r,p,A)},d.createElement(H,{post:n,collection:r,isAmp:o,shouldShowCollectionLogo:P,withMonogramDark:I,setIsMetabarLocked:x,hideOpenInAppLink:u})),!L&&M),L&&M)}function J(e){var t,n=e.post,r=e.collection,o=e.isAmp,s=e.isFixed,i=e.behavior,c=e.shouldShowCollectionLogo,u=void 0===c||c,p=e.shouldShowBottomMetabar,f=void 0===p||p,b=e.hideOpenInAppLink,h=Object(v.useTheme)(),x=Object(z.c)(r),E=!!Object(q.a)("make_nav_sticky"),y="ACCENT_COLOR"===r.colorBehavior,O=y?Object(k.d)(r,h,x):Object(k.g)(r,h,x),w=d.useState(!1),C=l()(w,2),j=C[0],S=C[1],P=E&&j,I=y?"#E5E5E5":O.baseColor.border.light,T=d.useState(!1),A=l()(T,2),L=A[0],M=A[1],B=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{navItems:[]}),D=B.navItems&&B.navItems.length>0,N=f&&(u||D),U=Object(m.f)((function(e){return e.client.isNativeMedium}));if(d.useEffect((function(){window.innerWidth<h.breakpoints.md&&S(!0)}),[]),U)return null;var F=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:.4}},V=d.createElement(R,{collection:B,shouldShowCollectionLogo:u,withBorderTop:y,withTextColorSubtle:y,breakpoint:_.a.xs});return d.createElement(d.Fragment,null,d.createElement(G.a,{borderColor:I,height:Y(D&&f),heightSm:X(!P&&u&&f),isFixed:P||s,isLocked:P||L,behavior:i,marginBottom:0,marginBottomSm:0,breakpoint:_.a.xs},d.createElement(W.a,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),d.createElement(g.F,{theme:O},d.createElement(g.b,{backgroundColor:"BACKGROUND"},d.createElement(H,{post:n,collection:B,isAmp:o,shouldShowCollectionLogo:u&&(!D||!f),withMonogramDark:!y,setIsMetabarLocked:M,breakpoint:_.a.xs,hideOpenInAppLink:b}),N&&!y?d.createElement(v.WithCx,null,(function(e){return d.createElement("div",{className:e(F)})})):null,!P&&N&&V))),P&&N&&d.createElement(g.F,{theme:O},d.createElement(g.b,{backgroundColor:"BACKGROUND"},V)))}function Z(e){return e.collection.isAuroraPilot||e.collection.isAuroraVisible?d.createElement(J,e):d.createElement(Q,e)}var ee=u()($(),V,T,z.a,k.e,k.h)},"./src/components/collection/auroraHooks.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/components/session/useFlag.tsx");function l(){var e=o()(["\n  fragment auroraHooks_collection on Collection {\n    isAuroraEligible\n    isAuroraVisible\n    viewerIsEditor\n  }\n"]);return l=function(){return e},e}var c=function(e){return!!Object(i.a)("enable_orion")&&!!e&&e.isAuroraEligible},u=function(e){return!!Object(i.a)("enable_icelandic_truncated_posts")&&!!e&&e.isAuroraEligible},d=function(e){return!!Object(i.a)("enable_aurora_post_page")&&!!e&&e.isAuroraVisible},m=function(e){return!!Object(i.a)("enable_theme_editor")&&!!e&&(e.isAuroraVisible||e.isAuroraEligible&&e.viewerIsEditor)},p=function(e){var t=m(e);return!!Object(i.a)("enable_high_contrast_pub_theme")||t},f=a()(l())},"./src/components/collection/package/TruncatedPostCard.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return ke}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),f=n.n(p),b=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),g=n("./node_modules/react-redux/es/index.js"),h=n("./src/components/mutations/DeletePostMutation.tsx"),v=n("./src/components/mutations/SetPinnedAtMutation.tsx"),x=n("./src/components/post/footer/actions/PubStatusMutations.tsx"),E=n("./src/components/ui/PopoverMenu.tsx"),y=n("./src/framework/design-system/components/index.ts"),O=n("./src/framework/style/index.ts"),w=n("./src/svg/overflow-dots-filled-25px.svg"),C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){(0,o.value)()}}catch(e){n=!0,r=e}finally{try{e||null==s.return||s.return()}finally{if(n)throw r}}}},j=n("./src/util/hooks/useToggle.tsx"),S=n("./src/util/routes.ts");function _(){var e=o()(["\n  fragment TruncatedPostCardEditorWriterButton_post on Post {\n    id\n    pinnedAt\n    collection {\n      id\n      name\n      slug # Needed for rejectPostFromPub (not currently exposed as a reusable fragment)\n    }\n  }\n"]);return _=function(){return e},e}var P=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},k=function(e){var t=e.post,n=e.isEditor,r=e.isWriter,o=Object(O.useCx)(),s=Object(g.f)((function(e){return e.config.authDomain})),i=t.id,l=t.collection,c=t.pinnedAt,u=l||{id:"",name:""},m=u.id,p=u.name,_=Object(j.a)(!1),k=f()(_,3),I=k[0],T=k[1],R=k[2],A=Object(b.d)(v.a),L=f()(A,1)[0],M=d.useCallback((function(){R(),L({variables:{postId:i,collectionId:m,pinnedAt:!c}}).then((function(){return window.location.reload()}))}),[i,m,R,c,L]),B=Object(x.b)(t),D=Object(j.a)(!1),N=f()(D,3),U=N[0],F=N[1],V=N[2],H=d.useCallback((function(){B(l).then((function(){return window.location.reload()}))}),[m,B]),z=Object(h.a)(i),G=f()(z,1)[0],q=Object(j.a)(!1),W=f()(q,3),$=W[0],K=W[1],Y=W[2],X=d.useCallback((function(){G().then((function(){return window.location.reload()}))}),[G]);if(!m)return null;var Q={buttonStyle:"ERROR",cancelText:"Cancel"};return d.createElement(d.Fragment,null,d.createElement(y.h,a()({},Q,{isVisible:U,onConfirm:H,hide:V,titleText:"Remove story from ".concat(p),confirmText:"Remove"}),"This will remove this story from the publication. Are you sure?"),d.createElement(y.h,a()({},Q,{isVisible:$,onConfirm:X,hide:Y,titleText:"Delete",confirmText:"Delete"}),"Deleted stories are gone forever. Are you sure?"),d.createElement(y.w,{hide:R,isVisible:I,popoverRenderFn:function(){return d.createElement(E.a,null,n&&d.createElement(E.b,null,d.createElement(y.t,{onClick:M},c?"Unpin":"Pin"," story")),d.createElement(E.b,null,d.createElement(y.t,{href:Object(S.ub)(s,i)},"Edit story")),d.createElement(E.c,null),d.createElement(E.b,null,d.createElement(y.t,{href:Object(S.yb)(s,i)},"Story settings")),d.createElement(E.b,null,d.createElement(y.t,{href:Object(S.vc)(s,i)},"View stats")),d.createElement(E.c,null),d.createElement(E.b,null,d.createElement(y.t,{onClick:F},"Remove story from publication")),r&&d.createElement(E.b,null,d.createElement(y.t,{onClick:C(R,K)},"Delete story")))}},d.createElement(y.t,{onClick:T},d.createElement(w.a,{className:o(P)}))))},I=u()(_()),T=n("./src/components/mutations/UserBlockMutation.tsx"),R=n("./src/components/mutations/UserReportStoryMutation.tsx"),A=n("./src/components/mutations/UserUnblockMutation.tsx"),L=n("./src/components/mute/useMute.tsx"),M=n("./src/components/session/useFlag.tsx"),B=n("./src/components/user/UserBlockConfirmDialog.tsx"),D=n("./src/components/user/UserReportStoryDialog.tsx");function N(){var e=o()(["\n  fragment TruncatedPostCardReaderButton_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n      isBlocking\n      isMuting\n    }\n  }\n"]);return N=function(){return e},e}var U=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},F=function(e){var t,n=e.post,r=e.viewer,o=Object(O.useCx)(),s=n.creator,a=n.id,i=s||{},l=i.id,c=i.isMuting,u=i.isBlocking,m=null===(t=n.collection)||void 0===t?void 0:t.id,p=Object(j.a)(!1),b=f()(p,3),g=b[0],h=b[1],v=b[2],x=Object(M.a)("enable_mute"),S=Object(L.a)(l,m),_=S.muteAuthor,P=S.unmuteAuthor,k=Object(j.a)(!1),I=f()(k,3),N=I[0],F=I[1],V=I[2],H=Object(j.a)(!1),z=f()(H,3),G=z[0],q=z[1],W=z[2];return m&&l?d.createElement(d.Fragment,null,d.createElement(R.a,{targetAuthorId:l,targetPostId:a,isBlocking:u,onOptimisticComplete:W},(function(e){var t=e.mutate;return d.createElement(D.a,{onSubmit:t,isVisible:G,hide:W})})),u?null:d.createElement(T.a,{targetUserId:l,viewerId:r.id,onCompleted:V},(function(e){var t=e.mutate;return d.createElement(B.a,{onConfirm:t,isVisible:N,hide:V})})),d.createElement(y.w,{hide:v,isVisible:g,popoverRenderFn:function(){return d.createElement(E.a,null,x&&d.createElement(E.b,null,d.createElement(y.t,{onClick:C(v,c?P:_)},c?"Unmute":"Mute"," this author")),d.createElement(E.b,null,u?d.createElement(A.a,{targetUserId:l,viewerId:r.id},(function(e){var t=e.mutate;return d.createElement(y.t,{onClick:C(v,t)},"Unblock this author")})):d.createElement(y.t,{onClick:C(v,F)},"Block this author")),d.createElement(E.b,null,d.createElement(y.t,{onClick:C(v,q)},"Report this story")))}},d.createElement(y.t,{onClick:h},d.createElement(w.a,{className:o(U)})))):null},V=u()(N()),H=n("./src/components/session/useViewer.tsx");function z(){var e=o()(["\n  fragment TruncatedPostCardOverflowButton_post on Post {\n    collection {\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n    ...TruncatedPostCardEditorWriterButton_post\n    ...TruncatedPostCardReaderButton_post\n  }\n  ","\n  ","\n"]);return z=function(){return e},e}var G,q=function(e){var t,n,r=e.post,o=Object(H.b)(),s=!!(null===(t=r.collection)||void 0===t?void 0:t.viewerIsEditor),a=(null==o?void 0:o.id)===(null===(n=r.creator)||void 0===n?void 0:n.id);return o?s||a?d.createElement(k,{post:r,isEditor:s,isWriter:a}):d.createElement(F,{post:r,viewer:o}):null},W=u()(z(),I,V),$=n("./src/components/collection/package/interim-components/CardByline.tsx"),K=n("./src/components/collection/package/moduleHelpers.ts"),Y=n("./src/components/collection/package/packageTheme.ts"),X=n("./src/components/sequence/NormalizeSequenceBodyModel.ts"),Q=n("./src/schema-types/globalTypes.ts");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.None=0]="None",e[e.MidParagraph=1]="MidParagraph",e[e.PreviousParagraph=2]="PreviousParagraph"}(G||(G={}));var ee=function(e,t){var n;return t?Z({},e,{markups:[{anchorType:Q.b.LINK,type:Q.j.A,start:0,end:(null==e||null===(n=e.text)||void 0===n?void 0:n.length)||0,href:t,userId:null,linkMetadata:null}]}):e},te=function(e,t){var n=Object(X.e)(e).titleIndex;return e.map((function(e,r){return r===n?ee(e,t):e}))};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re=m.a.createElement("path",{d:"M18.77 6.72l-1.4 1.4V2.98A2.98 2.98 0 0 0 14.39 0H8.63a.72.72 0 0 0 0 1.44h5.76a1.54 1.54 0 0 1 1.54 1.54v5.14l-1.4-1.4a.72.72 0 0 0-1 1.01l2.62 2.63.1.09h.07l.06.04h.56l.06-.04h.06l.1-.08 2.63-2.64a.72.72 0 0 0-1.02-1zM1.24 3.85l1.4-1.4v5.14a2.98 2.98 0 0 0 2.98 2.98h5.97a.72.72 0 1 0 0-1.44H5.62A1.54 1.54 0 0 1 4.08 7.6V2.45l1.4 1.4a.72.72 0 1 0 1-1.01L3.87.2l-.1-.09H3.7L3.63.08h-.56L3 .12h-.04l-.1.09L.22 2.84a.72.72 0 0 0 1 1.03l.02-.02z",fill:"#292929"}),oe=function(e){return m.a.createElement("svg",ne({width:20,height:11,viewBox:"0 0 20 11",fill:"none"},e),re)};function se(){var e=o()(["\n  fragment RepostingButton_post on Post {\n    id\n  }\n"]);return se=function(){return e},e}var ae=u()(se()),ie=function(e){var t=e.post.id,n=Object(g.f)((function(e){return e.config.authDomain})),r=Object(S.lb)(n,t);return d.createElement(y.t,{href:r},d.createElement(oe,null))},le=n("./src/components/post/body/PostBody.tsx"),ce=n("./src/components/post/bookmark/index.ts"),ue=n("./src/components/post/footer/PostFooterSocialPopover.tsx"),de=n("./src/components/post/multivote/MultiVote.tsx"),me=n("./src/components/responses/ResponsesIconButton.tsx"),pe=n("./src/components/user/UserAvatar.tsx"),fe=n("./src/framework/design-system/type/index.ts"),be=n("./src/framework/source/index.ts"),ge=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx"),he=n("./src/util/numbers.ts");function ve(){var e=o()(["\n  fragment TruncatedPostCard_post on Post {\n    id\n    creator {\n      ...TruncatedPostCard_user\n    }\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 150\n        minimumWordLengthForTruncation: 300\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n      }\n    ) {\n      bodyModel {\n        ...TruncatedPostCard_bodyModel\n      }\n      isFullContent\n    }\n    firstPublishedAt\n    isLocked\n    isShortform\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    title\n    ...TruncatedPostCardOverflowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...PostFooterSocialPopover_post\n    ...BookmarkButton_post\n    ...RepostingButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ve=function(){return e},e}function xe(){var e=o()(["\n  fragment TruncatedPostCard_user on User {\n    name\n    ...UserAvatar_user\n  }\n  ","\n"]);return xe=function(){return e},e}function Ee(){var e=o()(["\n  fragment TruncatedPostCard_bodyModel on RichText {\n    ...PostBody_bodyModel\n  }\n  ","\n"]);return Ee=function(){return e},e}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Ce={xs:{marginTop:"32px"},sm:{marginTop:"32px"},md:{marginTop:"40px"},lg:{marginTop:"40px"},xl:{marginTop:"40px"}},je={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},Se=function(e){var t,n,r,o=e.excludeMargin,s=void 0!==o&&o,i=e.isFirst,l=void 0!==i&&i,c=e.post,u=e.withPackageThemeColors,m=void 0===u||u,p=Object(O.useTheme)(),f=Object(O.useCx)(),b=Object(M.a)("enable_reposting"),g=Object(Y.f)().theme.colors.primaryTextAccentColor,h=Object(ge.a)(),v=(null==c||null===(t=c.postResponses)||void 0===t?void 0:t.count)||0,x=c.clapCount,E=c.creator,w=c.isLocked,C=c.isShortform,j=c.mediumUrl,_=c.firstPublishedAt,P=c.readingTime,k="".concat(Object(he.e)(P||0)," min read"),I=null==c||null===(n=c.extendedPreviewContent)||void 0===n?void 0:n.bodyModel;if(!I)return null;var T=Oe({},I,{paragraphs:te(I.paragraphs,j)}),R=m?Oe({},p,{},Object(K.a)(p,g)):p,A=!(null==c||null===(r=c.extendedPreviewContent)||void 0===r?void 0:r.isFullContent),L=!l&&d.createElement("hr",{className:f(we)}),B=l?Ce:je;return d.createElement(y.b,a()({boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},s?{}:B),d.createElement(y.v,{size:s?"full":"inset"},L,d.createElement(y.b,{marginTop:L?"24px":void 0},E&&E.name&&E.username&&d.createElement(y.F,{theme:R},d.createElement($.a,{avatar:d.createElement(pe.d,{user:E,scale:"XXS",link:!0,withHalo:!0}),author:E.name,authorHref:Object(S.lc)(E.username),href:j||void 0,isOneLine:!0,publishedAt:_,showStar:!!w&&!C})),d.createElement(y.b,{marginTop:"24px"},d.createElement(le.f,{bodyModel:T,richTextStyle:"CARD"}))),A&&j&&d.createElement(y.b,{marginTop:"34px"},d.createElement(y.t,{href:j},d.createElement(y.F,{theme:R},d.createElement(fe.a,{color:"ACCENT",scale:"M"},"Read more ",k?" · ".concat(k):"")))),c&&d.createElement(y.b,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"36px"},d.createElement(y.b,{display:"flex",alignItems:"center"},d.createElement(be.b,{source:{susiEntry:"clap_preview"},extendSource:!0},d.createElement(de.a,{post:c,buttonStyle:"SUBTLE",shouldShowResponsiveLabelText:!0,hasDialog:!0})),h&&d.createElement(y.b,{display:"flex",alignItems:"center",xl:{marginLeft:x?"24px":"12px"},lg:{marginLeft:x?"24px":"12px"},md:{marginLeft:x?"16px":"8px"},sm:{marginLeft:x?"16px":"8px"},xs:{marginLeft:x?"16px":"8px"},paddingTop:"3px"},d.createElement(y.t,{href:j+"?responsesOpen=true"},d.createElement(me.a,{location:"preview",postId:c.id,responsesCount:v,setIsResponsesSidebarVisible:function(){},allowResponses:c.allowResponses,isLimitedState:c.isLimitedState})))),d.createElement(y.b,{display:"flex",alignItems:"center",justifyContent:"flex-end"},b&&d.createElement(y.b,{marginRight:"12px"},d.createElement(ie,{post:c})),d.createElement(y.b,{marginRight:"12px"},d.createElement(ue.a,{post:c,source:{name:"collection_home"}})),d.createElement(y.b,{marginRight:"12px"},d.createElement(ce.a,{post:c})),d.createElement(q,{post:c})))))},_e=u()(Ee(),le.a),Pe=u()(xe(),pe.b),ke=u()(ve(),_e,Pe,W,de.b,me.b,ue.b,ce.b,ae)},"./src/components/collection/package/collectionIdToNameMaps.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={"standard.dev:8080":{"62cd982de8d4":"gen","504c53fa76fb":"level",fa6fc47570d7:"onezero","1cc8061583f5":"zora","9a23b344dad1":"vanilla"},"hatch.dm":{"9d578d280b62":"level",a5430dacbfe:"gen","920465cb4905":"onezero",c30162111b49:"zora",f622191829f2:"vanilla"},"medium.com":{ae2a65f35510:"gen","88d9857e584e":"level","444d13b52878":"onezero","8ccfed20cbb2":"zora","8a9336e5bb4":"vanilla","9dc80918cc93":"vanilla"}},o=function(e,t){return r[e][t]||"vanilla"}},"./src/components/collection/package/header/MetaHeader.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return pe})),n.d(t,"c",(function(){return fe}));var r,o,s,a,i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/extends.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),f=n.n(p),b=n("./node_modules/graphql-tag/src/index.js"),g=n.n(b),h=n("./node_modules/react/index.js"),v=n("./node_modules/react-helmet-async/lib/index.module.js"),x=n("./node_modules/react-redux/es/index.js"),E=n("./src/components/collection/CollectionFollowButton.tsx"),y=n("./src/components/collection/CollectionLogo.tsx"),O=n("./src/components/collection/auroraHooks.ts"),w=n("./src/components/collection/package/header/calculateLogoDimensions.ts"),C=n("./src/components/collection/theming/customStyleSheet.ts"),j=n("./src/components/metabar/Logo.tsx"),S=n("./src/components/metabar/MetabarActions.tsx"),_=n("./src/components/metabar/MetabarActionsLO.tsx"),P=n("./src/components/metabar/OpenInApp.tsx"),k=n("./src/components/metabar/constants.ts"),I=n("./src/components/navigation/Anchor.tsx"),T=n("./src/components/session/useFlag.tsx"),R=n("./src/components/session/useViewer.tsx"),A=n("./src/components/ui/image/index.ts"),L=n("./src/framework/design-system/components/index.ts"),M=n("./src/framework/design-system/type/useTypeRules.ts"),B=n("./src/framework/source/index.ts"),D=n("./src/framework/style/index.ts"),N=n("./src/metadata/Favicon.tsx"),U=n("./src/routes/RoutingContext.tsx"),F=n("./src/schema-types/globalTypes.ts"),V=n("./src/styles/colors.ts"),H=n("./src/styles/zIndex.ts"),z=n("./src/util/miroImage.ts"),G=n("./src/util/theme.ts");function q(){var e=l()(["\n  fragment MetaHeader_post on Post {\n    id\n    ...MetabarActions_post\n    ...MetabarActionsLO_post\n  }\n  ","\n  ","\n"]);return q=function(){return e},e}function W(){var e=l()(["\n  fragment MetaHeader_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        primary {\n          colorPalette {\n            tintBackgroundSpectrum {\n              ...ThemeUtil_colorSpectrum\n            }\n          }\n        }\n      }\n    }\n    header {\n      nameTreatment\n      taglineTreatment\n      headerScale\n      verticalAlignment\n      horizontalAlignment\n      logoScale\n      backgroundColor {\n        ...getHexFromStyleColor_colorValue\n        colorPalette {\n          ...collectionTintBackgroundTheme_colorPalette\n        }\n      }\n      backgroundColorDisplayMode\n      postBackgroundColor {\n        ...getHexFromStyleColor_colorValue\n        colorPalette {\n          ...collectionTintBackgroundTheme_colorPalette\n        }\n      }\n      backgroundImage {\n        id\n        originalHeight\n        originalWidth\n      }\n      backgroundImageDisplayMode\n      backgroundImageVerticalAlignment\n      logoImage {\n        id\n        originalHeight\n        originalWidth\n      }\n      nameColor {\n        ...getHexFromStyleColor_colorValue\n      }\n      taglineColor {\n        ...getHexFromStyleColor_colorValue\n      }\n      secondaryBackgroundColor {\n        ...getHexFromStyleColor_colorValue\n      }\n    }\n  }\n  ","\n  ","\n"]);return W=function(){return e},e}function $(){var e=l()(["\n  fragment MetaHeader_collection on Collection {\n    __typename\n    id\n    description\n    favicon {\n      id\n    }\n    shortDescription\n    slug\n    tagline\n    ...CollectionFollowButton_collection\n    ...CollectionLogo_collection\n    ...MetabarActions_collection\n    ...auroraHooks_collection\n    ...collectionDefaultBackgroundTheme_collection\n    ...getHasCustomBackgroundColor_collection\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $=function(){return e},e}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=F.e.HEADER_SCALE_MEDIUM,Q=F.e.HEADER_SCALE_LARGE,J={xs:"L",sm:"L",md:"L",lg:"XL",xl:"XL"},Z={xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},ee=function(e,t){return Object(z.d)({miroId:e.id,width:t||e.originalWidth||2e3,strategy:z.a.Resample,freezeGifs:!1})},te=function(e,t){var n,r,o,s,a,i,l,c,u,d,m,p=null!==(n=null==e||null===(r=e.header)||void 0===r?void 0:r.backgroundImageDisplayMode)&&void 0!==n?n:F.f.IMAGE_DISPLAY_MODE_FILL,b=t?F.d.COLOR_DISPLAY_MODE_SOLID:null!==(o=null==e||null===(s=e.header)||void 0===s?void 0:s.backgroundColorDisplayMode)&&void 0!==o?o:F.d.COLOR_DISPLAY_MODE_SOLID,g=t?Object(C.n)(null==e||null===(a=e.header)||void 0===a?void 0:a.postBackgroundColor):null,v=g?null:null==e||null===(i=e.header)||void 0===i?void 0:i.backgroundImage,x=(l=v,c=h.useState(""),u=f()(c,2),d=u[0],m=u[1],h.useEffect((function(){if(l){var e=new Image;e.onload=function(){return m((function(t){return t||e.src}))},e.src=ee(l,64);var t=new Image;t.onload=function(){return m(t.src)},t.src=ee(l)}}),[null==l?void 0:l.id]),d);return h.useMemo((function(){return function(t){var n,r,o=Object(C.n)(null==e||null===(n=e.header)||void 0===n?void 0:n.backgroundColor),s=Object(C.n)(null==e||null===(r=e.header)||void 0===r?void 0:r.secondaryBackgroundColor),a={display:"flex",flexDirection:"column"};if(v||b!==F.d.COLOR_DISPLAY_MODE_SOLID||(a.backgroundColor=g||o||t.backgroundColor),g)return a;var i=[];if(v&&b===F.d.COLOR_DISPLAY_MODE_SOLID?i.push("linear-gradient(to bottom, ".concat(o||"transparent",", ").concat(o||"transparent",")")):b===F.d.COLOR_DISPLAY_MODE_VERTICAL_GRADIENT&&i.push("linear-gradient(to bottom, ".concat(o||"transparent",", ").concat(s||"transparent",")")),v){var l,c;i.push("url(".concat(x,")"));var u=se[null!==(l=null==e||null===(c=e.header)||void 0===c?void 0:c.backgroundImageVerticalAlignment)&&void 0!==l?l:F.a.START];switch(a.backgroundPosition=u,p){case F.f.IMAGE_DISPLAY_MODE_FILL:a.backgroundSize="cover";break;case F.f.IMAGE_DISPLAY_MODE_TILE:a.backgroundRepeatX="repeat",a.backgroundRepeatY="repeat",a.backgroundSize="auto";break;case F.f.IMAGE_DISPLAY_MODE_FIT:a.backgroundRepeatX="no-repeat",a.backgroundRepeatY="no-repeat",a.backgroundSize="contain";break;case F.f.IMAGE_DISPLAY_MODE_AUTO:a.backgroundRepeatX="no-repeat",a.backgroundRepeatY="no-repeat",a.backgroundSize="auto"}}return i.length>0&&(a.backgroundImage=i.join(", ")),a}}),[e,x])},ne=(r={},m()(r,F.e.HEADER_SCALE_SMALL,"0px"),m()(r,F.e.HEADER_SCALE_MEDIUM,{xs:"254px",sm:"254px",md:"345px",lg:"345px",xl:"345px"}),m()(r,F.e.HEADER_SCALE_LARGE,{xs:"calc(100vh - 347px)",sm:"calc(100vh - 347px)",md:"calc(100vh - 189px)",lg:"calc(100vh - 189px)",xl:"calc(100vh - 189px)"}),r),re=(o={},m()(o,F.a.START,"flex-start"),m()(o,F.a.END,"flex-end"),m()(o,F.a.CENTER,"center"),o),oe=(s={},m()(s,F.a.START,"left"),m()(s,F.a.END,"right"),m()(s,F.a.CENTER,"center"),s),se=(a={},m()(a,F.a.START,"top"),m()(a,F.a.END,"bottom"),m()(a,F.a.CENTER,"center"),a),ae=function(e,t){var n,r,o=function(e){var n=ie(e.small,t),r=ie(e.large,t);return{width:{xs:"".concat(Math.floor(n.width),"px"),sm:"".concat(Math.floor(n.width),"px"),md:"".concat(Math.floor(r.width),"px"),lg:"".concat(Math.floor(r.width),"px"),xl:"".concat(Math.floor(r.width),"px")},height:{xs:"".concat(Math.floor(n.height),"px"),sm:"".concat(Math.floor(n.height),"px"),md:"".concat(Math.floor(r.height),"px"),lg:"".concat(Math.floor(r.height),"px"),xl:"".concat(Math.floor(r.height),"px")}}},s=(null!==(n=null==t?void 0:t.originalWidth)&&void 0!==n?n:0)/(null!==(r=null==t?void 0:t.originalHeight)&&void 0!==r?r:0);return s<=2.5?e===F.e.HEADER_SCALE_SMALL?o({small:{width:150,height:60},large:{width:250,height:100}}):e===F.e.HEADER_SCALE_MEDIUM?o({small:{width:220,height:88},large:{width:350,height:140}}):o({small:{width:280,height:128},large:{width:450,height:180}}):s<5?e===F.e.HEADER_SCALE_SMALL?o({small:{width:160,height:32},large:{width:240,height:48}}):e===F.e.HEADER_SCALE_MEDIUM?o({small:{width:280,height:56},large:{width:360,height:72}}):o({small:{width:280,height:64},large:{width:520,height:104}}):e===F.e.HEADER_SCALE_SMALL?o({small:{width:280,height:24},large:{width:320,height:32}}):e===F.e.HEADER_SCALE_MEDIUM?o({small:{width:280,height:40},large:{width:600,height:60}}):o({small:{width:280,height:60},large:{width:680,height:80}})},ie=function(e,t){var n,r,o,s,a=Math.min(e.width/(null!==(n=null==t?void 0:t.originalWidth)&&void 0!==n?n:0),e.height/(null!==(r=null==t?void 0:t.originalHeight)&&void 0!==r?r:0));return{width:a*(null!==(o=null==t?void 0:t.originalWidth)&&void 0!==o?o:0),height:a*(null!==(s=null==t?void 0:t.originalHeight)&&void 0!==s?s:0)}},le=function(e){var t,n=e.collection,r=e.collectionLogo,o=e.logoScale,s=e.nameTreatment,a=e.textScale,i=void 0===a?"S":a,l=e.withTextColorSubtle,c=void 0!==l&&l,u=e.customNameColor,d=Object(D.useCx)(),p=Object(M.a)({name:"heading",scale:i}),f=function(e,t){return function(n){return{color:t||n.baseColor.text[e]}}}(c?"normal":"dark",u),b=(t={},m()(t,F.e.HEADER_SCALE_SMALL,{fontSize:{xs:"36px",sm:"36px",md:"48px",lg:"48px",xl:"48px"},lineHeight:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}}),m()(t,F.e.HEADER_SCALE_MEDIUM,{fontSize:{xs:"48px",sm:"48px",md:"74px",lg:"74px",xl:"74px"},lineHeight:{xs:"56px",sm:"56px",md:"80px",lg:"80px",xl:"80px"}}),m()(t,F.e.HEADER_SCALE_LARGE,{fontSize:{xs:"74px",sm:"74px",md:"110px",lg:"110px",xl:"110px"},lineHeight:{xs:"80px",sm:"80px",md:"104px",lg:"104px",xl:"104px"}}),t)[null!=o?o:Q];if(!r||!r.id||s===F.k.NAME_TREATMENT_TEXT)return h.createElement("span",{className:d([p,f,b])},n.name||"");var g,v=r.id,x=ie((g=null!=o?o:Q)===F.e.HEADER_SCALE_SMALL?{width:240,height:48}:g===F.e.HEADER_SCALE_MEDIUM?{width:360,height:72}:g===F.e.HEADER_SCALE_LARGE?{width:520,height:104}:{width:0,height:0},r);return h.createElement(A.b,{miroId:v,alt:n.name||"Publication logo",width:x.width,height:x.height,strategy:z.a.Resample,rules:ae(null!=o?o:Q,r)})},ce=function(e,t){var n,r,o,s,a,i,l=null==e||null===(n=e.header)||void 0===n||null===(r=n.backgroundColor)||void 0===r||null===(o=r.colorPalette)||void 0===o?void 0:o.tintBackgroundSpectrum,c=null==e||null===(s=e.header)||void 0===s||null===(a=s.postBackgroundColor)||void 0===a||null===(i=a.colorPalette)||void 0===i?void 0:i.tintBackgroundSpectrum;return t&&c||l},ue=function(e,t,n){var r=ce(t,n);return!(Object(C.j)(e)||r)},de=function(e){var t,n,r,o,s,a,i,l,c,d,p,f,b,g,O,A,V=e.collection,z=e.customStyleSheet,G=e.post,q=e.forceSmall,W=void 0!==q&&q,$=W?F.e.HEADER_SCALE_SMALL:null!==(t=null==z||null===(n=z.header)||void 0===n?void 0:n.headerScale)&&void 0!==t?t:X,K=null!==(r=null==z||null===(o=z.header)||void 0===o?void 0:o.verticalAlignment)&&void 0!==r?r:F.a.CENTER,Y=null!==(s=null==z||null===(a=z.header)||void 0===a?void 0:a.horizontalAlignment)&&void 0!==s?s:F.a.START,se=!!Object(T.a)("enable_li_open_in_app"),ae=Object(x.f)((function(e){return e.config.authDomain})),ie=Object(x.f)((function(e){return e.config.isAmp})),ce=Object(R.b)(),de=ue(V,z,W),pe=Object(C.n)(null==z||null===(i=z.header)||void 0===i?void 0:i.taglineColor),fe=Object(C.n)(null==z||null===(l=z.header)||void 0===l?void 0:l.nameColor),be=null==z||null===(c=z.header)||void 0===c?void 0:c.logoImage,ge=null==z||null===(d=z.header)||void 0===d?void 0:d.logoScale,he=null==z||null===(p=z.header)||void 0===p?void 0:p.nameTreatment,ve=null==z||null===(f=z.header)||void 0===f?void 0:f.taglineTreatment,xe=(null==be?void 0:be.originalHeight)||0,Ee=(null==be?void 0:be.originalWidth)||0,ye=Object(w.a)("xs",xe,Ee),Oe=te(z,W),we=h.useMemo((function(){return function(e,t,n){return function(){return{display:"flex",flexGrow:"1",flexDirection:"column",overflow:"hidden",transition:"min-height 600ms",minHeight:ne[e],textAlign:oe[t],alignItems:re[t],justifyContent:re[n],paddingBottom:n===F.a.END?{xs:"24px",sm:"24px",md:"32px",lg:"32px",xl:"32px"}:null}}}($,Y,K)}),[$,Y,K]),Ce=(A=pe)?{color:A}:{},je=function(e){return{backgroundColor:de?"#E5E5E5":e.baseColor.fill.lighter,border:0,height:"1px",margin:0}},Se=Object(U.d)("ShowCollectionHome",V.slug?{collectionSlug:V.slug}:{}),_e=V.tagline&&ve===F.v.TAGLINE_TREATMENT_HEADER,Pe=Y!==F.a.START||_e,ke=Pe?"marginTop":"marginLeft",Ie=(b={},m()(b,F.e.HEADER_SCALE_LARGE,he===F.k.NAME_TREATMENT_TEXT?{xs:m()({},ke,"12px"),sm:m()({},ke,"12px"),md:m()({},ke,"18px"),lg:m()({},ke,"18px"),xl:m()({},ke,"18px")}:m()({},ke,"24px")),m()(b,F.e.HEADER_SCALE_MEDIUM,he===F.k.NAME_TREATMENT_TEXT?{xs:m()({},ke,"8px"),sm:m()({},ke,"8px"),md:m()({},ke,"12px"),lg:m()({},ke,"12px"),xl:m()({},ke,"12px")}:m()({},ke,"20px")),m()(b,F.e.HEADER_SCALE_SMALL,he===F.k.NAME_TREATMENT_TEXT?{xs:m()({},ke,"4px"),sm:m()({},ke,"4px"),md:m()({},ke,"8px"),lg:m()({},ke,"8px"),xl:m()({},ke,"8px")}:m()({},ke,"16px")),b)[null!=ge?ge:Q],Te={clamp:0,collection:V,textScale:J,withTextColorSubtle:de,customNameColor:fe,nameTreatment:he},Re=Object(M.a)({name:"subtitle",scale:Z,color:de?"LIGHTER":"DARKER"});return h.createElement(h.Fragment,null,h.createElement(N.a,{faviconImageId:null==V||null===(g=V.favicon)||void 0===g?void 0:g.id}),(null==z||null===(O=z.header)||void 0===O?void 0:O.backgroundImage)&&h.createElement(v.a,null,h.createElement("link",{rel:"preload",href:ee(z.header.backgroundImage),as:"image"}),h.createElement("link",{rel:"preload",href:ee(z.header.backgroundImage,64),as:"image"})),h.createElement(me,{collection:V,customStyleSheet:z,isForcedSmall:W},h.createElement(D.WithCx,null,(function(e){return h.createElement("div",{className:e(Oe)},h.createElement(L.v,null,h.createElement(L.b,{display:"flex",alignItems:"center",height:"".concat(k.a,"px"),sm:{display:"flex",height:"".concat(k.c,"px")}},h.createElement(L.b,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:H.a.metabar},h.createElement(I.a,{href:"https://".concat(ae,"/"),"aria-label":"Homepage"},h.createElement(j.a,{dark:de})),$===F.e.HEADER_SCALE_SMALL&&h.createElement(L.b,{display:"flex",alignItems:"center",sm:{display:"none"}},h.createElement(L.b,{marginTop:"1px",marginLeft:"16px",marginRight:"16px"},h.createElement(j.b,null)),h.createElement(I.a,{href:Se,"aria-label":"Collection homepage"},h.createElement(y.a,u()({},Te,{clamp:1,textScale:"M",maxHeight:35,maxWidth:ye.maxWidth,customLogoImage:be}))),h.createElement(L.b,{marginLeft:"16px"},h.createElement(B.b,{source:{susiEntry:"follow_header"},extendSource:!0},h.createElement(E.a,{buttonSize:"SMALL",collection:V})))),se&&ce?h.createElement(P.a,{postId:G&&G.id,collectionSlug:V.slug}):null),h.createElement(L.b,{flexGrow:"0",zIndex:H.a.metabar},ie?h.createElement(_.a,{withoutConversionButton:!0,post:G,collectionSlug:V&&V.slug||null}):h.createElement(S.c,{post:G,collection:V,withoutConversionButton:!0,setIsMetabarLocked:function(){},collectionSlug:V&&V.slug||null}))),$===F.e.HEADER_SCALE_SMALL&&h.createElement(L.b,{display:"none",sm:{display:"flex",alignItems:"center",height:"54px"}},h.createElement(I.a,{href:Se,"aria-label":"Collection homepage"},h.createElement(y.a,u()({},Te,{maxHeight:35,maxWidth:ye.maxWidth,customLogoImage:be,textScale:"M",clamp:1}))),h.createElement(L.b,{marginLeft:"16px",xs:{display:"none"}},h.createElement(B.b,{source:{susiEntry:"follow_header"},extendSource:!0},h.createElement(E.a,{buttonSize:"SMALL",collection:V})))),$!==F.e.HEADER_SCALE_SMALL&&h.createElement("div",{className:e(we)},h.createElement(L.b,{display:"flex",flexDirection:Pe?"column":"row",alignItems:Pe?re[Y]:"center"},h.createElement(le,{customNameColor:fe,nameTreatment:he,collection:V,collectionLogo:be,logoScale:ge}),_e&&h.createElement(L.b,{paddingTop:"8px"},h.createElement("span",{className:e([Re,Ce])},V.tagline)),h.createElement(L.b,u()({display:"flex",justifyContent:"space-between"},Ie),h.createElement(L.b,{display:"flex",alignItems:"center"},h.createElement(B.b,{source:{susiEntry:"follow_header"},extendSource:!0},h.createElement(E.a,{buttonSize:{xs:"SMALL",sm:"SMALL",md:"REGULAR",lg:"REGULAR",xl:"REGULAR"},collection:V}))))),h.createElement(L.b,{display:de?"block":"none"},h.createElement("hr",{className:e(je)})))))}))))},me=function(e){var t,n,r,o,s=e.collection,a=e.customStyleSheet,i=e.children,l=e.isForcedSmall,c=Object(D.useTheme)(),u=Object(O.c)(s),d=ce(a,l),m=ue(s,a,l),p=null==a||null===(t=a.global)||void 0===t||null===(n=t.colorPalette)||void 0===n||null===(r=n.primary)||void 0===r||null===(o=r.colorPalette)||void 0===o?void 0:o.tintBackgroundSpectrum,f=d?Object(G.t)({tint:d,accent:p},c):Object(G.d)(s,c,u),b=Y({},f,{baseColor:Y({},f.baseColor,{text:Y({},f.baseColor.text,{normal:m?"#292929":f.baseColor.text.normal,lighter:m?V.e:f.baseColor.text.lighter})})});return h.createElement(L.F,{theme:b},i)},pe=g()($(),E.b,y.b,S.a,O.a,G.e,C.k),fe=g()(W(),G.c,C.o);g()(q(),S.b,_.b)},"./src/components/collection/package/header/calculateLogoDimensions.ts":function(e,t,n){"use strict";function r(e,t,n){var r=n/t||0,o={xs:{maxHeight:32,maxWidth:320},md:{maxHeight:40,maxWidth:400},xl:{maxHeight:60,maxWidth:600}};return r<=2.5?o={xs:{maxHeight:50,maxWidth:125},md:{maxHeight:70,maxWidth:175},xl:{maxHeight:90,maxWidth:225}}:r<5&&(o={xs:{maxHeight:40,maxWidth:200},md:{maxHeight:50,maxWidth:250},xl:{maxHeight:70,maxWidth:350}}),o[e]}n.d(t,"a",(function(){return r}))},"./src/components/collection/package/interim-components/CardByline.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h}));var r=n("./node_modules/react/index.js"),o=n("./src/components/collection/package/interim-components/ClickableWrapper.tsx"),s=n("./src/components/format/Date.tsx"),a=n("./node_modules/date-fns/index.js");function i(e){var t=e.timestamp,n=Date.now(),r=Object(a.differenceInHours)(n,t);if(0===r)return"Just now";if(r>=1&&r<24)return"".concat(r," hour").concat(r>1?"s":""," ago");var o=Object(a.differenceInDays)(n,t);return o>=1&&o<7?"".concat(o," day").concat(o>1?"s":""," ago"):Object(s.a)({timestamp:t})}var l=n("./src/components/ui/Byline.tsx"),c=n("./src/framework/design-system/type/index.ts"),u=n("./src/framework/design-system/util/style/responsiveStyles.ts"),d=n("./src/framework/style/index.ts"),m=n("./src/svg/star-15px.svg"),p=function(e){return{fill:e.baseColor.fill.light,marginTop:"-2px",paddingLeft:"4px"}};function f(e,t){return t&&Object(u.b)(e)?e[t]:e}var b=function(e){var t=e.author,n=e.authorHref,s=e.forceSize,a=e.scale,i=void 0===a?"M":a;return t?r.createElement(o.a,{href:n},r.createElement(c.a,{color:"ACCENT",scale:f(i,s)},t)):null},g=function(e){var t=e.forceSize,n=e.isOneLine,a=e.href,l=e.publishedAt,u=e.scale,b=void 0===u?"M":u,g=e.showStar,h=void 0!==g&&g,v=e.timeColor,x=void 0===v?"LIGHTER":v,E=e.timeToRead,y=Object(d.useCx)();if(!l&&!E)return null;var O=n?i:s.a;return r.createElement(o.a,{href:a},r.createElement(c.a,{color:x,scale:f(b,t)},l?r.createElement(O,{timestamp:l}):null,l&&E?" · ":null,E||null,h&&r.createElement(m.a,{className:y(p)})))},h=function(e){var t=e.author,n=e.authorHref,o=e.avatar,s=void 0===o?null:o,a=e.forceSize,i=e.href,c=e.isOneLine,u=void 0!==c&&c,d=e.publishedAt,m=e.scale,p=e.showStar,f=void 0!==p&&p,h=e.timeColor,v=e.timeToRead;return r.createElement(l.a,{avatar:s,isOneLine:u,title:r.createElement(b,{author:t,authorHref:n,forceSize:a,scale:m}),description:r.createElement(g,{publishedAt:d,timeToRead:v,href:i,showStar:f,forceSize:a,scale:m,timeColor:h,isOneLine:u})})}},"./src/components/collection/package/interim-components/ClickableWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),s=function(e){var t=e.children,n=e.className,s=void 0===n?"":n,a=e.href;return a?r.createElement(o.f,{className:s,href:a},t):t}},"./src/components/collection/package/moduleHelpers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return x}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./src/util/miroImage.ts"),a=n("./src/util/numbers.ts"),i=n("./src/util/routes.ts");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){var r=e&&e.baseColor,o=r&&r.text;return{baseColor:c({},r,{text:c({},o,{lighter:n||o.lighter,normal:t||o.normal})})}},d=function(e,t){var n=e&&e.accentColor||{};return{accentColor:c({},n,{text:c({},n&&n.text||{},{normal:t})})}},m=function(e,t){var n=null!==t&&-1!==t?t:50;return"".concat(null!==e&&-1!==e?e:50,"% ").concat(n,"%")},p={altText:"",author:"",authorLink:"",bodyOnly:!1,cardDisplayConfig:{},colorCombo:"",creator:void 0,description:"",dek:"",eyebrow:"",headline:"",imageBackgroundPosition:"",imageCaption:"",imageCredit:"",imageUrl:"",isLocked:!1,mobileImageUrl:"",link:"",postBody:void 0,publication:"",publishedAt:0,quoteText:"",tagline:"",timeToRead:"",mediumUrl:""},f=["dek","eyebrow","headline","imageCaption","imageCredit","quoteText"];function b(e,t){var n=e.length>0?e[e.length-1]:"",r='"'===t,o=r?"“":"‘",s=r?"”":"’",a=t,i=n===(r?"‘":"“");!n||"([{\n  ".includes(n)||i?a=o:"0123456789½¼¾⅓⅔⅛⅜⅝⅞".includes(n)?e.lastIndexOf(o)>e.lastIndexOf(s)&&(a=s):a=s;return a}function g(e){for(var t,n=/['"]/g,r="",o=0;null!==(t=n.exec(e));)r+=e.slice(o,t.index),r+=b(r,t[0]),o=t.index+1;return r+e.slice(o)}var h=function(e){return e.filter((function(e){return!("post"in e.itemType)||null!==e.itemType.post}))},v=function(e){return e?"cardType"in e&&e[e.cardType]?e[e.cardType]:"itemType"in e?e.itemType:void 0:void 0},x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=v(e),l=Object.assign({},p,{cardDisplayConfig:r,publication:n});if(o&&"dek"in o&&o.dek?l.dek=o.dek:t&&t.previewContent&&"subtitle"in t.previewContent&&t.previewContent.subtitle&&(l.dek=t.previewContent.subtitle),t&&"previewImage"in t&&t.previewImage&&t.previewImage.id){var c=t.previewImage,u=c.focusPercentX,d=c.focusPercentY,b=c.id;l.imageBackgroundPosition=m(u,d),l.imageUrl=Object(s.d)({miroId:b,width:756,height:453,strategy:s.a.Resample,focusPercentX:u,focusPercentY:d,freezeGifs:!1})}else o&&"imageUrl"in o&&o.imageUrl&&(l.imageUrl=o.imageUrl);return o&&"mobileImageUrl"in o&&o.mobileImageUrl&&(l.mobileImageUrl=o.mobileImageUrl),o&&"altText"in o&&o.altText&&(l.altText=o.altText),o&&"author"in o&&o.author?l.author=o.author:t&&t.creator&&(t.creator.name&&(l.author=t.creator.name),t.creator.username&&(l.authorLink=Object(i.lc)(t.creator.username))),o&&"bodyOnly"in o&&o.bodyOnly&&(l.bodyOnly=o.bodyOnly),o&&"eyebrow"in o&&o.eyebrow&&(l.eyebrow=o.eyebrow),o&&"imageCaption"in o&&o.imageCaption&&(l.imageCaption=o.imageCaption),o&&"imageCredit"in o&&o.imageCredit&&(l.imageCredit=o.imageCredit),o&&"headline"in o&&o.headline?l.headline=o.headline:t&&t.title&&(l.headline=t.title),o&&"quoteText"in o&&o.quoteText&&(l.quoteText=o.quoteText),o&&"description"in o&&o.description&&(l.description=o.description),o&&"tagline"in o&&o.tagline&&(l.tagline=o.tagline),o&&"cardConfig"in o&&o.cardConfig&&o.cardConfig.colorTheme&&(l.colorCombo=o.cardConfig.colorTheme),o&&"storyUrl"in o&&o.storyUrl?l.link=o.storyUrl:t&&(l.link=Object(i.xb)(t)),t&&(l.publishedAt=t.firstPublishedAt,l.mediumUrl=t.mediumUrl||""),t&&t.readingTime&&(l.timeToRead="".concat(Object(a.e)(t.readingTime)," min read")),t&&"content"in t&&t.content&&t.content.bodyModel&&(l.postBody=t.content.bodyModel,t&&"creator"in t&&t.creator&&(l.creator=t.creator)),f.forEach((function(e){return l[e]=g(l[e])})),l}},"./src/components/collection/package/packageTheme.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return I})),n.d(t,"f",(function(){return T})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return A})),n.d(t,"b",(function(){return L}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/lodash/merge.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(u),m=n("./src/components/collection/package/themes/vanilla.ts"),p=n("./src/styles/colors.ts");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=Object(m.a)();function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=Object(m.a)();function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=Object(m.a)();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(m.a)(),S=n("./src/util/theme.ts");function _(){var e=o()(["\n  fragment PackageTheme_collection on Collection {\n    id\n    ...ThemeUtilAccent_collection\n  }\n  ","\n"]);return _=function(){return e},e}var P={gen:function(){return b({},g,{colors:{subtleColor:p.e,verySubtleColor:p.d,primaryBackgroundColor:"#F1F1F1",primaryTextAccentColor:"#FB524C",primaryTextMainColor:p.c,secondaryBackgroundColor:"#FB524C",secondaryTextAccentColor:p.c,secondaryTextMainColor:p.G,tertiaryBackgroundColor:p.c,tertiaryTextAccentColor:"#FB524C",tertiaryTextMainColor:p.G,quoteBackgroundColor:"#C1A160",quoteTextAccentColor:p.c,quoteTextMainColor:p.c},standardCard:b({},g.standardCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}}}),halfFeatureCard:b({},g.halfFeatureCard,{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}}}),quoteCard:b({},g.quoteCard,{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}}}),shortStoryCard:b({},g.shortStoryCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}}})})},level:function(){return v({},x,{colors:{subtleColor:p.e,verySubtleColor:p.d,primaryBackgroundColor:p.G,primaryTextAccentColor:"#46908F",primaryTextMainColor:"#2E2A27",secondaryBackgroundColor:"#192545",secondaryTextAccentColor:"#D49BE8",secondaryTextMainColor:"#E5E6E1",tertiaryBackgroundColor:"#2E2A27",tertiaryTextAccentColor:"#F0BA40",tertiaryTextMainColor:"#E5E6E1",quoteBackgroundColor:"#E5E6E1",quoteTextAccentColor:"#2E2A27",quoteTextMainColor:"#2E2A27"},standardCard:v({},x.standardCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}}}),halfFeatureCard:v({},x.halfFeatureCard,{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}}}),quoteCard:v({},x.quoteCard,{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}}}),shortStoryCard:v({},x.shortStoryCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}}})})},onezero:function(){return y({},O,{colors:{subtleColor:p.e,verySubtleColor:p.d,primaryBackgroundColor:"#E5E9F2",primaryTextAccentColor:"#6A0BFF",primaryTextMainColor:p.c,secondaryBackgroundColor:"#6A0BFF",secondaryTextAccentColor:"#DAF832",secondaryTextMainColor:p.G,tertiaryBackgroundColor:p.G,tertiaryTextAccentColor:"#6A0BFF",tertiaryTextMainColor:p.c,quoteBackgroundColor:"#DAF832",quoteTextAccentColor:p.c,quoteTextMainColor:p.c},standardCard:y({},O.standardCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}}}),halfFeatureCard:y({},O.halfFeatureCard,{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}}}),quoteCard:y({},O.quoteCard,{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}}}),shortStoryCard:y({},O.shortStoryCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}}})})},vanilla:m.a,zora:function(){return C({},j,{glyphPath:"/e/zsr/latin/e/zsb/latin/e/tb/latin",colors:{subtleColor:p.e,verySubtleColor:p.d,primaryBackgroundColor:"#F8E2E7",primaryTextAccentColor:"#960564",primaryTextMainColor:p.c,secondaryBackgroundColor:"#650343",secondaryTextAccentColor:"#FACC3D",secondaryTextMainColor:p.G,tertiaryBackgroundColor:p.G,tertiaryTextAccentColor:"#960564",tertiaryTextMainColor:p.c,quoteBackgroundColor:"#FACC3D",quoteTextAccentColor:"#650343",quoteTextMainColor:"#650343"},standardCard:C({},j.standardCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}}}),halfFeatureCard:C({},j.halfFeatureCard,{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}}}),quoteCard:C({},j.quoteCard,{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}}}),shortStoryCard:C({},j.shortStoryCard,{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}}})})}},k="#E5E5E5",I=c.createContext(null),T=function(){return c.useContext(I)},R=function(e){return a()({},e,{newFonts:{subtitle:{fontSize:{L:22},lineHeight:{L:28}},overline:{fontSize:{M:14},lineHeight:{M:18}},pullQuote:{fontSize:{S:22,M:e.newFonts.pullQuote.fontSize.S},lineHeight:{S:30,M:e.newFonts.pullQuote.lineHeight.S}},title:{fontSize:{XXS:e.newFonts.title.fontSize.XXS,XS:e.newFonts.title.fontSize.XXS,S:26,M:34,L:e.newFonts.title.fontSize.M,XL:e.newFonts.title.fontSize.L},lineHeight:{XXS:e.newFonts.title.lineHeight.XXS,XS:e.newFonts.title.lineHeight.XXS,S:34,M:42,L:e.newFonts.title.lineHeight.M,XL:e.newFonts.title.lineHeight.L}}}})},A=function(e,t){var n;if(!e&&!t)return Object(m.a)();var r=null==t||null===(n=t.colorPalette)||void 0===n?void 0:n.defaultBackgroundSpectrum,o={accentColor:r?Object(S.p)(r).text.normal:void 0};return e&&P[e]?P[e](o):Object(m.a)(o)},L=l()(_(),S.a)},"./src/components/collection/package/themes/vanilla.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/styles/colors.ts"),o="#03A87C",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accentColor;return{colors:{subtleColor:r.e,verySubtleColor:r.d,primaryBackgroundColor:r.G,primaryTextAccentColor:t||o,primaryTextMainColor:r.c,secondaryBackgroundColor:r.G,secondaryTextAccentColor:t||o,secondaryTextMainColor:r.e,tertiaryBackgroundColor:r.G,tertiaryTextAccentColor:t||o,tertiaryTextMainColor:r.c,quoteBackgroundColor:"#F2F2F2",quoteTextAccentColor:t||o,quoteTextMainColor:r.c},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detailScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},subtitleScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},titleScale:{xs:"XS",sm:"XS",md:"XS",lg:"XS",xl:"XS"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"4px"},headline:{marginBottom:"4px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},tertiary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},textAlign:"left",detailScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},subtitleScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},titleScale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"4px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detailScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},titleScale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XXS",xl:"XXS"},author:{marginTop:"8px",marginBottom:"40px"},eyebrow:{marginBottom:"4px"},headline:{marginBottom:"6px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",detailScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},subtitleScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},titleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"4px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"}}}}},"./src/components/collection/theming/CustomBackgroundWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/collection/theming/customStyleSheet.ts"),c=n("./src/components/session/useFlag.tsx"),u=n("./src/framework/design-system/components/index.ts");function d(){var e=o()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromStyleColor_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var m=function(e){var t=e.children,n=e.customStyleSheet,r=Object(c.a)("enable_theme_editor"),o=i.useMemo((function(){var e,t;return Object(l.n)(null==n||null===(e=n.global)||void 0===e||null===(t=e.colorPalette)||void 0===t?void 0:t.background)}),[n]);return r&&o?i.createElement(u.b,{backgroundColor:"BACKGROUND"},t):i.createElement(i.Fragment,null,t)},p=a()(d(),l.o)},"./src/components/collection/theming/CustomStyleSheetFontController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-helmet-async/lib/index.module.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/schema-types/globalTypes.ts"),d=n("./src/util/glyph.ts");function m(){var e=o()(["\n  fragment CustomStyleSheetFontController_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      fonts {\n        font1 {\n          name\n        }\n        font2 {\n          name\n        }\n        font3 {\n          name\n        }\n      }\n    }\n  }\n"]);return m=function(){return e},e}var p=Object(c.c)((function(e){var t=e.config;return{isAmp:t.isAmp,glyphUrl:t.glyphUrl}}))((function(e){var t=e.isAmp,n=e.glyphUrl,r=e.customStyleSheet;if(!r)return null;var o=function(e){var t,n,r,o,s,a,i,l,c,d=new Set;d.add(null==e||null===(t=e.global)||void 0===t||null===(n=t.fonts)||void 0===n||null===(r=n.font1)||void 0===r?void 0:r.name),d.add(null==e||null===(o=e.global)||void 0===o||null===(s=o.fonts)||void 0===s||null===(a=s.font2)||void 0===a?void 0:a.name),d.add(null==e||null===(i=e.global)||void 0===i||null===(l=i.fonts)||void 0===l||null===(c=l.font3)||void 0===c?void 0:c.name);var m=[];return d.has(u.u.SERIF_1)&&(m.push("/e/afi/latin"),m.push("/e/afb/latin"),m.push("/e/afbi/latin")),d.has(u.u.SANS_SERIF_1)&&(m.push("/e/amsi/latin"),m.push("/e/amsbi/latin")),Array.from(m).join("")}(r);return i.createElement(l.a,null,i.createElement("link",{id:"glyph_publication_link",rel:"stylesheet",type:"text/css",href:Object(d.a)({fontFamilyPath:o,glyphUrl:n,glyphFontSet:"aurora",isAmp:t})}))})),f=a()(m())},"./src/components/collection/theming/CustomStyleWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/useFlag.tsx"),s=n("./src/framework/style/index.ts"),a=function(e){var t=e.children,n=e.rule,a=Object(s.useCx)();return Object(o.a)("enable_theme_editor_component_controls")?r.createElement("div",{className:a(n)},t):r.createElement(r.Fragment,null,t)}},"./src/components/cta/HighlightCTA.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./src/components/cta/TextCTA.tsx"),i=n("./src/framework/design-system/components/index.ts"),l=n("./src/framework/design-system/type/index.ts"),c=n("./src/framework/style/index.ts"),u=n("./src/styles/breakpoints.ts"),d=n("./src/styles/colors.ts"),m=function(e){var t=e.children,n=e.scale,r=void 0===n?a.a.L:n,m=Object(c.useCx)();return s.createElement("div",{className:m((function(e){return o()({background:Object(d.B)(.05),borderRadius:"4px",margin:"24px -16px",position:"relative"},u.sm(e),{margin:"24px -12px 0"})}))},s.createElement(i.b,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:"16px",sm:{padding:"12px"}},s.createElement(l.a,{scale:r,color:"DARKER"},t)))}},"./src/components/cta/TextCTA.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,o=n("./node_modules/react/index.js"),s=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/design-system/type/index.ts");!function(e){e.S="S",e.L="L"}(r||(r={}));var i=function(e){var t=e.children,n=e.scale,i=void 0===n?r.L:n;return o.createElement(s.b,{margin:"40px 0",sm:{margin:"36px 0"}},o.createElement(a.a,{scale:i},t))}},"./src/components/editor/getSlateBodyFromPostBodyModel_bodyModel.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js");function a(){var e=o()(["\n  fragment getSlateBodyFromPostBodyModel_bodyModel on RichText {\n    paragraphs {\n      id\n      name\n      text\n      type\n      markups {\n        type\n        start\n        end\n        href\n        anchorType\n        userId\n        linkMetadata {\n          httpStatus\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}var i=n.n(s)()(a())},"./src/components/error/PostResultError.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return R}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/susi/RedirectToSignIn.tsx"),c=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(p),b=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(b),h=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),v=function(e){function t(){return u()(this,t),m()(this,f()(t).call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id."))}return g()(t,e),t}(n.n(h)()(Error)),x=n("./src/screens/ContentErrorScreen.tsx"),E=n("./src/screens/ErrorScreen.tsx"),y=n("./src/screens/NotFoundScreen.tsx"),O=n("./src/screens/SuspendedScreen.tsx");function w(){var e=o()(["\n  fragment UnavailableForLegalReasonsScreen_unavailableForLegalReasons on UnavailableForLegalReasons {\n    lumenId\n  }\n"]);return w=function(){return e},e}function C(e){var t=e.errorData;return i.createElement(x.a,{code:451,title:"451 Not available — Medium",description:"This story is subject to a DMCA copyright or other legal or government claim.",lumenId:t.lumenId})}var j=a()(w());function S(){var e=o()(["\n  fragment WithheldInCountryScreen_withheldInCountry on WithheldInCountry {\n    lumenId\n  }\n"]);return S=function(){return e},e}function _(e){var t=e.errorData;return i.createElement(x.a,{code:451,title:"451 Not available in your country — Medium",description:"This page is not available in your country.",lumenId:t.lumenId})}var P=a()(S());function k(){var e=o()(["\n  fragment PostResultError_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n    }\n    ... on UnavailableForLegalReasons {\n      ...UnavailableForLegalReasonsScreen_unavailableForLegalReasons\n    }\n    ... on WithheldInCountry {\n      ...WithheldInCountryScreen_withheldInCountry\n    }\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}var I=function(e){return!e||"Post"!==e.__typename},T=function(e){var t=e.postResult;if(!t)return i.createElement(E.a,{error:new v});switch(t.__typename){case"Unauthorized":return i.createElement(l.a,{opt_isDraft:!0});case"NotFound":return i.createElement(y.a,null);case"AccountDeleted":return i.createElement(x.a,{code:410,title:"410 Deleted by author — Medium",description:"User deactivated or deleted their account."});case"AccountSuspended":return i.createElement(O.a,{suspension:"account"});case"PostSuspended":return i.createElement(O.a,{suspension:"post"});case"Blocked":return i.createElement(x.a,{code:403,title:"403 Blocked — Medium",description:"This user had blocked you from following them or viewing their stories."});case"RemovedByUser":return i.createElement(x.a,{code:410,title:"410 Deleted by author — Medium",description:"The author deleted this Medium story."});case"UnavailableForLegalReasons":return i.createElement(C,{errorData:t});case"WithheldInCountry":return i.createElement(_,{errorData:t});default:return i.createElement(E.a,{error:new Error("Unsupported postResult: ".concat(t.__typename))})}},R=a()(k(),j,P)},"./src/components/footer/GlobalFooter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),i=n("./src/components/metabar/Logo.tsx"),l=n("./src/components/session/WithViewer.tsx"),c=n("./src/components/session/useFlag.tsx"),u=n("./src/components/ui/AndroidAppDownloadButton.tsx"),d=n("./src/components/ui/IosAppDownloadButton.tsx"),m=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),f=n("./src/styles/colors.ts"),b=n("./src/util/routes.ts");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.authDomain,n=e.productName;return s.createElement(m.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},s.createElement(m.b,{paddingBottom:"12px"},s.createElement(m.t,{href:Object(b.kb)(t)},s.createElement(m.o,null,"Become a member"))),s.createElement(m.d,null,"Get unlimited access to the best stories on ",n," — and support writers while you’re at it. Just $5/month."," ",s.createElement(m.t,{href:Object(b.kb)(t),inline:!0,linkStyle:"OBVIOUS"},"Upgrade")))}var x=function(e){var t=e.authDomain,n=e.productName;return s.createElement(m.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},s.createElement(m.b,{paddingBottom:"12px"},s.createElement(m.t,{href:Object(b.Xb)(t,"members")},s.createElement(m.o,null,"Explore your membership"))),s.createElement(m.d,null,"Thank you for being a member of ",n,". You get unlimited access to insightful stories from amazing thinkers and storytellers."," ",s.createElement(m.t,{href:Object(b.Xb)(t,"members"),inline:!0,linkStyle:"OBVIOUS"},"Browse")))},E=function(){var e=Object(a.f)((function(e){return{authDomain:e.config.authDomain,productName:e.config.productName}}),a.d),t=e.authDomain,n=e.productName,r=!!Object(c.a)("enable_footer_app_buttons");return s.createElement(m.L,null,(function(e){var o=h({},e,{baseColor:h({},e.baseColor,{background:{light:f.B(.76),normal:f.B(.84),dark:f.B(.9)},border:{lighter:f.E(.1),light:f.E(.2),normal:f.E(.34),dark:f.E(.54),darker:f.E(.84)},fill:{lighter:f.E(.7),light:f.E(.8),normal:f.E(.98),dark:f.E(.99)},text:{lighter:f.E(.7),light:f.E(.8),normal:f.E(.98),dark:f.E(.99)}})});return(s.createElement(m.F,{theme:o},s.createElement(m.b,{backgroundColor:"BASE_DARK",padding:"60px 0",sm:{padding:"32px 0"}},s.createElement(m.A,null,s.createElement(m.b,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},s.createElement(m.b,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},s.createElement(m.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},s.createElement(m.b,{paddingBottom:"12px"},s.createElement(m.t,{href:Object(b.a)({authDomain:t,autoplay:!0})},s.createElement(m.o,null,"Discover ",n))),s.createElement(m.d,null,"Welcome to a place where words matter. On ",n,", smart voices and original ideas take center stage - with no ads in sight."," ",s.createElement(m.t,{href:Object(b.a)({authDomain:t,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Watch"))),s.createElement(m.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},s.createElement(m.b,{paddingBottom:"8px"},s.createElement(m.t,{href:Object(b.Yb)(t)},s.createElement(m.o,null,"Make ",n," yours"))),s.createElement(m.d,null,"Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox."," ",s.createElement(m.t,{href:Object(b.Yb)(t),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),s.createElement(l.b,null,(function(e){return e&&e.mediumMemberAt?s.createElement(x,{authDomain:t,productName:n}):s.createElement(v,{authDomain:t,productName:n})})))),s.createElement(m.b,{display:"flex",flexDirection:"column"},s.createElement(m.b,{alignItems:"center",display:"flex",justifyContent:"space-between"},s.createElement(m.t,{href:"https://".concat(t,"/")},s.createElement(i.c,null)),s.createElement(m.d,null,s.createElement(m.b,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},s.createElement(p.a,{color:"DARKER",scale:"L"},s.createElement(m.t,{href:Object(b.a)({authDomain:t}),inline:!0},"About")),s.createElement(p.a,{color:"DARKER",scale:"L"},s.createElement(m.t,{href:Object(b.W)(),inline:!0},"Help")),s.createElement(p.a,{color:"DARKER",scale:"L"},s.createElement(m.t,{href:Object(b.cb)(),inline:!0},"Legal"))))),r&&s.createElement(s.Fragment,null,s.createElement(m.b,{display:"none",sm:{display:"flex",marginBottom:"16px",marginTop:"30px"}},s.createElement(p.a,{color:"LIGHTER",scale:"L"},"Get the Medium app")),s.createElement(m.b,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},s.createElement(m.b,{marginRight:"16px"},s.createElement(d.a,{entryPoint:"postPageFooter"})),s.createElement(m.b,null,s.createElement(u.a,{entryPoint:"postPageFooter"})))))))))}))}},"./src/components/meter/ContentWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),s=n("./src/styles/colors.ts"),a=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-240px",background:"linear-gradient(".concat(Object(s.E)(0),",\n        ").concat(Object(s.E)(.5),",\n        ").concat(Object(s.E)(1),")"),height:"250px",position:"relative",width:"100%"}),r.createElement(o.b,{backgroundColor:"BACKGROUND"},r.createElement(o.b,{margin:"auto",maxWidth:"760px",sm:{margin:"0 18px 0"}},t)))}},"./src/components/meter/MeterController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return ne})),n.d(t,"b",(function(){return re}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/@babel/runtime/helpers/extends.js"),b=n.n(f),g=n("./node_modules/pluralize/pluralize.js"),h=n.n(g),v=n("./src/components/cta/HighlightCTA.tsx"),x=n("./src/components/optimizely/OptimizelyWrapper.tsx"),E=n("./src/framework/design-system/components/index.ts"),y=function(e){var t=e.featureString,n=e.link,r=e.text,o=e.showTrialMeter;return m.createElement(x.a,{featureString:t,target:o?"cc-trial-highlight-box":"highlight-box"},m.createElement(v.a,null,m.createElement(x.a,{featureString:t,target:o?"cc-trial-copy":"copy",tag:"span"},r," "),m.createElement(E.b,{display:"inline",whiteSpace:"nowrap"},m.createElement(x.a,{featureString:t,target:o?"cc-trial-link":"link",tag:"span"},n))))},O=n("./src/components/session/useFlag.tsx"),w=n("./src/components/session/useViewer.tsx"),C=n("./src/components/susi/helpers/index.ts"),j=n("./src/components/upsell/UpsellClickable.tsx"),S=n("./src/framework/reporter/index.ts"),_=n("./src/framework/source/index.ts"),P=n("./src/framework/track/UpsellPresentationTracker.tsx"),k=n("./src/util/routes.ts");function I(){var e=o()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return I=function(){return e},e}var T=function(e,t){return e<=0?m.createElement(m.Fragment,null,"This is your ",m.createElement("b",null,"last")," free ",t&&"member-only"," story this month."):m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,e)," free ",t&&"member-only"," ",h()("story",e)," left this month.")},R=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=Object(w.b)(),s=Object(S.c)(),a=null==o?void 0:o.isMembershipTrialEligible,i=!(!Object(O.a)("enable_trial_upsell")||!a),l="li-highlight-meter-".concat(t);m.useEffect((function(){s.event("meter.viewed",{uiType:C.a.LIHighlightCTA,postId:r.id,meterCount:t,userId:null==o?void 0:o.id}),a&&s.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var c=Object(p.f)((function(e){return{authDomain:e.config.authDomain}})).authDomain,u=m.createElement(P.a,{tag:"span"},m.createElement(j.a,b()({linkStyle:"OBVIOUS",post:r},i&&{redirectUrl:Object(k.qb)(c)}),i?"Start your free trial":"Upgrade for unlimited access."));return m.createElement(_.b,{source:{dimension:"post_counter",name:"upgrade_membership",postId:r.id}},m.createElement(y,{featureString:l,text:T(n-t,i),link:u,showTrialMeter:i}))},A=d()(I(),j.b),L=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),M=n.n(L),B=(n("./src/framework/design-system/type/index.ts"),n("./src/framework/style/index.ts"),n("./src/framework/track/index.ts"),n("./src/styles/colors.ts")),D=n("./src/styles/mediaTypes.ts"),N=(n("./src/styles/theme.ts"),n("./src/styles/zIndex.ts")),U=(M()({background:B.o,bottom:"0",left:"0",position:"fixed",width:"100%",zIndex:N.a.metabarCenter},Object(D.b)("no-preference"),{transition:"transform 300ms ease",willChange:"transform"}),n("./src/components/susi/SusiClickable.tsx"));function F(){var e=o()(["\n  fragment LOMeterBanner_post on Post {\n    id\n  }\n"]);return F=function(){return e},e}var V=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}};d()(F());function H(){var e=o()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return H=function(){return e},e}var z=function(e){switch(e){case 1:return m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"2")," free stories left this month.");case 2:return m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"1")," free story left this month.");case 3:return m.createElement(m.Fragment,null,"This is your ",m.createElement("b",null,"last")," free story this month.");default:return m.createElement(m.Fragment,null,"You've read all your free stories this month.")}},G=function(e){var t=e.meterCount,n=e.post,r=V(t),o=Object(S.c)(),s="lo-highlight-meter-".concat(t);m.useEffect((function(){o.event("susi.viewed",{entryPoint:r,operation:"register"}),o.event("meter.viewed",{uiType:C.a.LOHighlightCTA,postId:n.id,meterCount:t})}),[]);var a=m.createElement(U.a,{linkStyle:"OBVIOUS",operation:"register"},"Sign up and get an extra one for free.");return m.createElement(_.b,{source:{susiEntry:r,postId:n.id}},m.createElement(y,{featureString:s,text:z(t),link:a,showTrialMeter:!1}))},q=d()(H()),W=n("./src/components/read-next/ReadNext.tsx"),$=n("./src/components/session/WithViewer.tsx"),K=n("./src/components/susi/susi-modal/SusiContainer.tsx"),Y=n("./src/screens/helpers/visits.ts"),X=n("./src/store/actions/branch.ts");function Q(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return Q=function(){return e},e}function J(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return J=function(){return e},e}var Z=function(e){var t=e.meteringInfo,n=e.post,r=e.viewer,o=m.useState(!1),s=l()(o,2),a=s[0],i=s[1],c=t.maxUnlockCount||3,u=t.postIds.length;return u<=c?Object(Y.o)()&&Object(W.b)(r)?(Object(Y.h)(),null):(a||i(!0),m.createElement(R,{meterCount:u,post:n,meterLimit:c})):null},ee=function(e){var t=e.meterCount,n=e.post,r=m.useState(!1),o=l()(r,2),s=o[0],a=o[1];switch(t){case 1:case 2:case 3:return s||a(!0),m.createElement(G,{meterCount:t,post:n});default:return null}},te=function(e){var t=e.meteringInfo,n=e.post,r=Object(p.e)(),o=m.useState(!1),s=l()(o,2),i=s[0],u=s[1];m.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&u(!0),r(Object(X.f)(!1))}),[]);var d=Object(c.e)($.a),f=d.loading,b=d.error,g=d.data,h=(g=void 0===g?{viewer:void 0}:g).viewer;if(f||b)return m.createElement(m.Fragment,null);var v=h&&h.mediumMemberAt||void 0,x=n&&n.creator&&n.creator.id||void 0,E=h&&h.id||void 0,y=h?v||x===E:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,O=!i||!n.isLocked||!t.postIds.includes(n.id)||y,w=h?m.createElement(Z,{meteringInfo:t,post:n,viewer:h}):m.createElement(ee,{meterCount:t.postIds.length,post:n});return m.createElement(m.Fragment,null,!O&&w)},ne=d()(J(),A,q,K.d),re=d()(Q())},"./src/components/meter/PayWall.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return L}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/meter/ContentWall.tsx"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),d=n("./src/components/session/useFlag.tsx"),m=n("./src/components/session/useViewer.tsx"),p=n("./src/components/style/BaseThemeProvider.tsx"),f=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),b=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),g=n("./src/components/susi/alternate-user/NotYou.tsx"),h=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),v=n("./src/components/upsell/UpsellClickable.tsx"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/design-system/type/index.ts"),y=n("./src/framework/design-system/type/Detail.tsx"),O=n("./src/framework/reporter/index.ts"),w=n("./src/framework/source/index.ts"),C=n("./src/framework/track/UpsellPresentationTracker.tsx"),j=n("./src/screens/helpers/users.ts"),S=n("./src/store/actions/navigation.ts"),_=n("./src/util/routes.ts");function P(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n  }\n"]);return P=function(){return e},e}var k=function(e,t){var n=e?Object(j.b)(e):null;return t?"Switch to your member account for unlimited reading.":i.createElement(x.b,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},n&&n.length<=13?"".concat(n,", get unlimited access."):"Get unlimited access.")},I=i.createElement(x.b,{textAlign:"left",sm:{textAlign:"center"}},"You've read all of your free stories this month. Become a member to keep reading."),T=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.showTrialPaywall,s=e.authDomain;return i.createElement(w.b,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},i.createElement(C.a,null,i.createElement(x.b,{display:"inline-block",textAlign:"center"},i.createElement(u.a,{featureString:t,target:o?"trial-upsell-button":"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},i.createElement(v.a,{isButton:!0,buttonStyle:o?"BRAND":"STRONG",width:o||r&&r.hasPastMemberships?"182px":"104px",redirectUrl:o?Object(_.qb)(s):Object(_.rb)(s)},o?"Start your free trial":r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},R=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=Object(l.e)();return i.createElement(i.Fragment,null,i.createElement(x.b,{display:"flex",sm:{flexDirection:"column"}},i.createElement(x.b,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?i.createElement(b.a,{userSocialLogins:n}):i.createElement(f.a,{onSuccess:function(){return r(Object(S.s)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return i.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&i.createElement(x.b,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},i.createElement(y.a,{scale:"M"},i.createElement(g.a,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},A=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,s=e.postId;return i.createElement(w.b,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:s}},i.createElement(C.a,{eventData:r},i.createElement(x.b,{display:"inline-block",textAlign:"center"},i.createElement(R,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),i.createElement(x.b,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},i.createElement(y.a,{scale:"L"},i.createElement(v.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},L=function(e){var t=e.post,n=Object(l.f)((function(e){return{productName:e.config.productName,sessionUserId:e.session.user.id,authDomain:e.config.authDomain}}),l.d),r=n.productName,o=n.sessionUserId,s=n.authDomain,a=Object(m.b)(),f=Object(O.c)(),b=null==a?void 0:a.isMembershipTrialEligible,g=!(!Object(d.a)("enable_trial_upsell")||!b);i.useEffect((function(){b&&f.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var v="paywall";return i.createElement(p.b,null,i.createElement(c.a,null,i.createElement(h.a,{postRenderCallback:function(){}},(function(e){var n,l,c,d=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,f=e.userSocialLogins;return d?i.createElement(i.Fragment,null):(m&&(v="suggested-account-paywall"),m&&(n={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:Object(j.a)(f),alternateUserSuggestionTargetUserId:!!f&&f.userId,alternateUserSuggestionSourceUserId:a?a.id:o}),i.createElement(i.Fragment,null,i.createElement(u.a,{featureString:v,target:g?"trial-background-color":"background-color"},i.createElement(x.b,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},i.createElement(x.b,{display:"flex",flexDirection:"column",padding:"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},i.createElement(u.a,{featureString:v,target:g?"webCCTrialHeading":"fewerClicksHeading"},i.createElement(E.c,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},m?k(a&&a.name,m):g?(l=a&&a.name,c=l?Object(j.b)(l):null,i.createElement(x.b,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},c&&c.length<=13?"".concat(c,", keep reading."):"Keep reading.")):k(a&&a.name,m))),i.createElement(y.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},!m&&!g&&i.createElement(i.Fragment,null,i.createElement(u.a,{featureString:v,target:"second-header-fewer-clicks"},i.createElement(x.b,{marginTop:"8px",marginBottom:"28px",sm:{display:"inline-block"}},I)),i.createElement(x.b,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},i.createElement(T,{optimizelyFeatureString:v,post:t,viewer:a,showTrialPaywall:g,authDomain:s}))),i.createElement(u.a,{featureString:v,target:g?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},i.createElement(x.b,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},m?function(e,t){if(e){var n=e.isMember,r=e.redactedEmailAddress;return i.createElement(i.Fragment,null,"Looks like you're coming from the ",n&&"member ","account"," ",i.createElement("b",null,r)," but you’re signed in as ",i.createElement("b",null,null==t?void 0:t.email),". Switch to your",n?" member account for unlimited access":" account",".")}}(f,a):g?function(e){return i.createElement(x.b,{marginTop:"28px",marginBottom:"28px"},"You’ve reached your limit of free member-only stories this month. Get unlimited access to every idea on ",e,", free for 1 month. If it's not for you, cancel anytime.")}(r):function(e){return i.createElement(x.b,{marginTop:"28px",marginBottom:"28px",textAlign:"left"},"Here's what you get when you upgrade to membership:",i.createElement(x.b,{marginTop:"28px",marginBottom:"28px"},i.createElement("b",null,"Unlimited access. ")," Explore ",e,"'s library filled with everything you're curious about."),i.createElement(x.b,{marginBottom:"28px"},i.createElement("b",null,"No ads.")," There are zero ads on ",e," and we don't sell your data."),i.createElement(x.b,{marginBottom:"28px"},i.createElement("b",null,"Reward quality writing.")," When you spend time reading a story, a portion of your membership fee will go directly to its author."),i.createElement(x.b,{marginBottom:"28px"},'"I love ',e,"'s membership — it gives me access to the stories I love by the writers I love, and it allows me to help support those writers financially.\"",i.createElement("br",null)," ",i.createElement("b",null,"—Kayt Molina, ",e," member ")))}(r)))),!!m&&f&&i.createElement(A,{declineSuggestedAccount:p,userSocialLogins:f,suggestedAccountEventData:n,showSuggestedAccount:m,postId:t.id}),g&&!m&&i.createElement(T,{optimizelyFeatureString:v,post:t,viewer:a,showTrialPaywall:g,authDomain:s}))))))}))))},M=a()(P())},"./src/components/meter/RegWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return _}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/metabar/OpenInApp.tsx"),c=n("./src/components/meter/ContentWall.tsx"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),d=n("./src/components/style/BaseThemeProvider.tsx"),m=n("./src/components/susi/SusiClickable.tsx"),p=n("./src/components/susi/helpers/index.ts"),f=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),b=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/index.ts"),v=n("./src/framework/reporter/index.ts"),x=n("./src/framework/source/index.ts");function E(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return E=function(){return e},e}function y(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return y=function(){return e},e}var O=function(e){var t=e.postId;return i.createElement(g.b,{display:"none",sm:{display:"block"}},i.createElement(g.b,{margin:"42px 0"},i.createElement(l.a,{isButton:!0,postId:t,appEntry:"regwall"})),i.createElement(g.b,{marginBottom:"-20px"},"Or, continue in mobile web"))},w=function(e){var t=e.isSyndicated;return i.createElement(h.c,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},i.createElement(g.b,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),i.createElement(g.b,{display:"block",sm:{display:"none"}},t?"This story is just a click away.":"To keep reading this story, create a free account."))},C=function(e){var t=e.optimizelyFeatureString,n={operation:"register"};return i.createElement(g.b,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},i.createElement(u.a,{featureString:t,target:"google-button"},i.createElement(g.b,{margin:"62px 0 10px",sm:{margin:"40px 0 12px 0"}},i.createElement(b.a,n))),i.createElement(u.a,{featureString:t,target:"fb-button"},i.createElement(g.b,{marginBottom:"52px",sm:{marginBottom:"40px"}},i.createElement(f.a,n))))},j=function(e){var t=e.meteringInfo,n=e.post,r=Object(v.c)(),o="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,s="".concat(o?"syndicated-":"","regwall");return i.useEffect((function(){r.event("susi.viewed",{unlockCount:t.postIds.length,postId:n.id,entryPoint:"post_regwall",type:o?5:4}),r.event("meter.viewed",{meterCount:t.postIds.length,postId:n.id,uiType:o?p.a.SyndicatedRegwall:p.a.RegWall})}),[]),i.createElement(d.b,null,i.createElement(x.b,{source:{susiEntry:"post_regwall",postId:n.id}},i.createElement(c.a,null,i.createElement(u.a,{featureString:s,target:"background-color"},i.createElement(g.b,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},i.createElement(g.b,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},i.createElement(u.a,{featureString:s,target:"heading"},i.createElement(w,{isSyndicated:o})),i.createElement(h.a,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},i.createElement(O,{postId:n.id}),i.createElement(C,{optimizelyFeatureString:s}),i.createElement(u.a,{featureString:s,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),i.createElement(u.a,{featureString:s,target:"sign-in-link",tag:"span"},i.createElement(m.a,{linkStyle:"OBVIOUS",operation:"login",post:n},"Sign in")))))))))},S=a()(y(),m.d),_=a()(E())},"./src/components/mutations/DeletePostMutation.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a=n("./node_modules/graphql-tag/src/index.js");function i(){var e=o()(["\n  mutation DeletePostMutation($targetPostId: ID!) {\n    deletePost(targetPostId: $targetPostId)\n  }\n"]);return i=function(){return e},e}var l=n.n(a)()(i()),c=function(e){var t=e?{variables:{targetPostId:e}}:{};return Object(s.d)(l,t)}},"./src/components/mutations/SetPinnedAtMutation.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js");function a(){var e=o()(["\n  mutation setPinnedAt($postId: ID!, $collectionId: ID!, $pinnedAt: Boolean!) {\n    __typename\n    setPinnedAt(targetPostId: $postId, targetCollectionId: $collectionId, pinnedAt: $pinnedAt) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n        }\n        pendingCollection {\n          id\n        }\n        pinnedAt\n      }\n    }\n  }\n"]);return a=function(){return e},e}var i=n.n(s)()(a())},"./src/components/mutations/UserBlockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function d(){var e=o()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return d=function(){return e},e}var m=i()(d());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return l.createElement(s.a,{mutation:m,onCompleted:function(){n(Object(u.m)({message:"Successfully blocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:r,isBlocking:!0}}},(function(e){return t({mutate:e})}))}))},"./src/components/mutations/UserReportStoryMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function d(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      id\n      isBlocking\n    }\n  }\n"]);return d=function(){return e},e}var m=i()(d());t.a=Object(c.c)()((function(e){var t=e.targetAuthorId,n=e.targetPostId,r=e.dispatch,o=e.children,a=e.onOptimisticComplete,i=e.isBlocking;return l.createElement(s.a,{mutation:m,onCompleted:function(){r(Object(u.m)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(r,o){var s=e({variables:{targetAuthorId:t,targetPostId:n,alsoBlockAuthor:r,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,isBlocking:i||r}}});return a&&a(),s}})}))}))},"./src/components/mutations/UserUnblockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function d(){var e=o()(["\n  mutation UserUnblockMutation($targetUserId: ID!, $userId: ID!) {\n    unblockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return d=function(){return e},e}var m=i()(d());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return l.createElement(s.a,{mutation:m,onCompleted:function(){n(Object(u.m)({message:"Successfully unblocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",unblockUser:{__typename:"User",id:r,isBlocking:!1}}},(function(e){return t({mutate:e})}))}))},"./src/components/newsletter-v3/NewsletterV3SubscribeButton.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return k}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n.n(i),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/components/collection/CollectionMetabar.tsx"),d=n("./src/components/collection/auroraHooks.ts"),m=n("./src/components/newsletter-v3/NewsletterV3UnsubscribeToast.tsx"),p=n("./src/components/newsletter-v3/useNewsletterV3Subscription.tsx"),f=n("./src/components/session/WithViewer.tsx"),b=n("./src/components/susi/SusiClickable.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),v=n("./src/framework/design-system/type/index.ts"),x=n("./src/framework/reporter/index.ts"),E=n("./src/framework/source/index.ts"),y=n("./src/framework/style/index.ts");function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=l.a.createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"}),C=function(e){return l.a.createElement("svg",O({width:20,height:16,viewBox:"0 0 20 16"},e),w)},j=n("./src/util/routes.ts"),S=n("./src/util/theme.ts");function _(){var e=o()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    ...SusiClickable_newsletterV3\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...auroraHooks_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var P=a()(_(),u.c,b.b,b.c,d.a,S.e),k=function(e){var t=e.newsletterV3,n=e.sourceName,r=e.susiEntry,o=e.buttonLayout,s=void 0===o?"MULTI-LINE":o,a=e.helperTextColor,l=void 0===a?"LIGHTER":a,u=e.showHelperText,O=void 0===u||u,w=e.showMailIcon,_=void 0===w||w,P=e.buttonSize,k=void 0===P?"LARGE":P,I=e.buttonStyle,T=void 0===I?"STRONG":I,R=t.id,A=t.name,L=t.collection?t.collection:void 0,M=Object(x.c)(),B=Object(y.useCx)(),D=function(){return{marginRight:"8px"}},N=Object(d.c)(t.collection),U=Object(c.f)((function(e){return e.navigation.interstitial})),F=Object(p.a)(t.id,t.isSubscribed),V=F.isSubscribed,H=F.hasUserUnsubscribed,z=F.hasError,G=F.setSubscribe,q=F.setHasUserUnsubscribed;i.useEffect((function(){"unsubscribe-newsletter"===U&&q(!0)}),[]);var W=function(e){var t=e.children;return i.createElement(g.b,{margin:"COMPACT"===s?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},$=function(e){var t=e.children;return i.createElement(g.b,{maxWidth:"COMPACT"===s?"330px":"",margin:"COMPACT"===s?"10px 0 10px 0":"10px 0 0 0"},i.createElement(v.a,{scale:"S",color:l,tag:"p"},t))},K=function(e){var o=e.isUserLoggedIn,s=Object(j.Sb)(R),a=function(){o&&G(!0),M.event("newsletterV3.subscribeClicked",{newsletterV3Id:t.id,source:n})},l=function(){return i.createElement(g.c,{onClick:a,size:k,buttonStyle:T},_&&i.createElement("span",{className:B(D)},i.createElement(C,null)),"Get this newsletter")};return i.createElement(E.b,{source:{name:n,newsletterV3Id:t.id}},i.createElement(W,null,o?i.createElement(l,null):i.createElement(b.a,{operation:"register",newsletterV3:t,collection:L,susiEntry:r,actionUrl:s},i.createElement(l,null))))},Y=function(){return i.createElement(f.b,null,(function(e){return e?i.createElement(i.Fragment,null,i.createElement(K,{isUserLoggedIn:!!e}),O&&i.createElement($,null,"Emails will be sent to ",e.email,".",i.createElement(g.b,null,i.createElement(b.a,{operation:"login",newsletterV3:t,collection:L,susiEntry:r},i.createElement(g.t,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?"))))):i.createElement(i.Fragment,null,i.createElement(K,{isUserLoggedIn:!!e}),i.createElement($,null,"Create a free Medium account to get ",t.name," in your inbox."))}))},X=function(){return i.createElement(i.Fragment,null,i.createElement(W,null,i.createElement(g.c,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return G(!1)}},"Unsubscribe")),O&&i.createElement($,null,"You're signed up for ",A,"."))};return i.createElement(i.Fragment,null,i.createElement(g.L,null,(function(e){return i.createElement(g.F,{theme:Object(S.d)(L,e,N)},V?i.createElement(X,null):i.createElement(Y,null))})),z&&i.createElement((function(){return i.createElement(h.a,{toastStyle:"RETRYABLE_ERROR",isVisible:z,hide:function(){}})}),null),H&&i.createElement(m.a,{name:t.name||""}))}},"./src/components/newsletter-v3/NewsletterV3UnsubscribeToast.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),i=n("./src/framework/design-system/type/index.ts"),l=n("./src/util/routes.ts"),c=function(e){var t=e.name,n=Object(o.f)((function(e){return e.config.authDomain}));return r.createElement(a.a,{isVisible:!0,toastStyle:"NEWSLETTER_UNSUBSCRIBE",duration:5e3,hide:function(){}},r.createElement(i.f,{scale:"S",color:"DARKER"},r.createElement(r.Fragment,null,"You have unsubscribed from ",r.createElement("b",null,t),". Changes will take effect within 24 hours. Manage all email settings"," ",r.createElement(s.t,{href:Object(l.uc)(n),linkStyle:"OBVIOUS"},"here"))))}},"./src/components/newsletter-v3/useNewsletterV3Subscription.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),d=n("./src/framework/reporter/index.ts");function m(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return m=function(){return e},e}function p(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!) {\n    subscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return p=function(){return e},e}var f=c()(p()),b=c()(m()),g=function(e,t){var n=u.useState(t),r=o()(n,2),s=r[0],a=r[1],l=u.useState(!1),c=o()(l,2),m=c[0],p=c[1],g=u.useState(!1),h=o()(g,2),v=h[0],x=h[1],E=Object(d.c)();m&&E.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var y=Object(i.d)(f,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.subscribeNewsletterV3;p(!t),t&&a(!0)}}),O=o()(y,1)[0],w=Object(i.d)(b,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.unsubscribeNewsletterV3;p(!t),t&&(a(!1),x(!0))}}),C=o()(w,1)[0];return{isSubscribed:s,hasUserUnsubscribed:v,hasError:m,setSubscribe:function(e){p(!1),x(!1),e?O():C()},setHasUserUnsubscribed:x}}},"./src/components/optimizely/helpers/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return m}));var r,o=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(o),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a);function l(){var e=s()(["\n  fragment optimizelyData_post on Post {\n    creator {\n      name\n    }\n    collection {\n      name\n    }\n    primaryTopic {\n      name\n    }\n  }\n"]);return l=function(){return e},e}!function(e){e.TopicSelected="TopicSelected",e.UserConvertedToTrialMember="UserConvertedToTrialMember"}(r||(r={}));var c=function(){return"undefined"!=typeof window},u=function(e,t,n){var r=e.post;if(c()){c()&&(window.optimizelyDataObject={});var o=r||{},s=o.creator,a=o.collection,i=o.primaryTopic;s&&s.name&&(window.optimizelyDataObject.author=s.name),a&&a.name&&(window.optimizelyDataObject.publication=a.name),i&&i.name&&(window.optimizelyDataObject.topic=i.name),t&&(window.optimizelyDataObject.firstName=t),n&&(window.optimizelyDataObject.trialRenewalDate=n)}},d=function(e){c()&&void 0!==window.optimizely&&window.optimizely.push({type:"event",eventName:e})},m=i()(l())},"./src/components/post-listing/PostListingItemRecirc.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/post/PostByline.tsx"),m=n("./src/components/post/PostRecircItemV2.tsx"),p=n("./src/components/post/bookmark/index.ts"),f=n("./src/components/post/multivote/MultiVote.tsx"),b=n("./src/components/session/WithFlag.tsx"),g=n("./src/components/ui/image/FocusableMiroImage.tsx"),h=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/design-system/type/Detail.tsx"),x=n("./src/framework/source/index.ts"),E=n("./src/framework/track/index.ts"),y=n("./src/util/routes.ts");function O(){var e=a()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}var w=l()(O(),d.a,E.c,p.b,f.b,m.a),C=function(e){var t=e.height,n=e.width;return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}},j={height:"100%",position:"absolute",width:"100%"},S=function(e){var t=e.title,n=e.url;return c.createElement(h.f,{href:n},c.createElement(h.r,{size:"h4",tag:"h3"},t))},_=c.forwardRef((function(e,t){var n,r,s=e.post,a=e.productName,i=c.useState(!1),l=o()(i,2),u=l[0],m=l[1],O=c.useCallback((function(e){!u&&e.isIntersecting&&m(!0)}),[u]);if(Object(E.f)({onIntersect:O,target:t,disconnect:function(){return u},rootMargin:"100px"},[u]),"SuggestedPost"===s.__typename?(n=function(e,t){var n,r,o,s;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return s=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(s);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(s.postSuggestionReasons,a),r=s.post):r=s,!r)return null;var w,_,P,k,I,T,R,A=r.previewImage?r.previewImage.id:"",L=(w={id:A||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:r.previewImage?r.previewImage.focusPercentX:null,focusPercentY:r.previewImage?r.previewImage.focusPercentY:null},P=w.id,k=w.width,I=w.height,T=w.focusPercentX,R=w.focusPercentY,P?(_="number"==typeof T&&"number"==typeof R?[T,R]:[50,50],c.createElement(h.J,null,(function(e){return c.createElement("div",{className:e(C({height:I,width:k}))},c.createElement("div",{className:e(j)},c.createElement(g.a,{miroId:P,imgHeight:I,imgWidth:k,width:"100%",height:"100%",freezeGifs:!1,focusPercent:_})))}))):null);return c.createElement(E.b,{post:r,presentationContext:"PLACEMENT"},c.createElement(h.b,{md:{marginBottom:"48px"}},c.createElement(h.j,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},c.createElement(h.k,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},n&&c.createElement(h.b,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},c.createElement(v.a,{scale:"M"},n)),L&&c.createElement(h.b,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},c.createElement(h.t,{display:"block",href:Object(y.xb)(r)},u?L:null))),c.createElement(h.k,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},c.createElement(h.b,{marginBottom:"16px"},n&&c.createElement(h.b,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},c.createElement(v.a,{scale:"M"},n)),c.createElement(S,{title:r.title?r.title:"",url:Object(y.xb)(r)})),c.createElement(h.b,{display:"flex",alignItems:"center",justifyContent:"space-between"},c.createElement(h.b,{flexShrink:"1",marginRight:"10px"},c.createElement(b.a,{name:"remove_stars_ui"},(function(e){return c.createElement(d.b,{post:r,showBio:!1,scale:"S",showStar:!e&&!!r.isLocked,hideAvatar:!u})}))),c.createElement(h.b,{display:"flex",alignItems:"center"},c.createElement(x.b,{source:{susiEntry:"clap_preview"},extendSource:!0},c.createElement(f.a,{post:r,buttonStyle:"SUBTLE"})),c.createElement(h.b,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),c.createElement(p.a,{post:r})))))))}));t.b=Object(u.c)((function(e){return{productName:e.config.productName}}),null,null,{forwardRef:!0})(_)},"./src/components/post/EmbeddedPost.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/post/EmbeddedPostContext.tsx"),u=n("./src/framework/source/index.ts"),d=n("./src/framework/style/index.ts"),m=n("./src/handlers/EmbeddedPostHandler.tsx");function p(){var e=o()(["\n  fragment EmbeddedPost_post on Post {\n    id\n    tags {\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n  }\n"]);return p=function(){return e},e}a()(p());var f=Object(l.c)((function(e){return{embedPostRules:e.config.embedPostRules}}))((function(e){var t=e.postId,n=e.sourcePost,r=e.embedPostRules,o=t||n&&function(e,t){var n;return e?(t.map((function(t){var r,o;return n||(((null===(r=e.topics)||void 0===r?void 0:r.some((function(e){var n,r;return!!(null==t||null===(n=t.topics)||void 0===n?void 0:n.includes((null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||""))})))||(null===(o=e.tags)||void 0===o?void 0:o.some((function(e){var n,r;return!!(null==t||null===(n=t.tags)||void 0===n?void 0:n.includes((null==e||null===(r=e.id)||void 0===r?void 0:r.toLowerCase())||""))}))))&&(n=t.embedPostId),n)})),n):n}(n,r);return o?i.createElement(m.a,{postId:o},(function(e){var t=Object(d.useCx)();return e?i.createElement(c.a.Provider,{value:!0},i.createElement(u.b,{source:{name:"embedded_post"}},i.createElement("div",{className:t({padding:{xs:"16px 0",sm:"16px 0",md:"18px 0",lg:"24px 0",xl:"32px 0"},marginBottom:"25px"})},e))):null})):null}))},"./src/components/post/InResponseToPostPreview.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/post/paragraph/TextParagraph.tsx"),c=n("./src/components/stream/Quote.tsx"),u=n("./src/components/ui/Card.tsx"),d=n("./src/framework/design-system/components/index.ts"),m=n("./src/schema-types/globalTypes.ts"),p=n("./src/svg/clap-filled-19px.svg"),f=n("./src/svg/response-filled-19px.svg"),b=n("./src/util/numbers.ts"),g=n("./src/util/quote.ts"),h=n("./src/util/routes.ts");function v(){var e=o()(["\n  fragment InResponseToPostPreview_mediaResource on Post {\n    inResponseToMediaResource {\n      mediumQuote {\n        ...Quote_quote\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function x(){var e=o()(["\n  fragment InResponseToPostPreview_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        name\n      }\n      clapCount\n      responsesCount\n    }\n  }\n"]);return x=function(){return e},e}var E=function(e){var t,n=e.inResponseToPostResult,r=e.inResponseToMediaResource,o=e.padding;if(n)switch(n.__typename){case"Post":t=n}if(!t)return null;var s=t.title,a=t.creator&&t.creator.name,c=parseInt(t.clapCount,10),v=parseInt(t.responsesCount,10),x=r&&r.mediumQuote&&Object(g.b)(r.mediumQuote),E=x&&x.type;if(E===m.l.IMG||E===m.l.IFRAME||E===m.l.COVER_TITLE||E===m.l.HR||E===m.l.MIXTAPE_EMBED||E===m.l.SECTION_CAPTION)return null;var y=i.createElement(d.f,{href:Object(h.xb)(t)},i.createElement(u.a,null,i.createElement(d.z,{ui:"REGULAR"},i.createElement(d.b,{paddingLeft:"20px",paddingRight:"20px"},x&&E&&i.createElement(d.b,{paddingBottom:"20px"},i.createElement(l.g,{paragraph:x,paragraphStyle:E,spaceTop:10,richTextStyle:"STREAM"})),i.createElement(d.b,{display:"flex"},i.createElement(d.b,{display:"flex",flexGrow:"1",flexShrink:"1",alignItems:"center"},i.createElement(d.d,{strong:!0,clamp:1},s)),i.createElement(d.d,null,i.createElement(d.b,{display:"flex",flexGrow:"0",alignItems:"center"},c>0?i.createElement(d.b,{display:"flex",alignItems:"center"},i.createElement(d.b,{tag:p.a,marginRight:"4px"}),i.createElement("div",null,Object(b.d)(c))):null,v>0?i.createElement(d.b,{display:"flex",alignItems:"center"},i.createElement(d.b,{tag:f.a,marginLeft:"8px",marginRight:"4px"}),i.createElement("div",null,Object(b.d)(v))):null))),i.createElement(d.d,null,a)))));return o?i.createElement(d.b,{padding:o},y):y},y=a()(x()),O=a()(v(),c.a)},"./src/components/post/MaybeRedirectToEditor.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/navigation/Redirect.tsx"),u=n("./src/components/session/WithViewer.tsx"),d=n("./src/util/routes.ts");function m(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return m=function(){return e},e}var p=a()(m()),f=Object(l.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return i.createElement(u.b,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?i.createElement(c.a,{to:Object(d.ub)(t,n.id)}):r}))}))},"./src/components/post/NormalizePostBodyModel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/util/string.ts");function l(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return c=function(){return e},e}var u=function(e){for(var t=null,n=null,r=null,o=0;o<=e.length;o++){var s=e[o];if(!s)break;if(null!=t){"H4"===s.type&&(n=o);break}if("H3"===s.type||"H2"===s.type)t=o;else{if(null!=r)break;if("H4"!==s.type){if("IMG"===s.type||"IFRAME"===s.type||"P"===s.type&&"string"==typeof s.text&&Object(i.a)(s.text))continue;break}r=o}}return{titleIndex:t,subtitleIndex:n}},d=a()(c()),m=function(e){for(var t=null,n=0;n<e.length;n++)if("IMG"===e[n].type){if(e[n].metadata&&e[n].metadata.isFeatured)return n;null===t&&(t=n)}return t},p=a()(l())},"./src/components/post/PostBodyInserts.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return S}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/WatchBounds.tsx"),c=n("./src/components/collection/auroraHooks.ts"),u=n("./src/components/post/NormalizePostBodyModel.ts"),d=n("./src/components/post/PostByline.tsx"),m=n("./src/components/post/bookmark/index.ts"),p=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),f=n("./src/components/post/footer/CreatorActionOverflowPopover.tsx"),b=n("./src/components/post/footer/PostFooterSocialPopover.tsx"),g=n("./src/components/session/useFlag.tsx"),h=n("./src/components/social/ShareButtons.tsx"),v=n("./src/framework/design-system/index.ts"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/source/index.ts"),y=n("./src/framework/style/useCx.ts");function O(){var e=o()(["\n  fragment PostBodyInserts_post on Post {\n    collection {\n      ...auroraHooks_collection\n    }\n    isPublished\n    isShortform\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...PostByline_post\n    ...PostFooterSocialPopover_post\n    ...ShareButtons_post\n    ...BookmarkButton_post\n    ...CreatorActionOverflowPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}function w(e){var t=e.post,n=Object(y.a)(),r=Object(c.b)(t.collection),o=Object(g.a)("enable_mute"),s={marginTop:"32px"},a={post:t,source:{name:"post_actions_header"}};return i.createElement(l.a,{className:n(s),name:"byline",type:"byline",offset:{left:-600}},i.createElement(x.b,{display:"flex",justifyContent:"space-between",xs:{marginTop:s.marginTop},sm:{flexDirection:"column-reverse",marginTop:s.marginTop}},i.createElement(d.b,{scale:"M",post:t,showBio:!1,hideCollection:!0}),i.createElement(x.b,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},i.createElement(x.b,{display:"flex",alignItems:"center"},t.isPublished&&(!r||!t.isShortform)&&i.createElement(i.Fragment,null,r?i.createElement(x.b,{paddingRight:"6px"},i.createElement(b.a,a)):i.createElement(h.a,a),i.createElement(x.b,{flexGrow:o?void 0:"1",marginRight:o?"8px":"-6px"},i.createElement(E.b,{source:{name:"post_actions_header",susiEntry:"bookmark_header"}},i.createElement(p.a,{post:t}))),o&&i.createElement(x.b,{flexGrow:"1",marginRight:"-6px"},i.createElement(x.I,null,(function(e){var n=e.show;return i.createElement(f.a,{creator:null==t?void 0:t.creator,post:t,collection:null==t?void 0:t.collection,showLoadingIndicator:n})}))))))))}function C(e,t,n){return function(r){var o="number"==typeof n.titleIndex,s=n.subtitleIndex||n.titleIndex||0,a=t[s]&&t[s].name,l=i.createElement(w,{post:e});return a&&0===s&&!o?r.first={order:"before",component:i.createElement(v.a,{size:"inset"},l)}:a&&(r[a]={order:"after",component:l}),r}}function j(e){var t=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(t)return[C(e,t,Object(u.d)(t))].reduce((function(e,t){return t(e)}),{})}var S=a()(O(),c.a,d.a,b.b,h.b,m.b,f.b)},"./src/components/post/PostByline.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(p),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=n.n(b),h=n("./node_modules/graphql-tag/src/index.js"),v=n.n(h),x=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),y=n("./src/components/format/Date.tsx"),O=n("./src/components/ui/Byline.tsx"),w=n("./src/components/user/UserAvatar.tsx"),C=n("./src/components/user/UserFollowButton.tsx"),j=n("./src/framework/design-system/components/index.ts"),S=n("./src/framework/design-system/components/Box.tsx"),_=n("./src/framework/design-system/type/Detail.tsx"),P=n("./src/framework/source/index.ts"),k=n("./src/styles/breakpoints.ts"),I=n("./src/svg/star-15px.svg"),T=n("./src/svg/unlisted-19px.svg"),R=n("./src/util/numbers.ts"),A=n("./src/util/routes.ts");function L(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    mediumUrl\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    isShortform\n    visibility\n    collection {\n      name\n      id\n      slug\n      ...collectionUrl_collection\n    }\n    creator {\n      name\n      username\n      id\n      bio\n      isFollowing\n      ...UserAvatar_user\n    }\n  }\n  ","\n  ","\n"]);return L=function(){return e},e}var M={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},B=function(e,t){return g()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},k.xs(t),{marginBottom:"0px"})},D=function(e){function t(){return a()(this,t),u()(this,m()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.currentLocation,n=e.post,r=e.showBio,o=e.scale,s=void 0===o?"M":o,a=e.detailScale,i=void 0===a?"M":a,l=e.showStar,c=void 0===l?n.isLocked&&!n.isShortform:l,u=e.hideCollection,d=void 0!==u&&u,m=e.hideAvatar,p=void 0!==m&&m,f=e.hideDescription,b=void 0!==f&&f,g=e.noClamp,h=void 0!==g&&g,v=n.id,E=n.creator,k=n.collection,L=n.statusForCollection,D=n.visibility,N=n.isPublished,U=M[s];if(!n||!v||!E)return null;var F=n.firstPublishedAt,V=E.username,H=E.name;if(!H||!V)return null;var z=x.createElement(w.d,{user:E,scale:U.avatarScale,link:!0}),G=r?x.createElement("div",null,E.bio):null,q="APPROVED"===L,W=U.showFollowButton?x.createElement(P.b,{source:{susiEntry:"follow_byline"}},x.createElement(S.a,{marginLeft:"8px",xs:{display:"none"},flexShrink:"0"},x.createElement(C.c,{user:E,buttonSize:"COMPACT"}))):null,$=x.createElement(j.J,null,(function(e){return x.createElement(j.L,null,(function(n){return x.createElement("div",{className:e(B(U.showFollowButton,n))},x.createElement(_.a,{scale:i,tag:"span",color:"DARKER",clamp:h?void 0:1},x.createElement(j.t,{href:Object(A.lc)(V),inline:!0},H),k&&q&&!d?x.createElement("span",null," ","in"," ",x.createElement(j.t,{href:Object(A.F)(k,t),inline:!0},k.name)):null),W)}))})),K=x.createElement(_.a,{scale:i,tag:"span",clamp:1},G,x.createElement("div",null,N?x.createElement(j.t,{href:Object(A.xb)(n),inline:!0},F&&x.createElement(y.a,{timestamp:F})):x.createElement("span",null,"Draft")," ","·"," ","UNLISTED"===D?x.createElement(_.a,{scale:"S",tag:"span"},x.createElement(T.a,null)," Unlisted"):x.createElement(x.Fragment,null,Object(R.e)(n.readingTime||0)," min read"),c&&x.createElement("span",{style:{paddingLeft:"4px"}},x.createElement(I.a,{style:{marginTop:"-2px"}}))));return x.createElement(O.a,{avatar:!p&&z,title:$,description:!b&&K})}}]),t}(x.Component),N=v()(L(),w.b,A.G);t.b=Object(E.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))(D)},"./src/components/post/PostHeader.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return M}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/audio/AudioPlayback.tsx"),u=n("./src/components/broadcast-banner/BroadcastBanner.tsx"),d=n("./src/components/meter/MeterController.tsx"),m=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),p=n.n(m),f=n("./src/components/cta/HighlightCTA.tsx"),b=n("./src/components/newsletter-v3/NewsletterV3UnsubscribeToast.tsx"),g=n("./src/components/newsletter-v3/useNewsletterV3Subscription.tsx"),h=n("./src/components/session/WithViewer.tsx"),v=n("./src/components/susi/SusiClickable.tsx"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),y=n("./src/framework/reporter/index.ts"),O=n("./src/framework/source/index.ts"),w=n("./src/framework/style/index.ts"),C=n("./src/util/routes.ts");function j(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    viewerIsEditor\n    ...SusiClickable_collection\n    newsletterV3 {\n      id\n      slug\n      name\n      isSubscribed\n      ...SusiClickable_newsletterV3\n    }\n  }\n  ","\n  ","\n"]);return j=function(){return e},e}var S=a()(j(),v.b,v.c),_=function(e){return{color:e.accentColor.text.dark,fontWeight:"bold",cursor:"pointer"}},P=function(e){var t=e.collection,n=Object(l.f)((function(e){return e.config.authDomain})),r=Object(w.useCx)(),o=Object(y.c)(),s=t.newsletterV3||{id:"",slug:"",name:"",isSubscribed:!1},a=i.useState(!1),c=p()(a,2),u=c[0],d=c[1],m=Object(g.a)(s.id,s.isSubscribed),j=m.isSubscribed,S=m.hasUserUnsubscribed,P=m.hasError,k=m.setSubscribe,I=Object(C.t)(t,s.slug,n),T=function(){return i.createElement(x.t,{inline:!0,linkStyle:"OBVIOUS",href:I},s.name)},R=function(){var e=function(e){var t=e.isUserLoggedIn;return i.createElement("span",{className:r(_),onClick:function(){t&&(d(!0),k(!0)),o.event("newsletterV3.subscribeClicked",{newsletterV3Id:s.id,source:"newsletter_v3_post_header_cta"})}}," Get this newsletter")};return i.createElement(h.b,null,(function(n){return n?i.createElement(O.b,{source:{name:"newsletter_v3_post_header_cta",newsletterV3Id:s.id}},i.createElement(e,{isUserLoggedIn:!!n})):i.createElement(v.a,{operation:"register",newsletterV3:s,collection:t,susiEntry:"post_header",actionUrl:Object(C.Sb)(s.id)},i.createElement(e,{isUserLoggedIn:!!n}))}))},A=function(){return i.createElement("span",{className:r(_),onClick:function(){return k(!1)}}," Unsubscribe")};return i.createElement(i.Fragment,null,i.createElement(f.a,null,j&&u?i.createElement((function(){return i.createElement(i.Fragment,null,"You are signed up for ",i.createElement(T,null),". ",i.createElement(A,null))}),null):i.createElement((function(){return i.createElement(i.Fragment,null,"This is an email from ",i.createElement(T,null),", a newsletter by ",t.name,".",!s.isSubscribed&&!t.viewerIsEditor&&i.createElement(R,null))}),null)),P&&i.createElement(E.a,{toastStyle:"RETRYABLE_ERROR",isVisible:P,hide:function(){}}),S&&i.createElement(b.a,{name:s.name||""}))},k=n("./src/components/post/InResponseToPostPreview.tsx"),I=n("./src/components/post/PostPaywallAlert.tsx");function T(){var e=o()(["\n  fragment PostHeader_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return T=function(){return e},e}function R(){var e=o()(["\n  fragment PostHeader_post on Post {\n    newsletterId\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    tags {\n      id\n    }\n    collection {\n      ...NewsletterV3PostHeaderCTA_collection\n    }\n    layerCake\n    isLocked\n    id\n    firstPublishedAt\n    ...InResponseToPostPreview_mediaResource\n    ...MeterController_post\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var A=Object(l.c)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t,n,r=e.meteringInfo,o=e.post,s=e.isAmp;return i.createElement(x.A,{columns:8},!!o.newsletterId&&!!o.collection&&i.createElement(P,{collection:o.collection}),i.createElement(k.a,{inResponseToPostResult:o.inResponseToPostResult,inResponseToMediaResource:o.inResponseToMediaResource,padding:"10px 0 0"}),!!o.isLocked&&!!r&&i.createElement(d.a,{meteringInfo:r,post:o}),i.createElement(u.a,{topics:null==o||null===(t=o.topics)||void 0===t?void 0:t.map((function(e){return e.name})),tags:null==o||null===(n=o.tags)||void 0===n?void 0:n.map((function(e){return e.id})),tier:null==o?void 0:o.layerCake,isLocked:null==o?void 0:o.isLocked,postId:null==o?void 0:o.id,postPublishDate:null==o?void 0:o.firstPublishedAt}),!o.inResponseToPostResult&&i.createElement(I.a,{post:o}),o.audioVersionUrl&&!s&&i.createElement(c.a,{post:o}))})),L=a()(R(),k.c,k.b,d.c,I.b,c.b,S),M=a()(T(),d.b)},"./src/components/post/PostMetadata.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-helmet-async/lib/index.module.js"),d=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),p=n.n(m),f=n("./node_modules/lodash/merge.js"),b=n.n(f),g=n("./node_modules/serialize-javascript/index.js"),h=n.n(g),v=n("./src/util/miroImage.ts"),x=n("./src/util/navigation.ts"),E=n("./src/util/post/metaHelpers.ts"),y=n("./src/util/routes.ts");function O(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    topics {\n      name\n      slug\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n"]);return O=function(){return e},e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="Tag",S="Topic",_="Publication",P="Sequence",k="LockedPostSource",I="Elevated",T="LayerCake",R="Lite";function A(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),s=o/r,a=Math.floor(n*s);return L({width:a,height:o,url:Object(v.d)({miroId:t,width:a,freezeGifs:!0,strategy:v.a.Resample})})}function L(e){return C({"@type":"ImageObject"},e)}function M(e,t){return"".concat(e,":").concat(t)}var B=Object(d.c)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,s=e.navigation;return{currentLocation:s.currentLocation,host:s.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,s=e.productName,a=e.defaultImages,i=e.collectionStructuredData,l=r.collection,d=r.creator,m=r.id,f=r.mediumUrl,g=r.isLocked,O=r.previewImage,w=r.firstPublishedAt,B=r.updatedAt,D=r.tags,N=r.topics,U=r.sequence,F=r.lockedSource,V=r.layerCake,H=r.structuredData,z=Object(E.e)(r,s),G={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},q={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},W=l?{"@type":"Organization",name:l.name,url:l.domain||Object(x.b)(n,Object(y.F)(l,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return A(q);var t=A(e.logo);return t&&60===t.height&&t.width<=600?t:A(q)}(l)}:{"@type":"Organization",name:s,url:Object(x.b)(n,"/"),logo:A(q)};l&&i&&i[l.id]&&b()(W,i[l.id].data);var $=[M(R,"true")];D&&D.forEach((function(e){e.displayTitle&&$.push(M(j,e.displayTitle))})),N&&N.forEach((function(e){e.name?$.push(M(S,e.name)):e.slug&&$.push(M(S,e.slug))})),l&&l.slug&&$.push(M(_,l.slug)),$.push(M(I,(!!U).toString())),U&&U.slug&&$.push(M(P,U.slug)),F&&$.push(M(k,F)),null!=V&&$.push(M(T,V.toString()));var K=o||"",Y=g?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},X={"@context":"http://schema.org"},Q=C({"@type":"NewsArticle",image:O&&O.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,s=e.focusPercentY;if(!t)return null;var a=Object(v.b)({miroId:t,aspectRatio:16/9,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:s}),i=Object(v.b)({miroId:t,aspectRatio:4/3,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:s}),l=Object(v.b)({miroId:t,aspectRatio:1,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:s}),c=new Set([a,i,l]);return Array.from(c)}(O):L({url:Object(v.d)({miroId:G.id,width:G.originalWidth}),height:G.originalHeight,width:G.originalWidth}),url:f,dateCreated:w&&new Date(w).toISOString(),datePublished:w&&new Date(w).toISOString(),dateModified:B&&new Date(B).toISOString(),headline:z,name:z,description:K,identifier:m,keywords:$.length?$:null,author:d&&d.name&&d.username?{"@type":"Person",name:d.name||d.username,url:Object(y.ib)(n,d.username)}:null,creator:d&&[d.name],publisher:W,mainEntityOfPage:f},Y),J=C({},X,{},Q);if(H&&H.length>0)try{var Z=JSON.parse(H);if(Z&&(null==Z?void 0:Z["@graph"])&&(null==Z?void 0:Z["@graph"].length)>0){var ee=((null==Z?void 0:Z["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));ee&&ee.length>0&&(J=C({},X,{"@graph":[Q].concat(p()(ee))}))}}catch(e){}return c.createElement(u.a,null,c.createElement("script",{type:"application/ld+json"},h()(J,{isJSON:!0})))})),D=l()(O(),E.f),N=n("./src/components/session/useFlag.tsx"),U=n("./src/util/numbers.ts"),F=n("./src/util/post/metaDescription.ts");function V(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndex_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.b=Object(d.c)((function(e){return{host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,s=e.productName,i=e.post,l=i.canonicalUrl,d=i.collection,m=i.creator,p=i.id,f=i.latestPublishedAt,b=i.mediumUrl,g=i.previewContent,h=i.socialTitle,x=i.socialDek,O=i.visibility,w=i.isShortform,C=!!Object(N.a)("default_seo_post_titles"),j=d&&d.ampEnabled,S=m&&m.name,_=Object(E.c)(i),P=i.title||"",k=_.latestTitle||P;if(w){var I=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{title:k});t=Object(E.i)(I,s,_.hasTitleGraf).trim(),n=Object(F.c)(i,_.hasTitleGraf)}else t=Object(E.e)(i,s,_,C).trim(),n=Object(F.a)(i);var T,R,A=x||g&&g.subtitle||n;if(i&&i.previewImage&&i.previewImage.id&&!i.isLimitedState){var L=i.previewImage;T=Object(v.b)({miroId:L.id,aspectRatio:1.9,croppedWidth:L.originalWidth?Math.min(L.originalWidth,1200):1200,originalWidth:L.originalWidth,originalHeight:L.originalHeight,focusPercentX:L.focusPercentX,focusPercentY:L.focusPercentY})}else if(i.isLimitedState){var M={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};T=Object(v.b)({miroId:M.id,aspectRatio:1.9,croppedWidth:M.originalWidth?Math.min(M.originalWidth,1200):1200,originalWidth:M.originalWidth,originalHeight:M.originalHeight,focusPercentX:M.focusPercentX,focusPercentY:M.focusPercentY})}m&&m.username&&(R=Object(y.ib)(o,m.username));var D=Object(y.j)(p),V=!Object(E.k)(i),z=f&&new Date(f).toISOString(),G=Object(U.e)(i.readingTime||0),q=m&&m.twitterScreenName,W=d&&d.twitterUsername||"Medium",$=d&&d.facebookPageId,K=h||(P||k);i.isLimitedState&&(K="");var Y=i.isLimitedState?"":A,X=c.useMemo((function(){return c.createElement(u.a,{htmlAttributes:r?{amp:void 0}:{}},c.createElement("meta",{property:"og:type",content:"article"}),z&&c.createElement("meta",{property:"article:published_time",content:z}),j&&!r?c.createElement("link",{rel:"amphtml",href:Object(y.d)(o,p)}):null,c.createElement("title",null,t),c.createElement("meta",{name:"title",content:t}),c.createElement("meta",{property:"og:title",content:K}),c.createElement("meta",{property:"twitter:title",content:K}),$&&c.createElement("meta",{property:"fb:pages",content:$}),c.createElement("meta",{name:"twitter:site",content:"@".concat(W)}),c.createElement("meta",{name:"twitter:app:url:iphone",content:D}),c.createElement("meta",{property:"al:android:url",content:D}),c.createElement("meta",{property:"al:ios:url",content:D}),c.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&c.createElement("meta",{name:"description",content:n}),A&&c.createElement("meta",{property:"og:description",content:Y}),A&&c.createElement("meta",{property:"twitter:description",content:Y}),c.createElement("meta",{property:"og:url",content:b}),c.createElement("meta",{property:"al:web:url",content:b}),T&&c.createElement("meta",{property:"og:image",content:T}),T&&c.createElement("meta",{name:"twitter:image:src",content:T}),c.createElement("meta",{name:"twitter:card",content:T?"summary_large_image":"summary"}),R&&c.createElement("meta",{property:"article:author",content:R}),R&&c.createElement("link",{rel:"author",href:R}),q&&c.createElement("meta",{name:"twitter:creator",content:"@".concat(q)}),S&&c.createElement("meta",{name:"author",content:S}),c.createElement("link",{rel:"canonical",href:l||b}),c.createElement("link",{rel:"alternate",href:Object(y.g)(Object(y.zb)("medium.com",i.id))}),c.createElement("meta",{name:"robots",content:"".concat(V?"noindex":"index",",follow,max-image-preview:large")}),c.createElement("meta",{name:"referrer",content:"UNLISTED"!==O?"unsafe-url":"origin"}),r?null:c.createElement("meta",{name:"twitter:label1",value:"Reading time"}),r?null:c.createElement("meta",{name:"twitter:data1",value:"".concat(G," min read")}),c.createElement("meta",{name:"parsely-post-id",content:p}))}),[r,t,l,b,T,j,p,h,n,R,S,q,D,V,z]);return c.createElement(c.Fragment,null,X,c.createElement(B,{post:i,postDescription:n}))}));var z=l()(V(),D,F.b,F.d,E.l,E.j,E.d,E.f)},"./src/components/post/PostPaywallAlert.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return j}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),d=n("./src/components/session/WithViewer.tsx"),m=n("./src/components/session/useFlag.tsx"),p=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/Detail.tsx"),b=n("./src/util/routes.ts");function g(){var e=o()(["\n  mutation PostPaywallAlertMutation($postId: ID!) {\n    dismissDistributionAlert(postId: $postId)\n  }\n"]);return g=function(){return e},e}function h(){var e=o()(["\n  fragment PostPaywallAlert_post on Post {\n    id\n    visibility\n    lockedSource\n    curationEligibleAt\n    collection {\n      isEnrolledInHightower\n      isAuroraVisible\n      viewerIsEditor\n    }\n    creator {\n      id\n      isPartnerProgramEnrolled\n    }\n    isDistributionAlertDismissed\n  }\n"]);return h=function(){return e},e}var v=function(){return u.createElement(p.t,{href:Object(b.L)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},x=function(){return u.createElement(p.t,{href:Object(b.K)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},E=function(){return u.createElement(u.Fragment,null,"This story's distribution setting is off. ",u.createElement(v,null))},y={LOCKED:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is on. ",u.createElement(x,null))},PUBLIC:E,UNLISTED:E},O={LOCKED:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is on. You're in the Partner Program, so this story is eligible to earn money. ",u.createElement(x,null))},PUBLIC:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is off and it won't earn money in the Partner Program."," ",u.createElement(v,null))},UNLISTED:E};function w(e){var t=e.post,n=e.viewer,r=Object(i.d)(S),o=a()(r,1)[0],s=t.collection,l=t.lockedSource,c=t.creator,d=t.visibility,b=t.curationEligibleAt,g=t.isDistributionAlertDismissed,h=!(!n||!t.creator||n.id!==t.creator.id),v=!(!t.collection||!t.collection.viewerIsEditor),x=Object(m.a)("enable_aurora_lightweight_flow"),E=null==s?void 0:s.isAuroraVisible;if(!h&&!v||g||x&&E)return null;var w=s&&s.isEnrolledInHightower,C="LOCKED_POST_SOURCE_UGC"===l,j=h&&c&&c.isPartnerProgramEnrolled,_=C&&(v&&w||j&&!w)?O:y,P=!!(b&&b>0)?_.LOCKED:_[d];return u.createElement(p.I,{initialVisibility:!0},(function(e){var n=e.hide;return e.isVisible&&u.createElement(p.b,{border:"BASE_LIGHT",borderRadius:"4px",position:"relative",marginTop:"24px",marginBottom:"15px"},u.createElement(p.g,{onClick:function(){n(),o({variables:{postId:t.id}})},size:"LARGE"}),u.createElement(p.b,{padding:"20px"},u.createElement(p.b,{marginBottom:"8px"},u.createElement("i",null,u.createElement(f.a,{scale:"S"},"Only you can see this message"))),u.createElement(f.a,{scale:"M",color:"DARKER"},u.createElement(P,null))))}))}function C(e){var t=e.post;return u.createElement(d.b,null,(function(e){return u.createElement(w,{post:t,viewer:e})}))}var j=c()(h()),S=c()(g())},"./src/components/post/PostPublishedDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return k}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),c=n("./src/components/session/WithFlag.tsx"),u=n("./src/components/session/WithViewer.tsx"),d=n("./src/components/social/ShareButton.tsx"),m=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),f=n("./src/framework/design-system/util/type/headingSizeRule.ts"),b=n("./src/framework/style/index.ts"),g=n("./src/styles/colors.ts"),h=n("./src/util/CopyUrl.tsx"),v=n("./src/util/navigation.ts"),x=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n  }\n"]);return E=function(){return e},e}function y(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function O(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n  }\n  ","\n"]);return O=function(){return e},e}var w=i()(O(),d.b),C=i()(y(),w),j=function(e){var t=e.url,n=e.label;return l.createElement(h.a,{url:t},(function(e){return l.createElement(m.b,{marginBottom:"8px"},l.createElement(m.c,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},l.createElement(m.b,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},S=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return l.createElement(m.b,{display:"flex",flexDirection:"column",alignItems:"center"},l.createElement(p.a,{color:"DARKER",scale:"L",tag:"p"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),l.createElement(m.b,{marginTop:"20px"},!n&&l.createElement(l.Fragment,null,l.createElement(m.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),l.createElement(m.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),l.createElement(c.a,{name:"share_post_linkedin"},(function(e){return e?l.createElement(m.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t})):null}))),l.createElement(j,{url:r,label:"Copy story link"})))},_=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=Object(b.useCx)(),s=r.id,a=r.visibility,i=r.curationEligibleAt,c=r.mediumUrl,u=r.shareKey,d="UNLISTED"===a,h=!!i,E=Object(f.b)("h3");return l.createElement(m.i,{isVisible:t,hide:n,withAnimation:!0,withCloseButton:!1},l.createElement(m.b,{background:g.G,borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(g.B)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},l.createElement(m.g,{onClick:n,size:"LARGE"}),l.createElement(m.b,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},l.createElement(m.b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},l.createElement("h3",{className:o(E)},"Your story is published!"),l.createElement(m.b,{maxWidth:"520px",marginTop:"20px"},l.createElement(p.a,{color:"DARKER",scale:"L",tag:"p"},function(e,t){return e?"Your unlisted story will not appear publicly on Medium, but you can still share it.":t?"If our curators recommend your story to readers by adding it to relevant topics, we will email you to let you know. Recommended stories are part of Medium's metered paywall, and you can use the custom Friend Link below to give anyone who clicks it free access to your story.":"You chose not to make this story eligible for review by curators and distribution through Medium topics. Your story will only be shared on Medium with readers who follow you."}(d,h))),l.createElement(m.b,{paddingTop:"20px"},h&&!d&&c&&u&&l.createElement(j,{url:Object(v.a)(Object(x.xb)(r),{sk:u}),label:"Copy Friend Link"})),l.createElement(m.b,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),s&&c&&l.createElement(S,{post:r,isUnlisted:d,postPath:Object(x.xb)(r)}))))},P=function(e){var t=e.post;return l.createElement(u.b,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?l.createElement(s.b,{ssr:!1,query:C,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,o=(r=void 0===r?{}:r).post;if(n||!o||o.inResponseToPostResult)return null;var s={isVisible:e.isVisible,hide:e.hide,post:o};return l.createElement(_,s)})):null}))},k=i()(E())},"./src/components/post/PostRecircItemV2.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/post/PostByline.tsx"),m=n("./src/components/session/WithFlag.tsx"),p=n("./src/components/ui/image/ProgressiveMiroImage.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/track/index.ts"),h=n("./src/util/miroImage.ts"),v=n("./src/util/routes.ts");function x(){var e=a()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return x=function(){return e},e}var E=l()(x(),d.a,g.c);t.b=Object(u.c)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var t,n=e.post,r=e.defaultImages,s=(null==n?void 0:n.post)||n;if(!s)return null;var a,i,l,u,x=s.title,E=s.previewImage,y=null==r||null===(t=r.postPreviewImage)||void 0===t?void 0:t.imageId,O=(a={id:(null==E?void 0:E.id)||y,focusPercentX:null==E?void 0:E.focusPercentX,focusPercentY:null==E?void 0:E.focusPercentY},i=a.id,l=a.focusPercentX,u=a.focusPercentY,i?c.createElement(p.a,{miroId:i,freezeGifs:!1,focusPercentX:l,focusPercentY:u,strategy:h.a.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return c.createElement(g.b,{post:s,presentationContext:"PLACEMENT"},c.createElement(f.b,{display:"flex",justifyContent:"space-between"},c.createElement(f.b,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},c.createElement(f.b,{paddingBottom:"8px"},c.createElement(b.b,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},c.createElement(f.f,{href:Object(v.xb)(s)},x))),c.createElement(m.a,{name:"remove_stars_ui"},(function(e){return c.createElement(c.Fragment,null,c.createElement(d.b,{post:s,showBio:!1,scale:"S",detailScale:"S",showStar:!e&&!!s.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0}))}))),O&&c.createElement(f.b,o()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),c.createElement(f.t,{display:"block",href:Object(v.xb)(s)},O))))}))},"./src/components/post/PostSidebar.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(c),d=n("./node_modules/graphql-tag/src/index.js"),m=n.n(d),p=n("./node_modules/react/index.js"),f=n("./node_modules/react-redux/es/index.js"),b=n("./src/WatchBounds.tsx"),g=n("./src/components/collection/CollectionFollowButton.tsx"),h=n("./src/components/collection/auroraHooks.ts"),v=n("./src/components/metabar/constants.ts"),x=n("./src/components/post/bookmark/index.ts"),E=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),y=n("./src/components/post/multivote/MultiVote.tsx"),O=n("./src/components/read-next/ReadNext.tsx"),w=n("./src/components/responses/ResponsesIconButton.tsx"),C=n("./src/components/sidebar/SidebarWrapper.tsx"),j=n("./src/framework/design-system/components/index.ts"),S=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/source/index.ts"),P=n("./src/framework/style/index.ts"),k=n("./src/framework/track/DomMonitor.ts"),I=n("./src/styles/mediaTypes.ts"),T=n("./src/util/dom.ts"),R=n("./src/util/routes.ts");function A(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      ...auroraHooks_collection\n      ...PostSidebar_collection\n    }\n    creator {\n      bio\n      name\n      username\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}function L(){var e=o()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return L=function(){return e},e}var M=function(e){return{pointerEvents:e?"auto":"none"}},B=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(v.a,"px + 54px + 14px)")},u()(t,Object(I.b)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},D=p.forwardRef((function(e,t){var n,r=e.isClearOfBounds,o=e.isOnPage,s=e.post,i=e.setIsResponsesSidebarVisible,c=Object(f.f)((function(e){return e.navigation.currentLocation})),u=Object(P.useCx)(),d=p.useContext(b.b).watchedBounds,m=p.useState(o||!1),g=l()(m,2),v=g[0],x=g[1],S=p.useState(r||!1),k=l()(S,2),I=k[0],R=k[1],A=p.useRef(null),L=p.useRef(null),D=s.collection;p.useEffect(F(d,x),[d]);var H=p.useCallback(function(e,t,n,r,o){return function(){var s=e.current,a=t.current;if(s){var i=o.threshold||10,l=["image","bgimage","footer","byline","title","header"],c=Array.from(n.values()).filter((function(e){var t,n=e.ref,r=e.opts;return l.includes(null!==(t=r.type)&&void 0!==t?t:"")&&!!n.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=Object(T.a)(t.current);return Object(T.h)(o,r)})),u=Object(T.a)(s),d=!c.some((function(e){return Object(T.f)(e,u,i)})),m=!0;if(a){var p=Object(T.a)(a);m=!c.some((function(e){return Object(T.f)(e,p,i)}))}r(d&&m)}}}(A,L,d,R,{threshold:10}),[d,R]);p.useEffect((function(){H()}),[]);var z="object"===a()(t)?t:null;p.useEffect(V(H,null==z?void 0:z.current),[H,null==z?void 0:z.current]);var G=Object(h.b)(D),q=G?I:I&&v,W=G?p.createElement(U,{post:s}):D&&p.createElement(N,{post:s,currentLocation:c}),$=!G||v,K=function(e,t){var n,r,o,s,a=null===(n=e.get("byline"))||void 0===n||null===(r=n.ref)||void 0===r?void 0:r.current,i=null===(o=e.get("ghost-track"))||void 0===o||null===(s=o.ref)||void 0===s?void 0:s.current,l=i&&Object(T.a)(i).top+window.scrollY-window.innerHeight||0;if(a&&i){var c=a.offsetTop+a.offsetHeight+40;return t?c-l:c}}(d,$);return p.createElement(_.b,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},p.createElement(C.b,{testId:"post-sidebar",isFixed:$,scrollableRef:t,sidebarRef:A,topOffset:K,visible:q},p.createElement("div",{className:u(M(q))},W,!s.isShortform&&p.createElement(p.Fragment,null,p.createElement(_.b,{source:{susiEntry:"clap_sidebar"},extendSource:!0},p.createElement(j.b,{display:"flex",marginBottom:"19px",marginLeft:"-3px",paddingTop:"28px"},p.createElement(y.a,{post:s,buttonStyle:"SUBTLE_PADDED",hasDialog:!0}))),p.createElement(j.b,{marginBottom:"19px"},p.createElement(_.b,{source:{postId:s.id},extendSource:!0},p.createElement(w.a,{responsesCount:null===(n=s.postResponses)||void 0===n?void 0:n.count,location:"sidebar",setIsResponsesSidebarVisible:i,allowResponses:s.allowResponses,postId:s.id,isLimitedState:s.isLimitedState}))),p.createElement(E.a,{post:s})))),p.createElement("div",{className:u(B(q)),ref:L},p.createElement(O.a,{postId:s.id,isVisible:q})))})),N=function(e){var t=e.post,n=e.currentLocation,r=t.collection;if(!r)return null;var o=t.isShortform?"NONE":"BASE_LIGHTER";return p.createElement(j.b,{paddingBottom:"28px",borderBottom:o},(null==r?void 0:r.name)&&p.createElement(j.t,{href:Object(R.F)(r,n)},p.createElement(S.b,{scale:"XS"},r.name)),(r.tagline||r.description)&&p.createElement(j.b,{paddingTop:"2px",paddingBottom:"20px"},p.createElement(S.a,{scale:"M",clamp:6},r.tagline||r.description)),p.createElement(_.b,{source:{susiEntry:"follow_sidebar"},extendSource:!0},p.createElement(g.a,{collection:r,post:t})))},U=function(e){var t=e.post,n=t.creator;if(!n||!n.name)return null;var r=p.createElement(S.b,{scale:"XS"},n.name),o=n.username?p.createElement(j.t,{href:Object(R.lc)(n.username)},r):r,s=t.isShortform?"NONE":"BASE_LIGHTER";return p.createElement(j.b,{paddingBottom:"28px",borderBottom:s},p.createElement(S.d,{scale:"S"},"Written by"),p.createElement(j.b,{paddingTop:"5px",paddingBottom:"5px"},o),n.bio&&p.createElement(j.b,{paddingTop:"2px"},p.createElement(S.a,{scale:"M",clamp:6},n.bio)))},F=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}};var V=function(e,t){return function(){var n=Object(k.b)(t);return n.on("scroll_throttled",e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off("scroll_throttled",e),n.off("scroll_end",e),n.off("resize_throttled",e)}}},H=m()(L(),g.b,R.G),z=m()(A(),h.a,H,x.b,g.c,y.b,w.b)},"./src/components/post/body/InteractivePostBody.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return L}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(i),c=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react/index.js"),p=n("./src/components/post/body/ActivePrivateNoteContext.tsx"),f=n("./src/components/post/body/ActiveSelectionContext.tsx"),b=n("./src/components/post/body/ParagraphRefsMapContext.tsx"),g=n("./src/components/post/body/PostBody.tsx"),h=n("./src/components/post/markups/HighlightSegmentsContext.tsx"),v=n("./src/util/typeGuards.ts");function x(){var e=l()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return x=function(){return e},e}function E(){var e=l()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return E=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}function w(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,s=e.paragraphs&&e.paragraphs[0],a=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(s.name,t);if(!s||!a)return null;var i=O(s.text,r,n),l=O(a.text,r,n);if(!i||!l)return null;if(i===l)return e;var c=a.text?a.text.indexOf(i):null;return"number"!=typeof c||c<0?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{endOffset:c+i.length,startOffset:c})})).filter(v.b):e}var C=d()(E()),j=d()(x()),S=n("./src/components/session/WithFlag.tsx"),_=n("./src/components/session/WithViewer.tsx");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(){var e=l()(["\n  query InteractivePostBodyQuery($postId: ID!, $showHighlights: Boolean!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights @include(if: $showHighlights) {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}function T(){var e=l()(["\n  fragment InteractivePostBody_customStyleSheet on CustomStyleSheet {\n    id\n    ...PostBody_customStyleSheet\n  }\n  ","\n"]);return T=function(){return e},e}function R(){var e=l()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var A=d()(R(),f.c,h.b,j,g.a,g.b),L=d()(T(),g.c),M=d()(I(),f.b,h.a,g.d,g.e,C),B=m.forwardRef((function(e,t){var n=e.post,r=e.postBodyInserts,o=e.activeGrafId,s=e.activeNoteId,i=e.customStyleSheet,l=n.content,u=n.latestPublishedVersion;if(!l)throw new Error("Expected post to have content.");var d={bodyModel:l.bodyModel,creator:n.creator,postBodyInserts:r,ref:t,richTextStyle:"FULL_PAGE",customStyleSheet:i},v=n&&n.creator&&n.creator.allowNotes||!1;return m.createElement(S.a,{name:"enable_lite_post_highlights_view_only",nonBlocking:!0},(function(e){return l.isLockedPreviewOnly||!e?m.createElement(g.f,d):m.createElement(c.b,{notifyOnNetworkStatusChange:!0,ssr:!1,query:M,variables:{postId:n.id,showHighlights:Boolean(e),showNotes:v}},(function(e){var t=e.data,r=(t=void 0===t?{}:t).post,i=l.bodyModel&&l.bodyModel.paragraphs,c=w(r&&r.highlights||[],i),v=r&&r.privateNotes||null;return m.createElement(b.b,null,m.createElement(S.a,{name:"enable_lite_post_highlights",nonBlocking:!0},(function(e){var t=m.createElement(g.f,a()({},d,{highlights:c,privateNotes:v}));return e?m.createElement(p.a,{initialActivePrivateNoteId:s,initialActiveGrafName:o},m.createElement(f.d,{interactivePost:k({},n,{latestPublishedVersion:u}),highlights:c},m.createElement(_.b,{nonBlocking:!0},(function(e){return m.createElement(h.d,{highlights:c,paragraphs:i,viewer:e},t)})))):t})))}))}))}));t.c=B},"./src/components/post/bookmark/BookmarkButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n.n(c),d=n("./src/components/post/bookmark/mutations.tsx"),m=n("./src/components/session/WithViewer.tsx"),p=n("./src/components/susi/SusiClickable.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/reporter/index.ts"),g=n("./src/framework/source/index.ts"),h=n("./src/framework/style/index.ts"),v=n("./src/schema-types/globalTypes.ts"),x=n("./src/svg/bookmark-25px.svg"),E=n("./src/svg/bookmark-filled-25px.svg");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=u.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"}),w=function(e){return u.a.createElement("svg",y({width:25,height:25,viewBox:"0 0 25 25"},e),O)},C=n("./src/util/routes.ts");function j(){var e=a()(["\n  fragment BookmarkButton_post on Post {\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n  }\n  ","\n  ","\n"]);return j=function(){return e},e}var S=l()(j(),p.d,d.b),_=function(e){return{fill:e.baseColor.fill.light}};var P=function(e){return{fill:e.baseColor.border.light,cursor:"default"}},k=function(){var e=Object(h.useCx)();return c.createElement(w,{className:e(P)})};function I(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,s=t.id,a=t.readingList,i=Object(h.useCx)(),l=Object(b.c)(),u=Object(g.d)(),y=c.useState(r),O=o()(y,2),w=O[0],j=O[1],S=c.useState(a||v.r.READING_LIST_NONE),P=o()(S,2),I=P[0],T=P[1];c.useEffect((function(){T(a||v.r.READING_LIST_NONE)}),[a]);var R=c.useCallback((function(e){if(a){var t=(n=a,{READING_LIST_NONE:v.r.READING_LIST_QUEUE,READING_LIST_ARCHIVE:null,READING_LIST_QUEUE:v.r.READING_LIST_NONE}[n]);t&&T(t),l.event(function(e){return{READING_LIST_NONE:"post.addedBookmark",READING_LIST_ARCHIVE:"post.addedArchive",READING_LIST_QUEUE:"post.removedBookmark"}[e]}(a),{postId:s,source:u}),e(t)().catch((function(){T(a)})),r&&j(!1)}var n}),[s,a,u,r]),A=c.useCallback((function(){r&&j(!0)}),[r]);return c.createElement(m.b,null,(function(e){return e?a?c.createElement("div",{className:i(_)},c.createElement(d.a,{post:t,viewer:e},(function(e){return c.createElement(f.H,{isVisible:w,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(f.b,{padding:"8px"},{READING_LIST_NONE:"Save story",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Unsave Story"}[a])},onMouseLeave:A},c.createElement(f.t,{onClick:function(){return R(e)}},(t=I,{READING_LIST_NONE:c.createElement(x.a,null),READING_LIST_ARCHIVE:c.createElement(k,null),READING_LIST_QUEUE:c.createElement(E.a,null)}[t])));var t}))):null:c.createElement(f.H,{isVisible:w,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(f.b,{padding:"8px"},"Bookmark story")}},c.createElement(p.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(C.n)(s)},c.createElement(x.a,{className:i(_)})))}))}},"./src/components/post/bookmark/PostPageBookmarkButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./src/components/post/bookmark/BookmarkButton.tsx"),i=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),l=n("./src/components/post/bookmark/mutations.tsx"),c=n("./src/components/session/WithViewer.tsx"),u=n("./src/components/susi/SusiClickable.tsx"),d=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/reporter/index.ts"),p=n("./src/framework/source/index.ts"),f=n("./src/framework/style/index.ts"),b=n("./src/schema-types/globalTypes.ts"),g=n("./src/svg/bookmark-25px.svg"),h=n("./src/svg/bookmark-archive-25px.svg"),v=n("./src/svg/bookmark-remove-25px.svg"),x=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx"),E=n("./src/util/routes.ts");var y=function(e,t){return e&&{READING_LIST_QUEUE:"READING_LIST_ARCHIVE",READING_LIST_ARCHIVE:"READING_LIST_NONE"}[t]},O=function(e){return function(t){return{fill:e?t.baseColor.fill.lighter:t.baseColor.border.darker}}},w=function(e){var t=e.currentReadingListType,n=e.isEligibleToViewNewResponses,r=Object(f.useCx)(),o=O(n);return{READING_LIST_QUEUE:s.createElement(h.a,{className:r(o)}),READING_LIST_ARCHIVE:s.createElement(v.a,{className:r(o)})}[t]},C=function(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,h=t.id,v=t.readingList,C=Object(f.useCx)(),j=Object(m.c)(),S=Object(p.d)(),_=s.useContext(i.a),P=_.isFirstLoadAndInReadingList,k=_.setIsFirstLoadAndInReadingList,I=s.useState(r),T=o()(I,2),R=T[0],A=T[1],L=Object(x.a)(),M=s.useCallback((function(e,t){if(v){if(j.event({READING_LIST_QUEUE:"post.addedArchive",READING_LIST_ARCHIVE:"post.removedBookmark"}[v],{postId:h,source:S}),t(y(e,v))(),y(e,v)===b.r.READING_LIST_NONE)return void k(!1);r&&A(!1)}}),[h,v,P,k,r,S]),B=s.useCallback((function(){r&&A(!0)}),[r]);return s.createElement(c.b,null,(function(e){return e?v&&s.createElement("div",null,!P||v!==b.r.READING_LIST_QUEUE&&v!==b.r.READING_LIST_ARCHIVE?s.createElement(a.b,{post:t}):s.createElement(l.a,{post:t},(function(t){return s.createElement(d.H,{isVisible:R,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return s.createElement(d.b,{padding:"8px"},{READING_LIST_QUEUE:"Archive Story",READING_LIST_ARCHIVE:"Remove story from reading list"}[v])},onMouseLeave:B},s.createElement(d.t,{onClick:function(){return M(e,t)}},s.createElement(w,{currentReadingListType:v,isEligibleToViewNewResponses:L})))}))):s.createElement("div",{className:C(O(L))},s.createElement(u.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(E.n)(h)},s.createElement(g.a,null)))}))}},"./src/components/post/bookmark/PostPageBookmarkContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=r.createContext({isFirstLoadAndInReadingList:!0,setIsFirstLoadAndInReadingList:function(){return null}})},"./src/components/post/bookmark/index.ts":function(e,t,n){"use strict";var r=n("./src/components/post/bookmark/BookmarkButton.tsx");n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.a}))},"./src/components/post/bookmark/mutations.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./src/schema-types/globalTypes.ts");function d(){var e=a()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  mutation UnarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function p(){var e=a()(["\n  mutation ArchivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  mutation UnbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function b(){var e=a()(["\n  mutation BookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function g(){var e=a()(["\n  fragment ReadingList_post on Post {\n    __typename\n    id\n    readingList\n  }\n"]);return g=function(){return e},e}var h=c()(g()),v=c()(b(),h),x=c()(f(),h),E=c()(p(),h),y=c()(m(),h),O=c()(d(),h),w=function(e){var t=e.children,n=e.post,r=n.id,s=function(e){var t=Object(i.d)(v,{variables:{targetPostId:e},optimisticResponse:{bookmarkPost:{__typename:"Post",id:e,readingList:u.r.READING_LIST_QUEUE}}});return o()(t,1)[0]}(r),a=function(e){var t=Object(i.d)(x,{variables:{targetPostId:e},optimisticResponse:{unbookmarkPost:{__typename:"Post",id:e,readingList:u.r.READING_LIST_NONE}}});return o()(t,1)[0]}(r),l=function(e){var t=Object(i.d)(E,{variables:{targetPostId:e},optimisticResponse:{archivePost:{__typename:"Post",id:e,readingList:u.r.READING_LIST_ARCHIVE}}});return o()(t,1)[0]}(r),c=function(e){var t=Object(i.d)(y,{variables:{targetPostId:e},optimisticResponse:{unarchivePost:{__typename:"Post",id:e,readingList:u.r.READING_LIST_QUEUE}}});return o()(t,1)[0]}(r);if(!r)return null;return t((function(e){return function(){switch(n.readingList){case u.r.READING_LIST_NONE:if("READING_LIST_QUEUE"===e)return s();break;case u.r.READING_LIST_QUEUE:if("READING_LIST_NONE"===e)return a();if("READING_LIST_ARCHIVE"===e)return l();break;case u.r.READING_LIST_ARCHIVE:if(!e)return r;if("READING_LIST_NONE"===e)return a();if("READING_LIST_QUEUE"===e)return c()}throw new Error('Invalid reading list change from "'.concat(n.readingList||"unkown",'" to "').concat(e,'".'))}}))}},"./src/components/post/footer/CreatorActionOverflowPopover.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return K}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n.n(c),d=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),p=n("./src/store/actions/navigation.ts");function f(){var e=o()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return f=function(){return e},e}var b=l()(f()),g=Object(d.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(m.a,{mutation:b,onCompleted:function(){n(Object(p.m)({message:"Responses are now hidden for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return t({mutate:e})}))})),h=Object(d.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(m.a,{mutation:b,onCompleted:function(){n(Object(p.m)({message:"Responses are now shown for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return t({mutate:e})}))})),v=n("./src/components/mutations/UserBlockMutation.tsx"),x=n("./src/components/mutations/UserReportStoryMutation.tsx"),E=n("./src/components/mutations/UserUnblockMutation.tsx"),y=n("./src/components/mute/MutePopoverOptions.tsx"),O=n("./src/framework/design-system/components/index.ts"),w=function(e){var t=e.onConfirm,n=e.isVisible,r=e.hide;return c.createElement(O.h,{onConfirm:t,isVisible:n,hide:r,titleText:"Hide responses",cancelText:"Cancel",confirmText:"Confirm"},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your post.")},C=n("./src/components/post/footer/actions/CollectionSubmission.tsx"),j=n("./src/components/collection/CollectionAvatar.tsx"),S=n("./src/components/post/footer/actions/PubStatusMutations.tsx"),_=n("./src/components/post/footer/actions/shared.ts"),P=n("./src/components/ui/PopoverMenu.tsx"),k=n("./src/framework/design-system/type/index.ts"),I=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&"PENDING"===r.statusForCollection&&(Object(_.d)(r)||Object(_.e)(r,t))?c.createElement(P.b,null,c.createElement(O.t,{onClick:n},"Manage submission")):null},T=function(e){var t=e.children,n=e.isVisible,r=e.post,o=e.hide,s=e.showLoadingIndicator,a=Object(S.a)(r),i=Object(S.b)(r),l=Object(d.e)(),u=r.pendingCollection;return u?c.createElement(O.w,{isVisible:n,hide:o,popoverRenderFn:function(){return c.createElement(O.b,{padding:"16px",maxWidth:"280px"},c.createElement(O.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(O.b,{paddingRight:"8px"},c.createElement(j.a,{collection:u,size:40})),c.createElement(k.a,{scale:"S"},"This draft is submitted to ",u.name,".")),c.createElement(O.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(O.b,{paddingRight:"8px"},c.createElement(O.c,{buttonStyle:"OBVIOUS",onClick:function(){o(),s(),a(r.pendingCollection).then((function(){window.location.reload(!1)}))}},"Accept")),c.createElement(O.c,{buttonStyle:"SUBTLE",onClick:function(){i(r.pendingCollection).then((function(){l(Object(p.m)({message:"Story removed from ".concat(u.name||"publication")}))})),o()}},"Don't accept")))}},t):t},R=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&("APPROVED"===r.statusForCollection&&(Object(_.d)(r)||Object(_.e)(r,t)||Object(_.c)(r,t))||"PENDING"===r.statusForCollection&&Object(_.c)(r,t))?c.createElement(P.b,null,c.createElement(O.t,{onClick:n},"Remove story from publication")):null},A=function(e){var t=e.children,n=e.isVisible,r=e.hide,o=e.post,s=e.viewer,a=Object(d.e)(),i=Object(S.b)(o),l=o.collection||o.pendingCollection;return l?c.createElement(O.w,{isVisible:n,hide:r,popoverRenderFn:function(){return c.createElement(O.b,{padding:"16px",maxWidth:"280px"},c.createElement(O.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(O.b,{paddingRight:"8px"},c.createElement(j.a,{collection:l,size:40})),"APPROVED"===o.statusForCollection?c.createElement(k.a,{scale:"S"},Object(_.c)(o,s)?"Your":"This"," story is published in"," ",l.name,"."):"PENDING"===o.statusForCollection?c.createElement(k.a,{scale:"S"},"Your story is being reviewed by ",l.name," editors."):c.createElement(k.a,{scale:"S"},"This draft is submitted to ",l.name)),c.createElement(O.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(O.b,{paddingRight:"8px"},c.createElement(O.c,{buttonStyle:"SUBTLE",onClick:function(){i(l).then((function(){a(Object(p.m)({message:"Story removed from ".concat(l.name||"publication")}))}),(function(){a(Object(p.m)({message:"There was a problem removing the story from ".concat(l.name||"publication"),toastStyle:"ERROR"}))})),r()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(l.name||"")))))}},t):t},L=n("./src/components/post/multivote/ClapMutation.tsx"),M=n("./src/components/session/useViewer.tsx"),B=n("./src/components/susi/SusiClickable.tsx"),D=n("./src/components/user/UserBlockConfirmDialog.tsx"),N=n("./src/components/user/UserReportStoryDialog.tsx"),U=n("./src/store/actions/multiVote.ts");function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=u.a.createElement("path",{d:"M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}),H=function(e){return u.a.createElement("svg",F({width:25,height:25,viewBox:"-480.5 272.5 21 21"},e),V)},z=n("./src/util/post/claps.ts");function G(){var e=o()(["\n  fragment CreatorActionOverflowPopover_post on Post {\n    allowResponses\n    id\n    statusForCollection\n    isPublished\n    clapCount\n    viewerClapCount\n    mediumUrl\n    pendingCollection {\n      id\n      name\n      viewerIsEditor\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n    }\n    creator {\n      id\n      isBlocking\n      ...MutePopoverOptions_creator\n    }\n    collection {\n      id\n      viewerIsEditor\n      name\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n      ...MutePopoverOptions_collection\n    }\n    ...ClapMutation_post\n  }\n  ","\n  ","\n  ","\n"]);return G=function(){return e},e}function q(e){return{fill:e.baseColor.fill.normal}}function W(){return c.createElement(O.J,null,(function(e){return c.createElement(H,{className:e(q)})}))}var $=function(e){var t=e.creator,n=e.post,r=e.collection,o=e.showLoadingIndicator,s=c.useState(!1),i=a()(s,2),l=i[0],u=i[1],m=c.useState(!1),p=a()(m,2),f=p[0],b=p[1],j=c.useState(!1),S=a()(j,2),_=S[0],k=S[1],F=Object(d.f)((function(e){return e.multiVote.clapsPerPost})),V=Object(d.e)(),H=c.useCallback((function(e){return V(Object(U.d)(e))}),[V]),G=Object(z.a)(F,n),q=G.clapCount,$=G.viewerClapCount,K=Object(M.b)(),Y=null==K?void 0:K.id,X=Object(L.b)();if(!n||!t||!K)return null;var Q=n.allowResponses,J=n.id,Z=(r||{}).viewerIsEditor;return c.createElement(O.I,null,(function(e){var s=e.isVisible,a=e.toggle,i=e.hide;return c.createElement(O.I,null,(function(e){var d=e.isVisible,m=e.show,p=e.hide;return c.createElement(O.I,null,(function(e){var j=e.isVisible,S=e.show,L=e.hide;return c.createElement(O.I,null,(function(e){var M=e.isVisible,U=e.show,F=e.hide;return c.createElement(v.a,{targetUserId:null==t?void 0:t.id,viewerId:K.id,onCompleted:p},(function(e){var v=e.mutate;return c.createElement(E.a,{targetUserId:null==t?void 0:t.id,viewerId:K.id},(function(e){var E=e.mutate;return c.createElement(x.a,{targetAuthorId:null==t?void 0:t.id,targetPostId:n.id,isBlocking:null==t?void 0:t.isBlocking},(function(e){var x=e.mutate;return c.createElement(h,{targetPostId:J},(function(e){var h=e.mutate;return c.createElement(g,{targetPostId:J},(function(e){var g=e.mutate;return c.createElement(c.Fragment,null,c.createElement(O.w,{isVisible:s,hide:i,popoverRenderFn:function(){return c.createElement(P.a,null,c.createElement(c.Fragment,null,c.createElement(y.a,{hidePopover:i,creator:t,collection:r,postId:n.id}),c.createElement(C.b,{post:n,show:function(){b(!0),i()}}),c.createElement(R,{viewer:K,post:n,show:function(){k(!0),i()}}),c.createElement(I,{viewer:K,post:n,show:function(){u(!0),i()}})),Y===t.id||Z?c.createElement(c.Fragment,null,c.createElement(P.b,null,c.createElement(O.t,{onClick:function(){Q?U():h(),i()}},Q?"Hide responses":"Show responses")),c.createElement(P.c,null)):null,Y&&q&&$&&$>0?c.createElement(P.b,null,c.createElement(O.t,{onClick:function(){X(n,(null==K?void 0:K.id)||"",-$),H({postId:J,clapCount:q-$,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),i()}},"Undo applause for this post")):null,c.createElement(P.b,null,Y?c.createElement(O.t,{onClick:function(){S(),i()}},"Report this story"):c.createElement(B.a,{operation:"register",post:n,susiEntry:"report_footer"},"Report this story")),Y?c.createElement(P.b,null,c.createElement(O.t,{onClick:function(){t.isBlocking?E():m(),i()}},t.isBlocking?"Unblock this author":"Block this author")):null)}},c.createElement(C.a,{post:n,isVisible:f,hide:function(){b(!1)},showLoadingIndicator:o},c.createElement(A,{viewer:K,post:n,isVisible:_,hide:function(){k(!1)}},c.createElement(T,{post:n,isVisible:l,hide:function(){u(!1)},showLoadingIndicator:o},c.createElement(O.b,{flexGrow:"0"},c.createElement(O.t,{onClick:a},c.createElement(W,null))))))),c.createElement(w,{onConfirm:g,isVisible:M,hide:F}),c.createElement(D.a,{onConfirm:v,isVisible:d,hide:p}),c.createElement(N.a,{onSubmit:x,isVisible:j,hide:L}))}))}))}))}))}))}))}))}))}))},K=l()(G(),y.c,y.b,L.a)},"./src/components/post/footer/PostFooter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return Gt})),n.d(t,"b",(function(){return qt}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/WatchBounds.tsx"),u=n("./src/components/collection/auroraHooks.ts"),d=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(d),p=n("./src/components/newsletter-v3/NewsletterV3SubscribeButton.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/style/index.ts"),h=n("./src/styles/breakpoints.ts");function v(){var e=o()(["\n  fragment NewsletterV3Promo_collection on Collection {\n    name\n    viewerIsEditor\n    newsletterV3 {\n      slug\n      name\n      description\n      ...NewsletterV3SubscribeButton_newsletterV3\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var x=a()(v(),p.b),E=function(e){return m()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.normal},h.sm(e),{padding:"24px 24px 28px 24px"})},y=function(e){var t=e.collection,n=Object(g.useCx)(),r=t.newsletterV3;return i.createElement("div",{className:n(E)},i.createElement(b.b,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Sign up for ",null==r?void 0:r.name),i.createElement(b.a,{scale:"S",color:"DARKER"},"By ",t.name),i.createElement(f.b,{paddingTop:"8px",paddingBottom:"10px"},i.createElement(b.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"p"},null==r?void 0:r.description)),t.viewerIsEditor?i.createElement(f.b,{paddingTop:"10px"},i.createElement(b.a,{scale:"M",color:"DARKER"},"You're an editor of ",null==r?void 0:r.name)):i.createElement(f.b,{display:"flex",flexWrap:"wrap"},r&&i.createElement(p.a,{newsletterV3:r,sourceName:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo",buttonLayout:"COMPACT",helperTextColor:"DARKER"})))},O=n("./src/components/post/EmbeddedPost.tsx"),w=n("./src/components/post/PostRecircItemV2.tsx"),C=n("./src/framework/design-system/type/Heading.tsx"),j=n("./src/framework/source/index.ts"),S=function(e){var t=e.posts,n=e.sourceName;return t.length?i.createElement(f.b,{marginTop:"24px",marginBottom:"40px"},i.createElement(f.b,{borderBottom:"BASE_LIGHTER",marginTop:"24px",marginBottom:"24px",paddingBottom:"16px",sm:{marginTop:"16px",paddingBottom:"12px"}},i.createElement(C.a,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"More From Medium")),i.createElement(f.j,{alignItems:"flex-start"},t.map((function(e,t){return i.createElement(f.k,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:3,xl:3}},i.createElement(f.b,{paddingBottom:"24px",maxWidth:"500px"},i.createElement(j.b,{source:{name:n,index:t}},i.createElement(w.b,{post:e}))))})))):null};function _(){var e=o()(["\n  fragment PostInternalLinks_post on Post {\n    id\n    internalLinks(paging: {limit: 8}) @include(if: $includePostInternalLinks) {\n      items {\n        ... on Post {\n          ...PostRecircItemV2_post\n        }\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var P=a()(_(),w.a),k=function(e){var t,n=e.post,r=e.sourceName,o=(null==n||null===(t=n.internalLinks)||void 0===t?void 0:t.items)||[];return o&&0!==o.length?i.createElement(S,{posts:o,sourceName:r}):null},I=n("./src/components/broadcast-banner/useCdcMessaging.tsx"),T=i.createContext(!1),R=function(e){var t=Object(g.useCx)();return i.createElement("div",{className:t({padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})},e.children)},A=n("./src/handlers/EmbeddedPostHandler.tsx"),L=(Object(l.c)((function(e){return{embeddedPostIds:e.config.embeddedPostIds}}))((function(e){var t=e.embeddedPostIds,n=null==t?void 0:t.coronavirus;return n?i.createElement(A.a,{postId:n},(function(e){return e?i.createElement(T.Provider,{value:!0},i.createElement(R,null,e)):null})):null})),n("./node_modules/@babel/runtime/helpers/extends.js")),M=n.n(L),B=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),D=n("./src/components/collection/package/TruncatedPostCard.tsx"),N=n("./src/components/collection/package/collectionIdToNameMaps.ts"),U=n("./src/components/collection/package/packageTheme.ts"),F=n("./src/components/collection/theming/customStyleSheet.ts");function V(){var e=o()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return V=function(){return e},e}function H(){var e=o()(["\n  query PostNextFiveStories($collectionId: ID!, $from: String, $limit: PaginationLimit = 5) {\n    collection(id: $collectionId) {\n      __typename\n      id\n      homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n        posts {\n          ...TruncatedPostCard_post\n        }\n      }\n      ...getHasCustomColorPalette_collection\n      ...PackageTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return H=function(){return e},e}var z=a()(H(),F.m,U.b,D.b),G=function(e){var t,n,r=e.post,o=r.firstPublishedAt,s=r.pinnedAt,a=(null===(t=r.collection)||void 0===t?void 0:t.id)||"",c=s?"P".concat(s):"L".concat(o),u=Object(l.f)((function(e){return e.config.authDomain})),d=Object(B.e)(z,{variables:{collectionId:a,from:c}}).data,m=(d=void 0===d?{collection:void 0}:d).collection,p=Object(g.useTheme)(),b=null==m||null===(n=m.homepagePostsConnection)||void 0===n?void 0:n.posts;if(!m||!b)return null;var h=Object(N.b)(u,a)||"",v=Object(U.d)(h,m),x=Object(F.l)(m);return i.createElement(f.F,{theme:Object(U.c)(p)},i.createElement(U.a.Provider,{value:{name:h,theme:v}},b.map((function(e,t){var n={post:e,isFirst:0===t,withPackageThemeColors:!x};return i.createElement(D.a,M()({key:e.id},n))}))))},q=a()(V()),W=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),$=n.n(W),K=n("./src/components/post-listing/PostListingItemRecirc.tsx"),Y=n("./src/framework/reporter/index.ts");function X(e){var t=e.posts,n=e.sourceName,r=i.useRef(null),o=Object(Y.c)();return i.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===t.length?null:i.createElement(f.b,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},i.createElement(f.b,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},i.createElement(C.a,{scale:"S"},"More From Medium")),i.createElement(f.j,{alignItems:"flex-start"},t.map((function(e,t){return i.createElement(f.k,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},i.createElement(j.b,{source:{name:n,index:t}},i.createElement(K.b,{post:e,ref:r})))}))))}function Q(e,t){var n=Object(B.c)(e,t),r=$()(n,2),o=r[0],s=r[1];return[i.useCallback((function(e){!s.called&&e.isIntersecting&&o()}),[s]),s]}var J=n("./src/framework/track/index.ts");function Z(){var e=o()(["\n  query PostRecircQuery(\n    $postId: ID!\n    $includePostRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function ee(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    recirc(paging: {limit: $postRecircPaging}) @include(if: $includePostRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...Recirc_post\n        }\n        ... on SuggestedPost {\n          post {\n            __typename\n            ...Recirc_post\n          }\n          postSuggestionReasons {\n            reason\n            users {\n              name\n            }\n            topics {\n              name\n            }\n            collections {\n              name\n            }\n            tags {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ee=function(){return e},e}function te(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return te=function(){return e},e}var ne=a()(te(),K.a),re=a()(ee(),ne),oe=a()(Z(),re),se=i.forwardRef((function(e,t){var n,r,o,s=e.postId,a=e.rootMargin,l=e.recircOptions,c=(null==l||null===(n=l.v1)||void 0===n?void 0:n.limit)||3,u=Q(oe,{variables:{postId:s,includePostRecirc:!0,postRecircPaging:c},ssr:!1}),d=$()(u,2),m=d[0],p=d[1],f=p.called,b=p.loading,g=p.error,h=p.data;Object(J.f)({onIntersect:m,target:t,disconnect:function(){return f},rootMargin:a},[f]);var v=null==h||null===(r=h.post)||void 0===r||null===(o=r.recirc)||void 0===o?void 0:o.items;return!f||b||g||!v?null:i.createElement(X,{posts:v,sourceName:"post_recirc"})})),ae=i.forwardRef((function(e,t){return i.createElement(se,M()({},e,{ref:t}))})),ie=Object(l.c)((function(e){return{recircOptions:e.config.recircOptions}}),null,null,{forwardRef:!0})(ae),le=n("./src/styles/font.ts"),ce=n("./src/util/routes.ts");function ue(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return ue=function(){return e},e}var de={padding:0,margin:0},me={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},pe=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function fe(e){var t=e.tags,n=Object(g.useCx)(),r=Object(l.f)((function(e){return e.client.isCustomDomain}));return t?i.createElement("ul",{className:n(de)},t.map((function(e){return e.id?i.createElement("li",{key:e.id,className:n(me)},i.createElement("a",{href:Object(ce.Vb)(e.id,r),className:n([pe,Object(le.s)({fontSize:15})])},e.displayTitle)):null}))):null}var be=a()(ue()),ge=n("./src/components/post/bookmark/index.ts"),he=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),ve=n("./src/components/post/footer/CreatorActionOverflowPopover.tsx"),xe=n("./src/components/post/footer/PostFooterSocialPopover.tsx"),Ee=n("./src/components/post/footer/actions/CollectionSubmission.tsx"),ye=n("./src/components/post/footer/actions/shared.ts"),Oe=n("./src/components/post/multivote/MultiVote.tsx"),we=n("./src/components/responses/MobileHideSpan.tsx"),Ce=n("./src/components/responses/ResponsesIconButton.tsx"),je=n("./src/components/session/WithFlag.tsx"),Se=n("./src/components/social/ShareButtons.tsx"),_e=n("./src/components/susi/SusiClickable.tsx"),Pe=n("./src/framework/source/SourceContext.tsx"),ke=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx");function Ie(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButtons_post\n    ...ResponsesIconButton_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ie=function(){return e},e}var Te=function(e){var t,n=e.post,r=e.setIsResponsesSidebarVisible,o=e.useSocialPopover,s=n.isPublished,a=n.content,l=n.creator,c=n.collection,u=(a||{}).isLockedPreviewOnly,d=Object(ke.a)(),m=i.createElement(Pe.b,{source:{name:"post_actions_footer",susiEntry:"clap_footer"}},i.createElement(f.b,{display:"flex",flexDirection:"row"},i.createElement(f.b,{maxWidth:"155px"},d?i.createElement(i.Fragment,null,i.createElement(we.b,null,i.createElement(Oe.a,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0})),i.createElement(we.a,null,i.createElement(Oe.a,{post:n,buttonStyle:"SUBTLE_FOR_DESKTOP",hasDialog:!0}))):i.createElement(Oe.a,{post:n,buttonStyle:"OBVIOUS",hasDialog:!0})),i.createElement(f.b,{xs:{width:"15px"},sm:{width:"15px"},md:{width:"15px"},lg:{width:"25px"},xl:{width:"25px"}}),i.createElement(Pe.b,{source:{name:"follow_footer",susiEntry:"follow_footer"}},i.createElement(Ce.a,{responsesCount:null===(t=n.postResponses)||void 0===t?void 0:t.count,location:"footer",setIsResponsesSidebarVisible:r,allowResponses:n.allowResponses,postId:n.id,isLimitedState:n.isLimitedState})))),p=i.createElement(je.a,{name:"enable_disregard_trunc_state_for_footer"},(function(e){return(e||!u)&&m})),b={post:n,source:{name:"post_actions_footer"}};return i.createElement(f.I,null,(function(e){var t=e.isVisible,r=e.show;return i.createElement(i.Fragment,null,t&&i.createElement(f.u,null),i.createElement(f.b,{display:"flex",justifyContent:"space-between",marginTop:d?"25px":"15px",print:{display:"none"}},p,i.createElement(f.b,{display:"flex",alignItems:"center"},s&&i.createElement(i.Fragment,null,o?i.createElement(f.b,{paddingRight:"6px"},i.createElement(xe.a,b)):i.createElement(Se.a,b),i.createElement(f.b,{flexGrow:"0",paddingRight:"8px"},i.createElement(Pe.b,{source:{name:"post_actions_footer",susiEntry:"bookmark_footer"}},i.createElement(he.a,{post:n})))),l&&i.createElement(ve.a,{creator:l,post:n,collection:c,showLoadingIndicator:r}))))}))},Re=a()(Ie(),ge.b,Oe.b,_e.d,ye.b,Ee.c,Se.b,Ce.b,ve.b,xe.b),Ae=n("./src/components/collection/CollectionAvatar.tsx"),Le=n("./src/components/collection/CollectionFollowButton.tsx"),Me=n("./src/components/session/useFlag.tsx"),Be=n("./src/components/session/useViewer.tsx"),De=n("./src/components/sidebar/SidebarWrapper.tsx"),Ne=n("./src/components/user/UserFollowButton.tsx"),Ue=n("./src/components/user/UserUnblockButton.tsx"),Fe=n("./src/styles/mediaTypes.ts");function Ve(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...auroraHooks_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}var He=function(e){return function(t){var n=e?Object(Fe.a)(t,De.a,t.grid.xStep*t.grid.marginSteps.lg):h.lg(t);return m()({display:"none"},n,{display:"block"})}},ze=function(e){var t=e.post,n=t.creator,r=t.collection,o=Object(l.f)((function(e){return e.navigation.currentLocation})),s=Object(g.useCx)(),a=Object(Be.b)(),c=!!Object(Me.a)("enable_different_grid"),u={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},d={display:"flex",justifyContent:"space-between",alignItems:"center"};return i.createElement(f.b,{marginTop:"52px",paddingBottom:"4px",print:{display:"none"}},(null==n?void 0:n.name)&&(null==n?void 0:n.username)&&i.createElement("div",{className:s([He(c),{paddingBottom:"22px"}])},i.createElement(f.b,d,i.createElement(f.b,null,i.createElement(b.d,{scale:"S"},"Written by"),i.createElement(b.b,{scale:u},i.createElement(f.t,{href:Object(ce.lc)(n.username)},n.name||n.username))),i.createElement(i.Fragment,null,a&&n.isBlocking?i.createElement(Ue.a,{buttonSize:"SMALL",targetUserId:n.id}):i.createElement(Ne.c,{buttonSize:"SMALL",post:t,user:n}))),n.bio&&i.createElement(f.b,{paddingTop:"6px"},i.createElement(b.a,{scale:"M"},n.bio))),r&&i.createElement(f.b,{paddingTop:"32px",borderTop:"BASE_LIGHTER"},i.createElement(f.b,d,i.createElement(b.b,{scale:u},i.createElement(f.t,{href:Object(ce.F)(r,o)},"More from ",r.name)),i.createElement(Le.a,{buttonSize:"SMALL",collection:r,post:t})),r.description&&i.createElement(f.b,{paddingTop:"6px"},i.createElement(b.a,{scale:"M"},r.description))))},Ge=a()(Ve(),Le.b,Le.c,ce.G,Ne.a,Ne.b),qe=n("./src/components/session/WithViewer.tsx"),We=n("./src/components/user/UserAvatar.tsx");function $e(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...auroraHooks_collection\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...CollectionFollowButton_post\n    ...PostFooterBylineAurora_post\n    ...UserFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $e=function(){return e},e}var Ke=We.c.XL,Ye=We.c.XL+22,Xe=function(e){var t=e.creator,n=e.post,r=t.name,o=t.username,s=t.bio,a=void 0===s?"":s,l=t.id,c=t.isBlocking;return r&&o?i.createElement(qe.b,null,(function(e){return i.createElement(f.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ke,"px")},i.createElement(f.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},i.createElement(f.b,{position:"absolute",sm:{position:"relative",width:"".concat(Ye,"px")}},i.createElement(We.d,{user:t,scale:"XL",link:!0})),i.createElement(f.b,{tag:"span"},i.createElement(f.b,{paddingLeft:"".concat(Ye,"px"),sm:{paddingLeft:"0"}},i.createElement(b.d,null,"Written by")),i.createElement(f.b,{paddingLeft:"".concat(Ye,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},i.createElement(f.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},i.createElement(b.b,{scale:"M"},i.createElement(f.t,{href:Object(ce.lc)(o)},r||o)),i.createElement(f.b,{sm:{display:"none"}},e&&c?i.createElement(Ue.a,{targetUserId:l}):i.createElement(Ne.c,{buttonSize:"SMALL",post:n,user:t})))))),i.createElement(f.b,{maxWidth:"555px",paddingLeft:"".concat(Ye,"px"),sm:{display:"block",paddingLeft:"0"}},i.createElement(f.b,{maxWidth:"450px"},i.createElement(b.a,{scale:"L"},a)),i.createElement(f.b,{display:"none",sm:{display:"block",marginTop:"24px"}},i.createElement(Ne.c,{buttonSize:"SMALL",post:n,user:t}))))})):null},Qe=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,s=t.description,a=void 0===s?"":s;return i.createElement(f.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ke,"px")},i.createElement(f.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},i.createElement(f.b,{position:"absolute",sm:{position:"relative",width:"".concat(Ye,"px")}},i.createElement(Ae.a,{collection:t,size:Ke,link:!0})),i.createElement(f.b,{tag:"span"},i.createElement(f.b,{paddingLeft:"".concat(Ye,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},i.createElement(f.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},i.createElement(b.b,{scale:"M"},i.createElement(f.t,{href:Object(ce.F)(t,n)},o)),i.createElement(f.b,{sm:{display:"none"}},i.createElement(Le.a,{collection:t,post:r})))))),i.createElement(f.b,{maxWidth:"550px",paddingLeft:"".concat(Ye,"px"),sm:{display:"block",paddingLeft:"0"}},i.createElement(f.b,{maxWidth:"450px"},i.createElement(b.a,{scale:"L"},a)),i.createElement(f.b,{display:"none",sm:{display:"block",marginTop:"24px"}},i.createElement(Le.a,{collection:t,post:r}))))},Je=function(e){var t=e.collection,n=e.creator,r=e.post,o=e.currentLocation;return i.createElement(f.b,{paddingTop:"24px"},n.name&&n.username&&i.createElement(f.b,{display:"flex",flexDirection:"row"},i.createElement(f.b,{marginTop:"5px"},i.createElement(We.d,{user:n,scale:"S",link:!0})),i.createElement(f.b,{marginLeft:"12px"},i.createElement(b.d,{scale:"S"},"Written by"),i.createElement(f.b,{display:"flex",flexDirection:"row"},i.createElement(b.b,{scale:"XS"},i.createElement(f.t,{href:Object(ce.lc)(n.username)},n.name||n.username)),i.createElement(f.b,{marginLeft:"12px"},i.createElement(Ne.c,{buttonSize:"COMPACT",post:r,user:n}))),i.createElement(f.b,{paddingTop:"8px"},i.createElement(b.a,{scale:"M"},n.bio)))),t&&i.createElement(f.b,{paddingTop:"24px"},i.createElement(f.b,{display:"flex",flexDirection:"row"},i.createElement(Ae.a,{collection:t,size:40,link:!0}),i.createElement(f.b,{marginLeft:"12px"},i.createElement(f.b,{display:"flex",flexDirection:"row"},i.createElement(b.b,{scale:"XS"},i.createElement(f.t,{href:Object(ce.F)(t,o)},t.name)),i.createElement(f.b,{marginLeft:"12px"},i.createElement(Le.a,{collection:t,post:r,buttonSize:"COMPACT"}))),i.createElement(f.b,{paddingTop:"8px"},i.createElement(b.a,{scale:"M"},t.description||""))))))};var Ze=a()($e(),u.a,Ae.b,Le.b,Le.c,ce.G,Ge,We.b,Ne.a,Ne.b),et=Object(l.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.collection,s=!!Object(Me.a)("enable_end_of_post_cleanup"),a=Object(u.b)(o);return r?a?i.createElement(ze,{post:n}):i.createElement(f.b,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"},sm:{paddingTop:s?"0":"32px"}},i.createElement(f.b,{sm:{display:s?"none":"block"}},i.createElement(Xe,{creator:r,post:n}),o&&i.createElement(i.Fragment,null,i.createElement(f.b,{paddingTop:"32px"}),i.createElement(Qe,{collection:o,currentLocation:t,post:n}))),s&&i.createElement(f.b,{display:"none",sm:{display:"block"}},i.createElement(Je,{post:n,creator:r,collection:o,currentLocation:t}))):null}));function tt(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n    isLimitedState\n  }\n"]);return tt=function(){return e},e}var nt=a()(tt()),rt=Object(l.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.setIsResponsesSidebarVisible,o=Object(g.useCx)(),s=Object(Y.c)(),a=Object(j.d)(),l=n.id,c=n.responsesCount,u=n.isLimitedState,d=c&&c>0;var m=Object(ke.a)(),p=m?"See responses":"See responses (".concat(c||0,")"),b=d?p:"Write the first response";return i.createElement(f.t,{href:u||m?" ":Object(ce.Kb)(t,l),onClick:function(e){return u?function(e){e.preventDefault()}(e):m?(s.event("responses.viewAllClicked",{postId:n.id,source:a}),function(e){e.preventDefault(),r(!0)}(e)):void 0}},i.createElement("span",{className:o((function(e){return{color:e.baseColor.text.light,opacity:u?.25:1,cursor:u?"not-allowed":"pointer"}}))},i.createElement(f.b,{sm:{display:d?"block":"none"},border:u?"BASE_NORMAL":"ACCENT_NORMAL",borderRadius:"4px",padding:"20px",textAlign:"center"},u?i.createElement(f.H,{darkTheme:!0,popoverRenderFn:function(){return i.createElement(f.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},b):i.createElement("span",{className:o((function(e){return{color:e.accentColor.text.normal}}))},b))))})),ot=n("./src/svg/creative-commons-by-21px.svg"),st=n("./src/svg/creative-commons-nc-21px.svg"),at=n("./src/svg/creative-commons-nd-21px.svg"),it=n("./src/svg/creative-commons-sa-21px.svg"),lt=n("./src/svg/creative-commons-zero-21px.svg"),ct=function(e){return{fill:e.baseColor.fill.lighter}};function ut(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var dt=function(e){var t=e.license,n=Object(g.useCx)();return t?i.createElement(f.b,null,i.createElement(f.b,{display:"inline-block"},i.createElement(b.a,{scale:"S"},i.createElement(f.H,{darkTheme:!0,placement:"top",popoverRenderFn:function(){return i.createElement(f.b,{width:"300px",padding:"8px"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(ut(e,"title")," license by the author.")}}(t))}},i.createElement(f.t,{disableSourceParam:!0,href:ut(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),i.createElement(f.b,{display:"inline-block"},i.createElement(b.a,{scale:"S"},"CC_40_ZERO"===t&&i.createElement("span",null," by the author."),i.createElement("span",{className:n(ct),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:i.createElement(lt.a,null),CC_40_BY:i.createElement(ot.a,null),CC_40_BY_ND:i.createElement(i.Fragment,null,i.createElement(ot.a,null),i.createElement(at.a,null)),CC_40_BY_SA:i.createElement(i.Fragment,null,i.createElement(ot.a,null),i.createElement(it.a,null)),CC_40_BY_NC:i.createElement(i.Fragment,null,i.createElement(ot.a,null),i.createElement(st.a,null)),CC_40_BY_NC_ND:i.createElement(i.Fragment,null,i.createElement(ot.a,null),i.createElement(st.a,null),i.createElement(at.a,null)),CC_40_BY_NC_SA:i.createElement(i.Fragment,null,i.createElement(ot.a,null),i.createElement(st.a,null),i.createElement(it.a,null)),PUBLIC_DOMAIN:i.createElement(i.Fragment,null)}[e]}(t))))):null},mt=n("./node_modules/@apollo/react-components/lib/react-components.esm.js");function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return bt=function(){return e},e}function gt(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return gt=function(){return e},e}var ht=a()(gt()),vt=a()(bt()),xt=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,s=n.creator;return o&&t&&s&&(t.id===s.id||t.id===o.id)?i.createElement(mt.a,{mutation:ht,optimisticResponse:{setCollaboratorState:!0},update:function(e,t){var o,s=e.readFragment({id:"Post:".concat(n.id),fragment:vt});e.writeFragment({id:"Post:".concat(n.id),fragment:vt,data:ft({},s,{collaborators:(null!==(o=null==s?void 0:s.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?ft({},e,{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&s.id===t.id?"(declined)":i.createElement(i.Fragment,null,"(",i.createElement(f.t,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},Et=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},yt=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?i.createElement(qe.b,null,(function(e){return i.createElement(f.b,null,i.createElement(b.a,{scale:"S"},"Thanks to ",n.map((function(o,s){var a=o.user;return a?i.createElement(i.Fragment,{key:o.id},a.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,a)&&i.createElement(i.Fragment,null," ",i.createElement(xt,{viewer:e,post:t,collaborator:o})),i.createElement(Et,{index:s,total:n.length})):null})),". "))})):null};function Ot(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      username\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n"]);return Ot=function(){return e},e}var wt=a()(Ot()),Ct=function(e){var t=e.post,n=t.creator;if(!t.translationSourcePost||!n)return null;var r=i.createElement(f.t,{linkStyle:"SUBTLE",inline:!0,href:Object(ce.xb)(t.translationSourcePost)},"original"),o=i.createElement(f.t,{linkStyle:"SUBTLE",inline:!0,href:Object(ce.lc)(n.username||"")},n.name);return i.createElement(f.b,null,i.createElement(b.a,{scale:"S"},"Translated from ",r," by ",o,"."))},jt=n("./src/components/sequence/SequenceCoverImage.tsx");function St(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return St=function(){return e},e}var _t={textTransform:"uppercase"};function Pt(e){var t=e.sequence,n=Object(g.useCx)();return i.createElement(f.b,{display:"flex",flexDirection:"column",marginBottom:"56px"},i.createElement(f.b,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},i.createElement(f.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},i.createElement(jt.b,{sequence:t,width:200,height:265})),i.createElement(f.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},i.createElement(jt.b,{sequence:t,width:180,height:238})),i.createElement(f.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},i.createElement(jt.b,{sequence:t,width:98,height:130})),i.createElement(f.b,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},i.createElement("div",{className:n(_t)},i.createElement(b.d,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&i.createElement(f.f,{href:Object(ce.Fb)(t.slug)},i.createElement(f.b,null,i.createElement(b.g,{scale:"M"},t.title))),t.description&&i.createElement(f.b,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},i.createElement(b.a,{scale:"L"},t.description)))),t.description&&i.createElement(f.b,{display:"none",marginTop:"29px",xs:{display:"block"}},i.createElement(b.a,{scale:"M"},t.description)))}var kt=a()(St(),jt.a);function It(){var e=o()(["\n  query SequencePostRecircQuery(\n    $postId: ID!\n    $includeSequenceRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...SequencePostRecirc_post\n    }\n  }\n  ","\n"]);return It=function(){return e},e}function Tt(){var e=o()(["\n  fragment SequencePostRecirc_post on Post {\n    elevateRecirc(paging: {limit: $postRecircPaging}) @include(if: $includeSequenceRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...PostListingItemRecirc_post\n        }\n      }\n    }\n  }\n  ","\n"]);return Tt=function(){return e},e}var Rt=a()(Tt(),K.a),At=a()(It(),Rt),Lt=i.forwardRef((function(e,t){var n,r,o,s=e.postId,a=e.rootMargin,l=e.recircOptions,c=(null==l||null===(n=l.v1)||void 0===n?void 0:n.limit)||3,u=Q(At,{variables:{postId:s,includeSequenceRecirc:!0,postRecircPaging:c},ssr:!1}),d=$()(u,2),m=d[0],p=d[1],f=p.called,b=p.loading,g=p.error,h=p.data;Object(J.f)({onIntersect:m,target:t,disconnect:function(){return f},rootMargin:a},[f]);var v=null==h||null===(r=h.post)||void 0===r||null===(o=r.elevateRecirc)||void 0===o?void 0:o.items;return!f||b||g||!v?null:i.createElement(X,{posts:v,sourceName:"elevate_recirc"})})),Mt=i.forwardRef((function(e,t){return i.createElement(Lt,M()({},e,{ref:t}))})),Bt=Object(l.c)((function(e){return{recircOptions:e.config.recircOptions}}),null,null,{forwardRef:!0})(Mt),Dt=n("./src/framework/track/IntersectionPresenter.tsx"),Nt=n("./src/styles/flex.ts"),Ut=n("./src/svg/unlisted-19px.svg"),Ft=n("./src/util/hooks/postRecircHooks.tsx");function Vt(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    layerCake\n    newsletterId\n    collection {\n      viewerIsEditor\n      newsletterV3 {\n        isSubscribed\n        showPromo\n      }\n      ...auroraHooks_collection\n      ...NewsletterV3Promo_collection\n      ...PostFooter_collection\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      id\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n    viewerClapCount\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterResponsesButton_post\n    ...PostInternalLinks_post\n    ...PostNextFiveStories_post\n    ...PostRecirc_post\n    ...SequencePostRecirc_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Vt=function(){return e},e}function Ht(){var e=o()(["\n  fragment PostFooter_collection on Collection {\n    name\n    description\n  }\n"]);return Ht=function(){return e},e}var zt=function(e){return{color:e.baseColor.text.normal}},Gt=(t.c=Object(l.c)((function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp,embeddedPostIds:e.config.embeddedPostIds}}),{})((function(e){var t=e.post,n=e.isAmp,r=e.setIsResponsesSidebarVisible,o=e.embeddedPostIds,s=e.hideRecirc,a=t.id,l=t.layerCake,d=t.tags,m=t.topics,p=t.sequence,h=t.visibility,v=t.isPublished,x=t.allowResponses,E=t.collection,w=t.newsletterId,C=i.useRef(null),j=Object(g.useCx)(),S=i.useContext(c.b),_=Object(Ft.a)()||n,P=function(e,t,n,r){var o=Object(I.a)({tier:r,topics:n,tags:t,flag:"enable_more_on_coronavirus"}).shouldShowCdcMessaging;return!(!(null==e?void 0:e.coronavirus)||!o)}(o,null==d?void 0:d.map((function(e){return e.id})),null==m?void 0:m.map((function(e){return e.name})),l);i.useEffect((function(){S.updateWatchedBounds("footer",C,{type:"footer"})}),[]);var T,R=!!Object(Me.a)("enable_end_of_post_cleanup"),A=Object(u.b)(E),L=Object(ke.a)(),M=null==E?void 0:E.newsletterV3;return i.createElement("div",{ref:C},i.createElement(Pe.b,{source:{susiEntry:"follow_footer",name:"follow_footer"}},i.createElement("div",{className:j([(T=!v||P,{marginTop:"40px",clear:"both",marginBottom:T?"40px":void 0}),Object(Nt.a)({flexDirection:"column",justifyContent:"center"})])},i.createElement(f.v,{size:"inset"},!v&&i.createElement(f.b,{height:"20px",borderTop:"BASE_LIGHTER"}),!w&&(null==E?void 0:E.newsletterV3)&&(null==M?void 0:M.showPromo)&&((null==E?void 0:E.viewerIsEditor)||!(null==M?void 0:M.isSubscribed))&&i.createElement(y,{collection:E}),i.createElement(f.b,{display:"flex",flexWrap:"wrap"},v&&i.createElement(yt,{post:t}),v&&i.createElement(Ct,{post:t})),i.createElement(f.b,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===h&&i.createElement(f.b,null,i.createElement(b.a,{scale:"S"},i.createElement(Ut.a,null)," ",i.createElement("span",{className:j(zt)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==t.license&&i.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),t.license&&"ALL_RIGHTS_RESERVED"!==t.license&&i.createElement(dt,{license:t.license})),A&&i.createElement(i.Fragment,null,!n&&i.createElement(f.b,{marginTop:"25px",paddingBottom:"25px"},i.createElement(Te,{post:t,setIsResponsesSidebarVisible:r,useSocialPopover:!0})),d&&d.length>0&&i.createElement(f.b,{marginTop:"25px",paddingBottom:"40px"},i.createElement(fe,{tags:d}))),!A&&i.createElement(i.Fragment,null,d&&d.length>0&&i.createElement(f.b,{marginTop:"25px"},i.createElement(fe,{tags:d})),!n&&i.createElement(Te,{post:t,setIsResponsesSidebarVisible:r})),v&&i.createElement(i.Fragment,null,!A&&i.createElement(et,{post:t}),x&&i.createElement(f.b,{borderTop:A?void 0:"BASE_LIGHTER",paddingTop:A?void 0:"25px",print:{display:"none"},sm:{borderTop:R?"NONE":"BASE_LIGHTER",paddingTop:R?"0":"25px"}},!L&&i.createElement(rt,{post:t,setIsResponsesSidebarVisible:r})),A&&i.createElement(et,{post:t})),!A&&P&&i.createElement(f.b,{paddingTop:"25px"},i.createElement(Dt.a,{ref:C,rootMargin:"0px 0px 1000px 0px"},i.createElement(O.a,{postId:null==o?void 0:o.coronavirus,sourcePost:t})))),A&&i.createElement(f.v,{size:"full"},i.createElement(G,{post:t})),!A&&!s&&v&&!P&&i.createElement(f.b,{backgroundColor:"BASE_LIGHT",marginTop:"64px",print:{display:"none"}},i.createElement(f.v,null,p&&!p.hideIndex&&i.createElement(Pt,{sequence:p}),!_&&(p?i.createElement(Bt,{ref:C,postId:a,rootMargin:"0px 0px 2000px 0px",post:t}):i.createElement(ie,{ref:C,postId:a,rootMargin:"0px 0px 2000px 0px",post:t})),_&&i.createElement(k,{post:t,sourceName:"post_internal_links"}))))))})),a()(Ht())),qt=a()(Vt(),u.a,x,Gt,Re,Ze,nt,P,q,re,Rt,kt,be,vt,wt)},"./src/components/post/footer/PostFooterSocialPopover.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return k}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n.n(c),d=n("./src/components/session/useFlag.tsx"),m=n("./src/components/social/ShareButton.tsx"),p=n("./src/components/ui/PopoverMenu.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/source/index.ts"),h=n("./src/framework/style/index.ts"),v=n("./src/store/actions/navigation.ts"),x=n("./src/svg/link-slim.svg");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M15.6 5a.42.42 0 0 0 .17-.3.42.42 0 0 0-.12-.33l-2.8-2.79a.5.5 0 0 0-.7 0l-2.8 2.8a.4.4 0 0 0-.1.32c0 .12.07.23.16.3h.02a.45.45 0 0 0 .57-.04l2-2V10c0 .28.23.5.5.5s.5-.22.5-.5V2.93l2.02 2.02c.08.07.18.12.3.13.11.01.21-.02.3-.08v.01"}),u.a.createElement("path",{d:"M18 7h-1.5a.5.5 0 0 0 0 1h1.6c.5 0 .9.4.9.9v10.2c0 .5-.4.9-.9.9H6.9a.9.9 0 0 1-.9-.9V8.9c0-.5.4-.9.9-.9h1.6a.5.5 0 0 0 .35-.15A.5.5 0 0 0 9 7.5a.5.5 0 0 0-.15-.35A.5.5 0 0 0 8.5 7H7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2"})),O=function(e){return u.a.createElement("svg",E({width:25,height:25},e),y)},w=n("./src/util/hooks/useToggle.tsx");function C(){var e=o()(["\n  fragment PostFooterSocialPopover_post on Post {\n    id\n    mediumUrl\n    title\n    ...ShareButton_post\n  }\n  ","\n"]);return C=function(){return e},e}function j(e){return{fill:e.baseColor.fill.normal}}function S(e){return{fill:e.baseColor.fill.lighter}}var _={height:"16px",width:"16px",marginLeft:"4px"},P=function(e){var t,n=e.post,r=e.source,o=n.mediumUrl,s=n.title,i=Object(d.a)("share_post_linkedin"),l=Object(v.u)(),u=Object(h.useTheme)(),E=Object(h.useCx)(),y=Object(w.a)(!1),C=a()(y,3),P=C[0],k=C[1],I=C[2],T=(null==u||null===(t=u.breakpoints)||void 0===t?void 0:t.md)||728;return c.createElement(g.b,{source:r},c.createElement(f.w,{isVisible:P,hide:I,popoverRenderFn:function(){return c.createElement(p.a,null,c.createElement(p.b,{paddingTopBottom:"8px"},c.createElement(m.a,{socialPlatform:"TWITTER",buttonStyle:"LINK_INLINE_SHORT_LABEL",post:n})),c.createElement(p.b,{paddingTopBottom:"8px"},c.createElement(m.a,{socialPlatform:"FACEBOOK",buttonStyle:"LINK_INLINE_SHORT_LABEL",post:n})),i&&c.createElement(c.Fragment,null,c.createElement(p.b,{paddingTopBottom:"8px"},c.createElement(m.a,{socialPlatform:"LINKEDIN",buttonStyle:"LINK_INLINE_SHORT_LABEL",post:n}))),o&&c.createElement(p.b,{paddingTopBottom:"8px"},c.createElement(f.t,{onClick:function(){navigator.clipboard.writeText(o),l({message:"Link copied",toastStyle:"MESSAGE",duration:2e3}),I()}},c.createElement(f.b,{display:"inline-block"},c.createElement(x.a,{className:E([S,_])}),c.createElement(f.b,{display:"inline-block",marginLeft:"20px"},c.createElement(b.a,{scale:"S"},"Copy link"))))))}},c.createElement(f.t,{onClick:function(){var e,t=null===(e=window)||void 0===e?void 0:e.innerWidth;navigator&&navigator.share&&o&&t&&t<T?navigator.share({url:o,text:s||"",title:s||""}):k()}},c.createElement(O,{className:E(j)}))))},k=l()(C(),m.b)},"./src/components/post/footer/actions/CollectionSubmission.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return M}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),d=n("./src/components/collection/CollectionAvatar.tsx"),m=n("./src/components/post/footer/actions/PubStatusMutations.tsx"),p=n("./src/components/post/footer/actions/shared.ts"),f=n("./src/components/session/WithViewer.tsx"),b=n("./src/components/ui/PopoverMenu.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/index.ts");function v(){var e=a()(["\n  fragment CollectionSubmission_post on Post {\n    id\n    ...CollectionSubmissionPopover_post\n    ...CollectionSubmissionPopoverMenuItem_post\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function x(){var e=a()(["\n  fragment CollectionSubmissionPopover_post on Post {\n    id\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return x=function(){return e},e}function E(){var e=a()(["\n  fragment CollectionSubmissionPopoverMenuItem_post on Post {\n    id\n    statusForCollection\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return E=function(){return e},e}function y(){var e=a()(["\n  query CollectionSubmissionPopoverQuery {\n    viewer {\n      id\n      writerCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n      adminCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function O(){var e=a()(["\n  fragment CollectionSubmissionPopoverQuery_collection on Collection {\n    ...CollectionSubmissionOption_collection\n    ...ManageSubmission_collection\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function w(){var e=a()(["\n  fragment CollectionSubmissionOption_collection on Collection {\n    id\n    name\n    slug\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return w=function(){return e},e}var C=c()(w(),d.b),j=c()(O(),C,p.a),S=c()(y(),j),_=c()(E()),P=c()(x()),k=c()(v(),P,_),I=[{name:"",value:"No publication",content:u.createElement(g.b,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},u.createElement(h.a,{scale:"M",color:"DARKER"},"No publication"))}];function T(e){var t=e.collection;return t.name?u.createElement(g.b,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},u.createElement(h.a,{scale:"M",color:"DARKER"},t.name),u.createElement(d.a,{collection:t,size:32})):null}function R(e){var t=e.show,n=e.post,r=n.statusForCollection,o=n.isPublished;return r||!o?null:u.createElement(L,{post:n,noQueryReturn:null},(function(e){var r=e.loading,o=e.error,s=e.data;if(r||o)return null;var a=(void 0===s?{viewer:void 0}:s).viewer,i=n.creator;if(!a||!i||a.id!==i.id)return null;var l=a.adminCollections,c=a.writerCollections;return 0===l.length&&0===c.length?null:u.createElement(b.b,null,u.createElement(g.t,{onClick:t},"Add to publication"))}))}function A(e){var t=e.isVisible,n=e.hide;return u.createElement(g.i,{isVisible:t,hide:n,withCloseButton:!0},u.createElement(g.b,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},u.createElement(g.n,null,"Story submitted"),u.createElement(g.b,{paddingTop:"8px",paddingBottom:"24px"},u.createElement(h.f,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),u.createElement(g.c,{buttonStyle:"OBVIOUS",onClick:n},"OK")))}var L=function(e){var t=e.children,n=e.post,r=e.noQueryReturn,o=n.creator;return o?u.createElement(f.b,null,(function(e){return e?e.id!==o.id?r:u.createElement(i.b,{query:S,ssr:!1},(function(e){var n=e.loading,r=e.error,o=e.data;return t({loading:n,error:r,data:o})})):r})):r},M=function(e){var t=e.post,n=e.hide,r=e.showLoadingIndicator,s=e.isVisible,a=e.children,i=u.useState(""),l=o()(i,2),c=l[0],d=l[1],p=Object(m.a)(t),f=Object(m.c)(t);return t.isPublished?u.createElement(g.I,null,(function(e){var o=e.isVisible,i=e.hide,l=e.show;return u.createElement(u.Fragment,null,u.createElement(A,{hide:i,isVisible:o}),u.createElement(L,{post:t,noQueryReturn:a},(function(e){var o=e.loading,i=e.error,m=e.data;if(o||i)return a;var b=(void 0===m?{viewer:void 0}:m).viewer,v=t.creator;if(!b||!v||b.id!==v.id)return a;var x=b.adminCollections,E=b.writerCollections;if(0===x.length&&0===E.length)return a;var y=x.concat(E).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:u.createElement(T,{collection:e})}})),O=I.concat(y),w=x.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),C=E.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),j="";if(c){var S=O.find((function(e){return e.name===c}));S&&(j=S.value)}return u.createElement(g.w,{placement:"top",hide:n,isVisible:s,popoverRenderFn:function(){return u.createElement(g.b,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},u.createElement(h.a,{scale:"M",color:"DARKER"},"Add your story to a publication:"),u.createElement(g.b,{marginTop:"10px"},u.createElement(g.y,{value:j,onChange:d,options:O})),u.createElement(g.b,{display:"flex",marginTop:"20px"},u.createElement(h.a,{scale:"M",color:"LIGHTER"},c in w?u.createElement(g.c,{onClick:function(){var e=w[c];n(),r(),p(e).then((function(){window.location.reload(!1)}))},buttonStyle:"OBVIOUS"},"Add story"):u.createElement(g.c,{onClick:function(){var e=C[c];f(e),n(),l()},disabled:!c},"Submit")),u.createElement(g.b,{marginLeft:"10px"},u.createElement(h.a,{scale:"M",color:"LIGHTER"},u.createElement(g.t,{onClick:n},u.createElement(g.b,{padding:"10px"},"Cancel"))))),u.createElement(g.b,{marginTop:"10px"},u.createElement(h.a,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},a)})))})):a}},"./src/components/post/footer/actions/PubStatusMutations.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),d=n("./src/schema-types/globalTypes.ts");function m(){var e=a()(["\n  mutation RejectPostFromPubMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return m=function(){return e},e}function p(){var e=a()(["\n  mutation ManageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f=c()(p()),b=c()(m()),g=function(e){var t=Object(i.d)(f),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:d.c.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:d.c.PENDING,pendingCollection:t}}})}),[e])},h=function(e){var t=Object(i.d)(f),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:d.c.APPROVED}})}),[e])},v=function(e){var t=Object(i.d)(b),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:d.c.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])}},"./src/components/post/footer/actions/shared.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/components/collection/CollectionAvatar.tsx");function l(){var e=o()(["\n  fragment ManageSubmission_post on Post {\n    id\n    statusForCollection\n    collection {\n      ...ManageSubmission_collection\n    }\n    pendingCollection {\n      ...ManageSubmission_collection\n    }\n    creator {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function c(){var e=o()(["\n  fragment ManageSubmission_collection on Collection {\n    name\n    viewerIsEditor\n    creator {\n      id\n    }\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return c=function(){return e},e}var u=function(e,t){return t&&e.creator&&t.id===e.creator.id},d=function(e,t){var n=e.pendingCollection||e.collection;return n&&n.creator&&t.id===n.creator.id},m=function(e){var t=e.pendingCollection||e.collection;return t&&t.viewerIsEditor},p=a()(c(),i.b),f=a()(l(),p)},"./src/components/post/multivote/ClapMutation.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(i),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react/index.js"),p=n("./src/components/post/multivote/MultiVoteCount.tsx");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){var e=l()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      ...ClapMutation_post\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function h(){var e=l()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    viewerClapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return h=function(){return e},e}var v=d()(h(),p.b),x=d()(g(),v),E=function(){var e=Object(c.d)(x),t=a()(e,1)[0];return Object(m.useCallback)((function(e,n,r){return t({variables:{targetPostId:e.id,userId:n,numClaps:r},optimisticResponse:{clap:b({__typename:"Post"},e,{clapCount:e.clapCount+r,viewerClapCount:(e.viewerClapCount||0)+r})},update:function(t,n){var o,s=null==n||null===(o=n.data)||void 0===o?void 0:o.clap;if(s){var a=t.readFragment({id:"Post:".concat(s.id),fragment:v,fragmentName:"ClapMutation_post"});t.writeFragment({id:"Post:".concat(s.id),fragment:v,fragmentName:"ClapMutation_post",data:b({},a,{clapCount:e.clapCount+r,viewerClapCount:(e.viewerClapCount||0)+r})})}}})}),[])}},"./src/components/post/multivote/MultiVote.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return He})),n.d(t,"a",(function(){return ze}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n.n(c),d=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/post/multivote/ClapMutation.tsx"),p=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),f=n.n(p),b=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/style/index.ts"),h=n("./src/styles/colors.ts"),v=n("./src/styles/mediaTypes.ts");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E={top:"0",left:"0",width:"60px",height:"60px"},y={top:"-2px",left:"0",width:"25px",height:"36px"},O=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",pointerEvents:"none"},e?E:y)},w={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1"},"100%":{opacity:"0",transform:"scale(1.5)"}},C={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1",transform:"scale(1.3)"},"100%":{opacity:"0",transform:"scale(1.6)"}},j=function(e){return f()({animation:"370ms ease-out 1 ".concat(e)},Object(v.b)("reduce"),{animationDuration:"0.1ms"})},S=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(48,"%"),left:"".concat(-5,"px"),transformOrigin:"".concat(t+2+3,"px"),width:"".concat(2,"px"),height:"".concat(2,"px"),borderRadius:"50%",backgroundColor:h.n}},_=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(44,"%"),left:"".concat(-9,"px"),transformOrigin:"".concat(t+6+3,"px"),width:"0",height:"0",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",borderLeft:"".concat(6,"px solid ").concat(h.h)}};function P(e){var t=e.isLarge,n=e.offset,r=e.onBurstEnd,o=Object(g.useCx)(),s=o(O(t));return c.createElement(b.K,{keyframes:{dotKeyframesName:w,triangleKeyframesName:C}},(function(e){for(var a=e.dotKeyframesName,i=e.triangleKeyframesName,l=[],u=[],d=0;d<5;d++){var m=72*d+n;l.push(c.createElement("div",{key:m,className:"".concat(o(S(t))),style:{transform:"rotate(".concat(m,"deg)")}})),u.push(c.createElement("div",{key:m,className:"".concat(o(_(t))),style:{transform:"rotate(".concat(m+13,"deg)")}}))}return c.createElement("div",{className:s},c.createElement("div",{className:"".concat(s," ").concat(o(j(a))),onAnimationEnd:function(){return r(n)}},l),c.createElement("div",{className:"".concat(s," ").concat(o(j(i)))},u))}))}var k=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),I=n.n(k),T=n("./node_modules/@babel/runtime/helpers/extends.js"),R=n.n(T),A=n("./src/styles/breakpoints.ts"),L=n("./src/svg/clap-25px.svg");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"})),D=function(e){return u.a.createElement("svg",M({width:29,height:29},e),B)};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=u.a.createElement("path",{d:"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z",fillRule:"evenodd"}),F=function(e){return u.a.createElement("svg",N({width:33,height:33,viewBox:"0 0 33 33"},e),U)},V=n("./src/svg/clap-filled-25px.svg");function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),u.a.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"})),G=function(e){return u.a.createElement("svg",H({width:29,height:29},e),z)};function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M29.58 17.1l-3.85-6.78c-.37-.54-.88-.9-1.44-.99a1.5 1.5 0 0 0-1.16.28c-.42.33-.65.74-.7 1.2v.01l3.63 6.37c2.46 4.5 1.67 8.8-2.33 12.8-.27.27-.54.5-.81.73a7.55 7.55 0 0 0 4.45-2.26c4.16-4.17 3.87-8.6 2.21-11.36zm-4.83.82l-3.58-6.3c-.3-.44-.73-.74-1.19-.81a1.1 1.1 0 0 0-.89.2c-.64.51-.75 1.2-.33 2.1l1.83 3.86a.6.6 0 0 1-.2.75.6.6 0 0 1-.77-.07l-9.44-9.44c-.51-.5-1.4-.5-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l5.6 5.61a.6.6 0 1 1-.84.85l-5.6-5.6-.01-.01-1.58-1.59a1.35 1.35 0 0 0-1.9 0 1.35 1.35 0 0 0 0 1.9l1.58 1.59 5.6 5.6a.6.6 0 0 1-.84.86L4.68 13.7c-.51-.51-1.4-.51-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l2.36 2.36 3.52 3.52a.6.6 0 0 1-.84.85l-3.53-3.52a1.34 1.34 0 0 0-.95-.4 1.34 1.34 0 0 0-.95 2.3l6.78 6.78c3.72 3.71 9.33 5.6 13.5 1.43 3.52-3.52 4.2-7.13 2.08-11.01zM11.82 7.72c.06-.32.21-.63.46-.89a1.74 1.74 0 0 1 2.4 0l3.23 3.24a2.87 2.87 0 0 0-.76 2.99l-5.33-5.33zM13.29.48l-1.92.88 2.37 2.84zM21.72 1.36L19.79.5l-.44 3.7zM16.5 3.3L15.48 0h2.04z"})),$=function(e){return u.a.createElement("svg",q({width:33,height:33},e),W)};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=u.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62",fillRule:"evenodd"}),X=function(e){return u.a.createElement("svg",K({width:29,height:29},e),Y)},Q=n("./src/util/hooks/useInterval.tsx"),J=n("./node_modules/exenv/index.js"),Z=n.n(J).a.canUseDOM?c.useLayoutEffect:c.useEffect,ee=n("./src/util/useragent.ts");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={S:c.createElement(L.a,null),M:c.createElement(D,null),L:c.createElement(F,null)},oe={S:c.createElement(V.a,null),M:c.createElement(G,null),L:c.createElement($,null)},se={"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(1.4)",opacity:0},"100%":{opacity:0}},ae={left:"0",height:"100%",position:"absolute",top:"0",width:"100%"},ie=function(e){var t;return t={backgroundColor:e.backgroundColor,border:"1px solid ".concat(e.baseColor.border.lighter),borderRadius:"50%",display:"flex",alignItems:"center",height:"60px",position:"relative",width:"60px"},f()(t,Object(v.b)("no-preference"),{transition:"border-color 150ms ease"}),f()(t,":hover",{borderColor:e.baseColor.border.dark}),t},le=function(e){return{border:"1px solid ".concat(e.baseColor.border.dark)}},ce={transform:"translateX(-35px)"},ue=f()({transform:"translateX(0)"},Object(v.b)("no-preference"),{transition:"transform .2s ".concat("cubic-bezier(.25,0,.6,1.4)")}),de=f()({},":hover + .".concat("multi-vote-undo-revealed"),ce),me=function(e){var t;return t={},f()(t,A.sm(e),{display:"none"}),f()(t,"border","none"),f()(t,"cursor","pointer"),f()(t,"fill",e.baseColor.fill.lighter),f()(t,"left","4px"),f()(t,"outline","none"),f()(t,"padding","0"),f()(t,"position","absolute"),f()(t,"transition","transform .3s ".concat("cubic-bezier(.25,0,.6,1.4)"," 1s")),f()(t,":hover",ce),f()(t,":focus",{fill:e.baseColor.fill.dark}),f()(t,Object(v.b)("reduce"),{transitionDuration:"0.1ms !important"}),t},pe=function(e,t){var n,r,o=t.baseColor.fill;return n=o.lighter,{fill:r=o.normal,":focus":{fill:e?r:n},":hover":{fill:e?r:n}}},fe=function(){return{opacity:.25,cursor:"not-allowed"}},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){return ne({padding:0,outline:0,border:0,userSelect:"none",cursor:"pointer","> svg":{pointerEvents:"none"},":active":{borderStyle:e?"solid":"none"}},t?de:null,{"-webkit-user-select":"none"})}},ge=!1;function he(e){var t=e.callback,n=e.ms,r=void 0===n?300:n,o=e.callImmediately,s=void 0===o||o,i=c.useState(!1),l=a()(i,2),u=l[0],d=l[1];Object(Q.a)(t,u?r:null);var m=c.useCallback((function(e){"touchstart"===e.type&&(ge=!0),("mousedown"!==e.type||!ge&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;return 0===e.button&&!(Object(ee.c)(t)&&e.ctrlKey)}(e))&&(s&&t(),d(!0))})),p=c.useCallback((function(){d(!1)}));return Z((function(){if(u)return document.addEventListener("mouseup",p),function(){return document.removeEventListener("mouseup",p)}}),[u]),{onMouseDown:m,onTouchStart:m,onTouchEnd:p}}function ve(e){var t=e.pulseOnHover,n=void 0===t||t,r=e.children,o=Object(g.useCx)();return c.createElement(b.K,{keyframes:{pulseAnimation:se}},(function(e){var t,s=e.pulseAnimation;return c.createElement("div",{className:o([ie].concat(n?(t=s,function(e){return f()({},Object(v.b)("no-preference"),{"::before":ne({background:"\n      radial-gradient(circle, ".concat(e.baseColor.border.darker," 60%, transparent 70%)\n    "),borderRadius:"50%",content:'""',display:"block",zIndex:0},ae),":hover::before":{animation:"".concat(t," 2000ms infinite cubic-bezier(.1,.12,.25,1)")}})}):le))},r)}))}function xe(e){var t=e.isSuppressed,n=e.onClick,r=Object(g.useCx)();return c.createElement("button",{className:"".concat(r([me].concat(t?ue:[]))).concat(t?"":" multi-vote-undo-revealed"),onClick:n},c.createElement(X,null))}function Ee(e){var t=e.canUndo,n=void 0!==t&&t,r=e.isCircle,o=void 0!==r&&r,s=e.isFilled,a=void 0!==s&&s,i=e.isDisabled,l=void 0!==i&&i,u=e.isUndoSuppressed,d=void 0!==u&&u,m=e.scale,p=void 0===m?"L":m,b=e.onClickAndHold,h=e.onUndo,x=Object(g.useCx)(),E=o?function(e){return function(t){var n=pe(e,t);return ne({alignItems:"center",background:t.backgroundColor,borderRadius:"50%",display:"flex",justifyContent:"center",zIndex:2},ae,{},n,f()({},Object(v.b)("no-preference"),{transition:"fill ".concat(200,"ms ease")}))}}(l):function(e){return function(t){return pe(e,t)}}(l),y=he({callback:b,ms:200}),O=a||l?oe[p]:re[p];return b?c.createElement(c.Fragment,null,c.createElement("button",R()({className:x([be(o,n),E])},y),O),n&&c.createElement(xe,{onClick:h,isSuppressed:d})):c.createElement("div",{className:x([be(o),E].concat(I()(l?[fe]:[])))},O)}function ye(e){var t=e.canUndo,n=e.isCircle,r=e.isFilled,o=e.isUndoSuppressed,s=e.disableReason,a=e.scale,i=e.onClickAndHold,l=e.onUndo,u={isFilled:r,scale:a},d={onClickAndHold:i};return s?c.createElement(b.H,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(b.b,{padding:"8px",whiteSpace:"nowrap"},s)},placement:"top",targetDistance:15},c.createElement(Ee,R()({isDisabled:!0},u))):n?c.createElement(ve,{pulseOnHover:!r},c.createElement(Ee,R()({isCircle:!0,canUndo:t,isUndoSuppressed:o,onUndo:l},u,d))):c.createElement(Ee,R()({},u,d))}var Oe=n("./src/components/post/multivote/MultiVoteCount.tsx"),we={"0%":{transform:"matrix(0.97, 0, 0, 1, 0, 12)",opacity:"0"},"20%":{transform:"matrix(0.99, 0, 0, 1, 0, 2)",opacity:".7"},"40%":{transform:"matrix(1, 0, 0, 1, 0, -1)",opacity:"1"},"70%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"},"100%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"}},Ce={"0%":{opacity:"1",transform:"translateY(0px)"},"10%":{opacity:"1",transform:"translateY(-3px)"},"100%":{opacity:"0",transform:"translateY(-50px)"}},je={"0%":{transform:"scale(1)"},"15%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},Se=function(e){return function(t){return f()({backgroundColor:t.baseColor.fill.normal,bottom:"FAR"===e?"85px":"39px",color:t.backgroundColor,borderRadius:"50%",fontSize:"15px",height:"35px",left:"FAR"===e?"12px":"-4px",lineHeight:"35px",position:"absolute",textAlign:"center",width:"35px"},Object(v.b)("reduce"),{animationDuration:"0.1ms !important"})}},_e=function(e,t){var n=e.current;n&&(n.style.animation=t,n.scrollTop)};function Pe(e){var t=e.clappedAt,n=e.count,r=e.onFloatEnd,o=e.placement,s=Object(g.useCx)(),i=c.useState(t),l=a()(i,2),u=l[0],d=l[1],m=t!==u,p=c.useRef({enter:"",exit:"",pop:""}),f=c.useRef(null),h=c.useCallback((function(e){f.current=e,e&&_e(f,"".concat(p.current.enter," ").concat("400ms ease-out"))}),[]);function v(e){var t=p.current;e.animationName===t.enter||e.animationName===t.pop?_e(f,"".concat(t.exit," ").concat("400ms ease-out 500ms")):e.animationName===t.exit&&r()}return m&&(_e(f,""),_e(f,"".concat(p.current.pop," ").concat("500ms")),d(t)),c.createElement(b.K,{keyframes:{enter:we,exit:Ce,pop:je}},(function(e){return p.current=e,c.createElement("div",{ref:h,className:s([Se(o)]),onAnimationEnd:v},"+".concat(n))}))}var ke={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}};function Ie(e){var t=e.isPopping,n=void 0!==t&&t,r=e.onPopEnd,o=e.children,s=Object(g.useCx)();return c.createElement(b.K,{keyframes:{popAnimation:ke}},(function(e){var t,a=e.popAnimation;return c.createElement("div",{className:n?s((t=a,f()({animation:"".concat(t," 500ms 1")},Object(v.b)("reduce"),{animationDuration:"0.1ms"}))):"",onAnimationEnd:r},o)}))}var Te=n("./src/components/session/useViewer.tsx"),Re=n("./src/components/style/BaseThemeProvider.tsx"),Ae=n("./src/components/susi/SusiClickable.tsx"),Le=n("./src/framework/reporter/index.ts"),Me=n("./src/framework/source/index.ts"),Be=n("./src/store/actions/multiVote.ts"),De=n("./src/util/post/claps.ts"),Ne=n("./src/util/routes.ts");function Ue(){var e=o()(["\n  fragment MultiVote_post on Post {\n    id\n    clapCount\n    creator {\n      id\n      ...SusiClickable_user\n    }\n    viewerClapCount\n    isPublished\n    ...SusiClickable_post\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    ...MultiVoteCount_post\n  }\n  ","\n  ","\n  ","\n"]);return Ue=function(){return e},e}var Fe={SUBTLE:"S",SUBTLE_PADDED:"M",OBVIOUS:"L",SUBTLE_FOR_DESKTOP:"L"},Ve=function(e){var t,n=e.post,r=e.buttonStyle,o=e.hasDialog,s=e.shouldShowResponsiveLabelText,i=void 0!==s&&s,l=Object(m.b)(),u=Object(Te.b)(),p=null!==(t=null==u?void 0:u.id)&&void 0!==t?t:"",f=Object(d.f)((function(e){return e.multiVote.clapsPerPost})),g=Object(d.e)(),h=c.useCallback((function(e){return g(Object(Be.d)(e))}),[g]),v=c.useCallback((function(e){return g(Object(Be.c)(e))}),[g]),x=c.useState(),E=a()(x,2),y=E[0],O=E[1],w=c.useState(0),C=a()(w,2),j=C[0],S=C[1],_=c.useState([]),k=a()(_,2),I=k[0],T=k[1],R=c.useState(!1),A=a()(R,2),L=A[0],M=A[1],B=c.useState(!1),D=a()(B,2),N=D[0],U=D[1],F=c.useState(0),V=a()(F,2),H=V[0],z=V[1],G=Object(De.a)(f,n),q=G.clapCount,W=G.viewerClapCount,$=G.viewerHasClappedSinceFetch,K=Object(Le.c)(),Y=Object(Me.d)();function X(e){T(I.filter((function(t){return t!==e})))}function Q(){l(n,p,j),S(0),K.event("post.clientUpvote",{postId:n.id,postIds:[n.id],voteCount:j,source:Y})}c.useEffect((function(){if(y&&clearTimeout(y),0!==j){var e=setTimeout(Q,500);O(e)}else O(void 0)}),[j]),c.useEffect((function(){return function(){v({postId:n.id})}}),[]);var J,Z=n.collection,ee=n.creator,te=n.id,ne=n.isPublished,re=n.isLimitedState,oe=(J=!(!ee||ee.id!==p),re?"This feature is temporarily disabled.":ne?J?"You cannot applaud your own story.":void 0:"You cannot applaud a draft."),se="OBVIOUS"===r,ae="SUBTLE_FOR_DESKTOP"===r,ie=ae||i,le=ie||se,ce=!!(W&&W>0),ue=!!(q&&q>0),de=Fe[r],me=Z&&Z.slug?Object(Ne.fc)(Z.slug,te):Object(Ne.ec)(te),pe={marginRight:ae?void 0:se&&!oe?"16px":"5px"},fe={marginLeft:se&&!oe?"16px":"8px"},be={marginLeft:ae?"7px":void 0,marginTop:ae?"8px":"5px"},ge={marginRight:"8px",marginTop:"2px"};return c.createElement(b.b,{display:"flex",alignItems:ae?"flex-start":"center"},c.createElement(b.b,{xs:fe,sm:fe,md:pe,lg:pe,xl:pe,position:"relative"},p||oe?c.createElement(c.Fragment,null,L&&c.createElement(Re.b,null,c.createElement(Pe,{count:W,clappedAt:H,placement:se?"FAR":"NEAR",onFloatEnd:function(){M(!1)}})),c.createElement(Ie,{isPopping:N,onPopEnd:function(){U(!1)}},c.createElement(ye,{scale:de,canUndo:ce,isCircle:se,isFilled:ce,isUndoSuppressed:I.length>0,disableReason:oe,onClickAndHold:function(){for(var e=360*Math.random();-1!==I.indexOf(e);)e+=360;T(I.concat(e)),z(Date.now()),M(!0),U(!0),function(){if(W&&W>=50)return;h({postId:n.id,clapCount:q+1,viewerClapCount:W+1,viewerHasClappedSinceFetch:!0}),S(j+1)}()},onUndo:function(){W&&(l(n,p,-W),h({postId:n.id,clapCount:q-W,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),S(0),K.event("post.clientUnvote",{postId:n.id,postIds:[n.id],unvoteCount:W,source:Y}))}})),I.map((function(e){return c.createElement(P,{key:e,isLarge:se,offset:e,onBurstEnd:X})}))):c.createElement(Ae.a,{operation:"register",post:n,user:n.creator,actionUrl:me},c.createElement(ye,{isCircle:se,scale:de}))),ue&&(!L||ie)&&c.createElement(b.b,{xs:ge,sm:ge,md:be,lg:be,xl:be},c.createElement(Oe.a,{shouldShowNetwork:se,post:n,clapCount:q,showFullNumber:$,hasLabel:le,hasDialog:o,shouldShowResponsiveLabelText:ae||i})))},He=l()(Ue(),Ae.d,Ae.f,Oe.b),ze=function(e){var t;return c.createElement(Me.b,{source:{postId:null===(t=e.post)||void 0===t?void 0:t.id},extendSource:!0},c.createElement(Ve,e))}},"./src/components/post/multivote/MultiVoteCount.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/pluralize/pluralize.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/extends.js"),f=n.n(p),b=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),g=n.n(b),h=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),v=n.n(h),x=n("./node_modules/@babel/runtime/regenerator/index.js"),E=n.n(x),y=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),O=n.n(y),w=n("./node_modules/lodash/merge.js"),C=n.n(w),j=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),S=n("./src/components/user/UserAvatar.tsx"),_=n("./src/components/user/UserFollowButton.tsx"),P=n("./src/framework/design-system/components/index.ts"),k=n("./src/framework/design-system/type/index.ts"),I=n("./src/framework/design-system/util/type/toRule.ts");function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=m.a.createElement("g",{fillRule:"evenodd"},m.a.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),m.a.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"})),A=function(e){return m.a.createElement("svg",T({width:15,height:15},e),R)},L=n("./src/util/routes.ts");function M(){var e=o()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            username\n            name\n            bio\n            ...UserAvatar_user\n            ...UserFollowButton_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=function(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}},N=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({left:"20px",padding:"0 6px"},Object(I.a)((function(e){return{font:e.font.uiHeavy,fontSize:15,lineHeight:20}}))(e))},U={left:"24px",padding:"0 2px"},F=function(e){var t=e.clapCount,n=[D,t?N:U];return d.createElement(P.J,null,(function(e){return d.createElement("span",{className:e(n)},t?"+".concat(t):d.createElement(A,null))}))},V=function(e){var t=e.user,n=e.clapCount,r=e.post,o=t.username,s=t.name,a=t.bio,i=void 0===a?"":a;return s&&o?d.createElement(P.b,{padding:"12px 0"},d.createElement(P.b,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},d.createElement(P.b,{display:"flex",alignItems:"flex-start"},d.createElement(P.b,{marginRight:"20px"},d.createElement(S.d,{user:t,scale:"S"}),d.createElement(F,{clapCount:n})),d.createElement(P.b,{display:"flex",flexDirection:"column",alignItems:"flex-start"},d.createElement(P.t,{href:Object(L.lc)(o)},d.createElement(k.b,{scale:"XS"},s," ")),d.createElement(k.a,{scale:"S"},i))),d.createElement(P.b,{marginLeft:"48px"},d.createElement(_.c,{buttonSize:"SMALL",post:r,user:t})))):null},H=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.fetchMore,s=d.useState(!1),a=O()(s,2),i=a[0],l=a[1],c=d.useCallback((function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||i){e.next=8;break}return l(!0),e.prev=2,e.next=5,E.a.awrap(o());case 5:return e.prev=5,l(!1),e.finish(5);case 8:case"end":return e.stop()}}),null,null,[[2,,5,8]])}),[o,i,l]);if(!r)return null;var u=r.title,m=r.voters,p=r.clapCount,f=r.voterCount;return d.createElement(P.i,{isVisible:t,hide:n,withAnimation:!0},d.createElement(P.b,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},d.createElement(P.b,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},d.createElement(k.b,{scale:"S"},p," claps from ",f," ",1===f?"person":"people",' for "',u,'"')),m&&m.items.map((function(e){var t=e.user,n=e.clapCount;return t&&d.createElement(V,{user:t,clapCount:n,post:r,key:t.id})})),o&&d.createElement(P.b,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},d.createElement(P.c,{buttonStyle:"SOCIAL",size:"SMALL",onClick:c},"Show more claps"))))};function z(e){var t=e.postId,n=e.isVisible,r=v()(e,["postId","isVisible"]);return n?d.createElement(j.b,{ssr:!1,query:G,variables:{postId:t,pagingOptions:{limit:10}}},(function(e){var t,o=e.data,s=(o=void 0===o?{}:o).post,a=e.loading,i=e.error,l=e.fetchMore;if(a)return d.createElement(P.u,null);if(i||!(null==s?void 0:s.voters))return null;var c=s.voters.pagingInfo&&s.voters.pagingInfo.next;if(c){var u={page:c.page};t=function(){return l({variables:{pagingOptions:u},updateQuery:function(e,t){var n,r,o,s,a,i,l=t.fetchMoreResult;return C()({},l,{post:{voters:{items:[].concat(g()(null!==(n=null==e||null===(r=e.post)||void 0===r||null===(o=r.voters)||void 0===o?void 0:o.items)&&void 0!==n?n:[]),g()(null!==(s=null==l||null===(a=l.post)||void 0===a||null===(i=a.voters)||void 0===i?void 0:i.items)&&void 0!==s?s:[]))}}})}})}}return d.createElement(H,f()({isVisible:n,post:s,loading:a,fetchMore:t},r))})):null}var G=l()(M(),S.b,_.b,_.a),q=n("./src/util/numbers.ts");function W(){var e=o()(["\n  fragment PostVotersNetwork_post on Post {\n    voterCount\n    viewerClapCount\n    recommenders {\n      name\n    }\n  }\n"]);return W=function(){return e},e}var $=function(e){var t=e.post,n=e.showVoters,r=(t.viewerClapCount?[{name:"you"}]:[]).concat(t.recommenders||[]).slice(0,2).map((function(e){return e.name}));if(!r.length)return null;var o=(t.voterCount||0)-r.length,s=r.join(o>0?", ":" and "),a="".concat(r.length>1?",":""," and"),i=u()("other",o),l=o>0?"".concat(a," ").concat(Object(q.f)(o)," ").concat(i):"";return d.createElement(P.b,{sm:{display:"none"}},d.createElement(P.t,{onClick:n},d.createElement(k.a,{scale:"S"},"Applause from ".concat(s).concat(l))))},K=l()(W()),Y=n("./src/components/responses/MobileHideSpan.tsx"),X=n("./src/framework/design-system/components/util/VisibilityController.tsx"),Q=n("./src/framework/design-system/type/Detail.tsx"),J=n("./src/framework/style/index.ts");function Z(){var e=o()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return Z=function(){return e},e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,s=void 0!==o&&o,a=e.post,i=e.shouldShowNetwork,l=e.hasDialog,c=void 0!==l&&l,m=e.shouldShowResponsiveLabelText,p=void 0!==m&&m,f=a.id;if(!(t>0))return null;var b=r?u()("clap",t):"",g=function(e){var t=e.showVoters;return i&&t?d.createElement($,{showVoters:t,post:a}):null},h=s?Object(q.f)(t):Object(q.d)(t),v=function(e){var t=e.showVoters,n=Object(J.useCx)();return d.createElement("div",{className:n(te({},p||r?{position:"relative",top:"1px"}:{},{"& button":{textAlign:"left"}}))},d.createElement(Q.a,{color:p||r?"DARKER":"LIGHTER",scale:"M"},p?d.createElement(d.Fragment,null,t?d.createElement(P.t,{onClick:t},h,d.createElement(Y.a,null," ",b)):h,d.createElement(Y.a,null,d.createElement(g,{showVoters:t}))):d.createElement(d.Fragment,null,t?d.createElement(P.t,{onClick:t},h," ",b):h,d.createElement(g,{showVoters:t}))))};return c&&f?d.createElement(X.a,null,(function(e){var t=e.isVisible,n=e.show,r=e.hide;return d.createElement(d.Fragment,null,d.createElement(v,{showVoters:n}),d.createElement(z,{isVisible:t,hide:r,postId:f}))})):d.createElement(v,null)}var re=l()(Z(),K)},"./src/components/read-next/ReadNext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return D}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/components/ui/image/index.ts"),b=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/design-system/type/Detail.tsx"),h=n("./src/framework/design-system/type/Overline.tsx"),v=n("./src/framework/style/index.ts"),x=n("./src/util/miroImage.ts"),E=n("./src/util/routes.ts");function y(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return y=function(){return e},e}var O=d()(y()),w=Object(p.c)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},s=o.focusPercentX,a=o.focusPercentY,i=o.id,l=o.alt,c=r.collection||{},u=c.name,d=c.id,p=r.primaryTopic&&r.primaryTopic.name,y=d&&(n.includes(d)?u:p)||"",O=r&&r.title||"",w=Object(E.xb)(r,t),C=Object(v.useCx)(),j=m.createElement(b.b,{marginBottom:"4px"},m.createElement(h.a,{tag:"span"},m.createElement(g.a,{scale:"S",color:"DARKER"},m.createElement("div",{className:C({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},y))));return m.createElement(b.f,{href:w},m.createElement(b.b,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},j,m.createElement(b.b,{display:"flex",flexDirection:"row"},m.createElement(f.b,{miroId:i||"",alt:l||"",height:50,width:50,freezeGifs:!0,strategy:x.a.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:s||50,focusPercentY:a||50}),m.createElement(b.b,{display:"flex",flexDirection:"column",width:"130px"},m.createElement(g.a,{scale:"S",color:"DARKER",clamp:3},O)))))})),C=n("./src/components/session/WithViewer.tsx"),j=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),S=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/reporter/index.ts"),P=n("./src/framework/source/index.ts"),k=n("./src/screens/helpers/visits.ts"),I=n("./src/util/constants.ts");function T(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={display:"none"},M={":last-of-type":{xs:L,sm:L,md:L,lg:L,xl:{display:"block"}}},B=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),s=l()(o,2),a=s[0],i=s[1],u=Object(c.e)(C.a).data,d=(u=void 0===u?{viewer:void 0}:u).viewer,p=Object(c.c)(N),f=l()(p,2),g=f[0],h=f[1],x=h.called,E=h.loading,y=h.error,O=h.data,I=(O=void 0===O?{post:void 0}:O).post,T=d&&D(d)&&!(Object(k.i)()||a),R=Object(_.c)(),L=Object(v.useCx)(),B=Object(P.e)(),U=I&&I.readNext;return m.useEffect((function(){E||!y||U&&U.length||R.event("readNextError",{post:I,postId:r,error:y,readNextLength:U&&U.length||0})}),[E]),m.useEffect((function(){n&&U&&(R.event("readNext.viewed",{position:"sidebar"}),U.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return R.event("post.clientPresented",{source:Object(P.c)(A({},B,{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,U]),!x&&T&&g({variables:{postId:r||""}}),x&&!E&&!y&&I&&U&&U.length&&T?m.createElement(P.b,{source:{name:"read_next",sectionType:P.a.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(b.b,{width:"188px"},m.createElement(b.b,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(b.b,{position:"absolute",right:"0",top:"-4px"},m.createElement(j.a,{onClick:function(){Object(k.a)(),i(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(b.b,{width:"200px"},m.createElement(S.c,{scale:"XS"},"Your journey starts here.")),m.createElement(b.b,{display:"flex",flexDirection:"column",justifyContent:"space-between"},I.readNext.slice(0,4).map((function(e,t){var n=e.post;return m.createElement("div",{className:L(M),key:t},m.createElement(w,{key:t,post:n}))})))))):null};function D(e){return e&&e.createdAt+I.a>Date.now()}var N=d()(T(),O)},"./src/components/responses/MobileHideSpan.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/framework/design-system/components/index.ts"),c=function(e){var t=e.children,n=a()(e,["children"]);return i.createElement(l.b,o()({xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"inline-block"},xl:{display:"inline-block"},tag:"span"},n),t)},u=function(e){var t=e.children,n=a()(e,["children"]);return i.createElement(l.b,o()({xs:{display:"inline-block"},sm:{display:"inline-block"},md:{display:"inline-block"},lg:{display:"none"},xl:{display:"none"},tag:"span"},n),t)}},"./src/components/responses/ReadOrEditSimpleResponseContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=r.createContext({isEditing:!1,setIsEditing:function(){return null},setEditingQuote:function(){return null}})},"./src/components/responses/ResponseQuote.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n("./src/components/post/paragraph/TextParagraph.tsx"),d=n("./src/framework/style/index.ts"),m=n("./src/schema-types/globalTypes.ts"),p=n("./src/util/quote.ts");function f(){var e=o()(["\n  fragment ResponseQuote_post on Post {\n    inResponseToMediaResource {\n      href\n      mediumQuote {\n        quoteId\n        startOffset\n        endOffset\n        paragraphs {\n          ...TextParagraph_paragraph\n        }\n        ...buildQuotePreviewParagraph_quote\n      }\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.inResponseToMediaResource,n=Object(d.useCx)(),r=null==t?void 0:t.mediumQuote;if(!r)return null;var o=Object(p.a)(r);if(!o||!o.type)return null;var s=o.type;return s===m.l.IMG||s===m.l.IFRAME||s===m.l.COVER_TITLE||s===m.l.HR||s===m.l.MIXTAPE_EMBED||s===m.l.SECTION_CAPTION?null:c.createElement("div",{onClick:function(){var e,n=null==t?void 0:t.href;if(n){var r=null==n?void 0:n.split("#")[1];if(r){var o=r.split("--")[0];if(o){var s=document.getElementById(o);if(s){var a=null==s||null===(e=s.getBoundingClientRect())||void 0===e?void 0:e.top;a&&window.scrollTo({top:a})}}}}},className:n({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",marginTop:"22px",marginBottom:"3px",padding:"20px 16px",cursor:"pointer"})},c.createElement(u.g,{paragraph:g({},o,{name:"embedded-quote-".concat(r.quoteId,"-").concat(o.name)}),paragraphStyle:s,spaceTop:4,richTextStyle:"STREAM"}))},v=l()(f(),p.c,u.d)},"./src/components/responses/ResponsesContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=r.createContext({setIsSavingResponse:function(){return null},editingResponsesAtIndices:[],setEditingResponsesAtIndices:function(){return null},setInResponseToQuote:function(){return null}})},"./src/components/responses/ResponsesIconButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return S}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n.n(i),c=n("./src/components/responses/MobileHideSpan.tsx"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/design-system/type/index.ts"),m=n("./src/framework/reporter/index.ts"),p=n("./src/framework/source/index.ts"),f=n("./src/framework/style/index.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=l.a.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"}),h=function(e){return l.a.createElement("svg",b({width:25,height:25},e),g)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=l.a.createElement("path",{clipRule:"evenodd",d:"M24.28 25.5l.32-.29c2.11-1.94 3.4-4.61 3.4-7.56C28 11.83 22.92 7 16.5 7S5 11.83 5 17.65s5.08 10.66 11.5 10.66c1.22 0 2.4-.18 3.5-.5l.5-.15.41.33a8.86 8.86 0 0 0 4.68 2.1 7.34 7.34 0 0 1-1.3-4.15v-.43zm1 .45c0 1.5.46 2.62 1.69 4.44.22.32.01.75-.38.75a9.69 9.69 0 0 1-6.31-2.37c-1.2.35-2.46.54-3.78.54C9.6 29.3 4 24.09 4 17.65 4 11.22 9.6 6 16.5 6S29 11.22 29 17.65c0 3.25-1.42 6.18-3.72 8.3z"}),E=function(e){return l.a.createElement("svg",v({width:33,height:33,viewBox:"0 0 33 33",fill:"none"},e),x)},y=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx");function O(){var e=o()(["\n  fragment ResponsesIconButton_post on Post {\n    allowResponses\n    postResponses {\n      count\n    }\n  }\n"]);return O=function(){return e},e}var w=function(e){return{fill:e.baseColor.fill.normal}},C=function(e){return{fill:e.baseColor.fill.normal,opacity:.4,cursor:"not-allowed"}},j=function(e){var t=e.allowResponses,n=e.responsesCount,r=e.location,o=e.setIsResponsesSidebarVisible,s=e.postId,a=e.isLimitedState,l=Object(f.useCx)(),b=Object(m.c)(),g=Object(p.d)(),v=Object(y.a)();if(!v||!t)return null;var x="sidebar"===r,O="preview"===r,j="response"===r,S=x||O?i.createElement(h,{className:l(w)}):j?i.createElement(u.b,{position:"relative",top:"2px"},i.createElement(h,null)):i.createElement(i.Fragment,null,i.createElement(c.a,{marginLeft:"-1px"},i.createElement(E,{className:l(w)})),i.createElement(c.b,{marginLeft:"-4px"},i.createElement(h,{className:l(w)}))),_=i.createElement(u.H,{darkTheme:!0,popoverRenderFn:function(){return i.createElement(u.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},x||O?i.createElement(h,{className:l(C)}):j?i.createElement(u.b,{position:"relative",top:"2px"},i.createElement(h,{className:l(C)})):i.createElement(i.Fragment,null,i.createElement(c.a,{marginLeft:"-1px"},i.createElement(E,{className:l(C)})),i.createElement(c.b,{marginLeft:"-4px"},i.createElement(h,{className:l(C)})))),P={paddingLeft:x?"6px":j?"3px":"7px",top:x?void 0:j?"3.5px":"3px"},k={paddingLeft:x?"6px":"3px",top:j?"3.5px":"3px"};return i.createElement("button",{onClick:v&&!a?function(){o(!0),b.event("responses.viewAllClicked",{postId:s,source:g})}:void 0,className:l({cursor:"pointer",border:0,padding:0})},i.createElement(u.b,{display:"flex",flexDirection:"row",alignItems:"center",paddingRight:n?"9px":"4px"},a?_:S,i.createElement(u.b,{position:"relative",xs:k,sm:k,md:k,lg:P,xl:P},!!n&&i.createElement(d.a,{scale:"M",color:x?"LIGHTER":"DARKER"},n||null," ",!x&&!j&&!a&&i.createElement(c.a,null,"response",1===n?"":"s")))))},S=a()(O())},"./src/components/responses/ResponsesSidebar.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return Xe})),n.d(t,"a",(function(){return et}));var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(i),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/react/index.js"),d=n("./src/components/responses/ReadOrEditSimpleResponseContext.tsx"),m=n("./src/components/responses/ResponsesContext.tsx"),p=n("./src/components/post/multivote/MultiVote.tsx"),f=n("./src/components/responses/ResponseQuote.tsx"),b=n("./src/components/responses/ResponsesIconButton.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/index.ts"),v=n("./src/framework/source/index.ts"),x=n("./src/framework/style/index.ts"),E=n("./src/framework/track/index.ts"),y=n("./src/framework/track/PostPresentationTracker.tsx"),O=n("./src/components/format/TimeAgo.tsx"),w=function(){var e=Object(x.useCx)();return u.createElement("div",{className:e((function(e){return{color:"white",backgroundColor:e.brandColor.sage.dark,borderRadius:"2px",fontSize:"11px",padding:"0px 6px",height:"16px",display:"flex",alignItems:"center",marginLeft:"8px"}}))},"AUTHOR")},C=n("./src/components/session/useFlag.tsx"),j=n("./src/components/session/useViewer.tsx"),S=n("./src/components/user/UserAvatar.tsx"),_=n("./src/svg/overflow-dots-filled-25px.svg"),P=n("./src/util/routes.ts"),k=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),I=n.n(k),T=n("./node_modules/graphql-tag/src/index.js"),R=n.n(T),A=n("./node_modules/react-redux/es/index.js"),L=n("./src/components/responses/ResponsesSidebar_PostResponsesQuery.tsx");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e,t){var n,r=null==e||null===(n=e.post)||void 0===n?void 0:n.postResponses;if(!e||!(null==r?void 0:r.responsesConnection)||null===(null==r?void 0:r.count))return null;var o=r.responsesConnection.stream,s=o.filter((function(e){var n;return(null===(n=e.itemType.post)||void 0===n?void 0:n.id)!==t}));return s.length===o.length?null:Object.assign({},e,{post:B({},e.post,{postResponses:B({},r,{count:r.count-1,responsesConnection:B({},r.responsesConnection,{stream:s})})})})},N=n("./src/components/ui/PopoverMenu.tsx"),U=n("./src/framework/reporter/index.ts"),F=n("./src/store/actions/navigation.ts");function V(){var e=I()(["\n  mutation DeleteResponseMutation($responseId: ID!) {\n    deletePost(targetPostId: $responseId)\n  }\n"]);return V=function(){return e},e}var H,z=R()(V()),G=function(e){var t,n=e.response,r=e.parentPostId,o=e.hidePopoverMenu,s=u.useState(!1),i=a()(s,2),l=i[0],d=i[1],m=Object(U.c)(),p=Object(v.d)(),f=Object(A.e)(),b=Object(j.b)(),x=Object(c.d)(z,{variables:{responseId:n.id},update:function(e){var t={postId:r,postResponsesPaging:{limit:10}},s=e.readQuery({query:L.a,variables:t}),a=D(s,n.id);null!==a&&(e.writeQuery({query:L.a,data:a,variables:t}),m.event("responses.removed",{postId:n.id,source:p}),f(Object(F.m)({message:"Successfully deleted response."})),o())}}),E=a()(x,1)[0];return(null==b?void 0:b.id)&&(null==b?void 0:b.id)===(null===(t=n.creator)||void 0===t?void 0:t.id)?u.createElement(u.Fragment,null,u.createElement(N.b,null,u.createElement(g.t,{onClick:function(){return d(!0)}},"Delete")),l&&u.createElement(g.i,{isVisible:l,hide:function(){return d(!1)},withCloseButton:!1,noPortal:!0,padding:50},u.createElement(g.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},u.createElement(h.b,{scale:"M"},"Delete"),u.createElement(g.b,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"40px",textAlign:"center"},u.createElement(h.a,{scale:"M",color:"DARKER"},"Deleted responses are gone forever.",u.createElement("br",null),"Are you sure?")),u.createElement(g.b,{display:"flex",marginBottom:"20px"},u.createElement(g.t,{onClick:function(){return d(!1)}},u.createElement(h.a,{scale:"M",color:"DARKER"},"Cancel")),u.createElement(g.b,{marginLeft:"25px"},u.createElement(g.c,{buttonStyle:"ERROR",onClick:E,"data-test-id":"close-discussion-button"},"Delete Response")))))):null};!function(e){e.SIMPLE="SIMPLE",e.STORY="STORY"}(H||(H={}));var q=n("./src/framework/style/useCx.ts"),W=n("./src/components/user/UserBlockConfirmDialog.tsx");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(){var e=I()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return Y=function(){return e},e}var X=R()(Y()),Q=function(e){var t,n,r=e.response,o=e.parentPost,s=e.hidePopoverMenu,i=Object(j.b)(),l=Object(U.c)(),d=Object(v.d)(),m=Object(A.e)(),p=u.useState(!1),f=a()(p,2),b=f[0],h=f[1],x=function(){return h(!1)},E=null==r||null===(t=r.creator)||void 0===t?void 0:t.id,y=Object(c.d)(X,{variables:{targetUserId:E,userId:null==i?void 0:i.id},update:function(e){var t={postId:o.id,postResponsesPaging:{limit:10}},n=e.readQuery({query:L.a,variables:t}),r=J(n,E);null!==r&&e.writeQuery({query:L.a,data:r,variables:t})},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:E,isBlocking:!0}},onCompleted:function(){x(),m(Object(F.m)({message:"Responses by this user have been hidden from this story."}))}}),O=a()(y,1)[0],w=null===(n=o.creator)||void 0===n?void 0:n.id,C=(null==i?void 0:i.id)===w;return(null==i?void 0:i.id)===E?null:i&&E&&C?u.createElement(u.Fragment,null,u.createElement(N.b,null,u.createElement(g.t,{onClick:function(){h(!0)}},"Block this author")),b&&u.createElement(W.a,{onConfirm:function(){l.event("user.blocked",{userId:E,source:d}),O()},isVisible:b,isInResponsesSidebar:!0,hide:function(){x(),s()}})):null},J=function(e,t){var n,r=null==e||null===(n=e.post)||void 0===n?void 0:n.postResponses;if(!e||!t||!(null==r?void 0:r.responsesConnection)||null===(null==r?void 0:r.count))return null;var o=r.responsesConnection.stream,s=o.filter((function(e){var n,r;return(null===(n=e.itemType.post)||void 0===n||null===(r=n.creator)||void 0===r?void 0:r.id)!==t}));if(s.length===o.length)return null;var a=o.length-s.length;return K({},e,{post:K({},e.post,{postResponses:K({},r,{count:r.count-a,responsesConnection:K({},r.responsesConnection,{stream:s})})})})},Z=function(e){var t,n=e.response,r=Object(j.b)(),o=u.useContext(d.a),s=o.setIsEditing,a=o.isEditing,i=o.setEditingQuote;return(null===(t=n.creator)||void 0===t?void 0:t.id)===(null==r?void 0:r.id)?u.createElement(N.b,null,u.createElement(g.t,{onClick:function(){n.inResponseToMediaResource&&i(n.inResponseToMediaResource.mediumQuote),s(!a)}},"Edit this response")):null};function ee(){var e=I()(["\n  mutation HidePostResponseOnParentMutation($parentPostId: ID!, $postResponseId: ID!) {\n    hidePostResponseOnParentPost(parentPostId: $parentPostId, postResponseId: $postResponseId)\n  }\n"]);return ee=function(){return e},e}var te=R()(ee()),ne=function(e){var t,n,r,o=e.responseToBeHidden,s=e.parentPost,i=e.hidePopoverMenu,l=Object(j.b)(),d=Object(A.e)(),m=Object(U.c)(),p=Object(v.d)(),f=(null==l?void 0:l.id)===(null===(t=s.creator)||void 0===t?void 0:t.id),b=null==s||null===(n=s.collection)||void 0===n?void 0:n.viewerIsEditor,h=(null==l?void 0:l.id)===(null===(r=o.creator)||void 0===r?void 0:r.id),x=Object(c.d)(te,{variables:{postResponseId:o.id,parentPostId:s.id},update:function(e){var t={postId:s.id,postResponsesPaging:{limit:10}},n=e.readQuery({query:L.a,variables:t}),r=D(n,o.id);null!==r&&(e.writeQuery({query:L.a,data:r,variables:t}),m.event("response.hidden",{postId:o.id,source:p}),d(Object(F.m)({message:"",toastStyle:"HIDE_POST_RESPONSE",extraParams:{responseId:o.id,parentPostId:s.id}})),i())}}),E=a()(x,1)[0];return h?null:f||b?u.createElement(N.b,null,u.createElement(g.t,{onClick:E},"Hide this response")):null},re=n("./src/components/mutations/UserReportStoryMutation.tsx"),oe=n("./src/components/susi/SusiClickable.tsx"),se=n("./src/components/user/UserReportStoryDialog.tsx"),ae=function(e){var t=e.response,n=e.parentPost,r=e.hidePopoverMenu,o=Object(j.b)(),s=Object(U.c)(),i=Object(v.d)(),l=u.useState(!1),c=a()(l,2),d=c[0],m=c[1],p=t.creator,f=(null==o?void 0:o.id)===(null==p?void 0:p.id);return!p||f?null:u.createElement(re.a,{targetAuthorId:null==p?void 0:p.id,targetPostId:null==t?void 0:t.id,isBlocking:null==p?void 0:p.isBlocking},(function(e){var a=e.mutate;return u.createElement(u.Fragment,null,u.createElement(N.b,null,(null==o?void 0:o.id)?u.createElement(g.t,{onClick:function(){return m(!0)}},"Report this response"):u.createElement(oe.a,{operation:"register",post:n,susiEntry:"respond_sidebar"},"Report this response")),u.createElement(se.a,{onSubmit:function(e,n){return s.event("response.flagged",{postId:t.id,reason:n,source:i}),a(e,n)},isVisible:d,hide:function(){m(!1),r()},isResponse:!0}))}))},ie=n("./src/components/post/multivote/ClapMutation.tsx"),le=n("./src/store/actions/multiVote.ts"),ce=n("./src/util/post/claps.ts"),ue=function(e){var t=e.response,n=e.hidePopoverMenu,r=Object(ie.b)(),o=Object(U.c)(),s=Object(j.b)(),a=Object(v.d)(),i=Object(A.f)((function(e){return e.multiVote.clapsPerPost})),l=Object(A.e)(),c=u.useCallback((function(e){return l(Object(le.d)(e))}),[l]),d=Object(ce.a)(i,t),m=d.clapCount,p=d.viewerClapCount;return(null==s?void 0:s.id)&&0!==m&&0!==p?u.createElement(N.b,null,u.createElement(g.t,{onClick:function(){r(t,(null==s?void 0:s.id)||"",-p),c({postId:t.id,clapCount:m-p,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),o.event("post.clientUnvote",{postId:t.id,postIds:[t.id],unvoteCount:p,source:a}),n()}},"Undo applause for this response")):null},de={position:"absolute !important",top:"-16px",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"150px"},me=function(e){var t=e.response,n=e.responseType,r=e.parentPost,o=e.isPopoverMenuVisible,s=e.hidePopoverMenu,a=Object(q.a)(),i=Boolean(Object(C.a)("enable_responses_moderation")),l=t.creator,c=Boolean(Object(C.a)("enable_responses_edit_and_delete")),d=u.useRef(null);return u.useEffect((function(){var e=function(e){var t;(null==d||null===(t=d.current)||void 0===t?void 0:t.contains(e.target))||s()};if(o)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o]),t&&l?u.createElement("div",{className:a(de),ref:d},u.createElement(N.a,null,u.createElement(u.Fragment,null,u.createElement(ae,{response:t,parentPost:r,hidePopoverMenu:s}),i&&u.createElement(u.Fragment,null,u.createElement(ne,{responseToBeHidden:t,parentPost:r,hidePopoverMenu:s}),u.createElement(Q,{response:t,parentPost:r,hidePopoverMenu:s})),n===H.SIMPLE&&u.createElement(ue,{response:t,hidePopoverMenu:s})),c&&u.createElement(u.Fragment,null,n===H.SIMPLE&&u.createElement(Z,{response:t}),u.createElement(G,{response:t,hidePopoverMenu:s,parentPostId:r.id})))):null},pe=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},fe=function(e){var t,n=e.response,r=e.responseType,o=e.parentPost,s=Object(j.b)(),i=Object(x.useCx)(),l=n.creator,c=n.mediumUrl,d=n.createdAt,m=u.useState(!1),p=a()(m,2),f=p[0],b=p[1],E=Boolean(Object(C.a)("enable_responses_edit_and_delete"));if(!n||!l||!c)return null;var y=(null===(t=o.creator)||void 0===t?void 0:t.id)===l.id,k=(null==s?void 0:s.id)===l.id,I=!!E||!k,T=E&&function(e,t){return e&&t===H.SIMPLE}(n,r)&&(null==n?void 0:n.firstPublishedAt)!==(null==n?void 0:n.latestPublishedAt);return u.createElement(u.Fragment,null,u.createElement(g.b,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u.createElement(g.b,{display:"flex",flexDirection:"row",alignItems:"center"},u.createElement(S.d,{scale:"XS",user:l}),u.createElement(g.b,{paddingLeft:"12px"},u.createElement(g.b,{display:"flex",flexDirection:"row"},u.createElement(g.t,{href:Object(P.lc)(l.username||"")},u.createElement(h.a,{scale:"M",color:"DARKER"},l.name)),y&&u.createElement(w,null)),u.createElement(g.t,{href:c,linkStyle:"SUBTLE",inline:!0,noFollow:!0},u.createElement(h.a,{scale:"M"},u.createElement(O.a,{timestamp:d}),T&&u.createElement(u.Fragment,null," (edited)"))))),I&&u.createElement(g.t,{onClick:function(e){e.nativeEvent.stopPropagation(),b(!f)},inline:!0,className:i(pe)},u.createElement(_.a,null))),f&&u.createElement("div",{className:i({position:"relative"})},u.createElement(v.b,{source:{susiEntry:"respond_sidebar"},extendSource:!0},u.createElement(me,{response:n,responseType:r,parentPost:o,isPopoverMenuVisible:f,hidePopoverMenu:function(){return b(!1)}}))))},be=function(e){return e.join("").length>250?"char":e.join("\n").split("\n").length>5?"line":"none"};var ge=function(){return{padding:"5px 0px",cursor:"pointer"}},he=function(e){var t,n=e.simpleResponse,r=e.parentPost,o=e.omitBottomBorder,s=n.creator,i=n.content,l=n.mediumUrl,c=n.isLimitedState,d=u.useState(!1),m=a()(d,2),O=m[0],w=m[1],C=u.useRef(null),j=Object(x.useCx)();Object(E.h)(C,n);var S=null==i||null===(t=i.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(s&&i&&S&&l))return null;var _=S.map((function(e){return e.text||""})),P=O?_:function(e){switch(be(e)){case"char":return e.join("\n").slice(0,250).split("\n\n");case"line":return e.join("\n\n").split("\n").slice(0,5).join("\n").split("\n\n");case"none":return e}}(_),k="none"!==be(_),I=k&&!O;return u.createElement(y.b,{post:n,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!k},u.createElement(g.b,{paddingTop:"25px",paddingBottom:"16px",borderBottom:o?void 0:"BASE_LIGHTER",ref:C},u.createElement(fe,{response:n,responseType:H.SIMPLE,parentPost:r}),u.createElement(f.a,{inResponseToMediaResource:n.inResponseToMediaResource}),u.createElement(g.b,{marginTop:"12px"},u.createElement("pre",{className:j({whiteSpace:"pre-wrap"})},P.map((function(e,t){return u.createElement(g.b,{padding:"5px 0px",key:t},u.createElement(h.a,{scale:"M",color:"DARKER"},e,I&&t===P.length-1&&"..."))})))),I&&u.createElement("div",{onClick:function(){return w(!0)},className:j(ge)},u.createElement(h.a,{scale:"S",color:"ACCENT"},"Read More")),u.createElement(g.b,{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"14px"},u.createElement(v.b,{source:{susiEntry:"respond_sidebar"},extendSource:!0},u.createElement(p.a,{buttonStyle:"SUBTLE",post:n,shouldShowResponsiveLabelText:!0})),u.createElement(g.b,{width:"12px"}),u.createElement(g.t,{href:l+"?responsesOpen=true"},u.createElement(b.a,{location:"response",postId:n.id,responsesCount:n.responsesCount,setIsResponsesSidebarVisible:function(){},allowResponses:n.allowResponses,isLimitedState:c})))))},ve=n("./node_modules/react-loadable/lib/index.js"),xe=n.n(ve),Ee=n("./src/components/responses/editor/SimpleEditorType.tsx"),ye=n("./src/screens/ErrorScreen.tsx"),Oe=n("./src/screens/LoadingScreen.tsx");function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce,je={delay:1e3,timeout:2e4,loading:function(e){return e.error?u.createElement(ye.a,{error:e.error}):e.timedOut?u.createElement(ye.a,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?u.createElement(Oe.a,null):null}},Se=xe()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},je,{loader:function(){return Promise.all([n.e(8),n.e(7),n.e(55)]).then(n.bind(null,"./src/components/responses/editor/InlineResponseEditor.tsx"))},modules:["src/components/responses/editor/InlineResponseEditor"],webpack:function(){return["./src/components/responses/editor/InlineResponseEditor.tsx"]},render:function(e,t){var n=e.InlineResponseEditor;return u.createElement(n,t)}})),_e=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?Ee.a.create:r,s=e.initialValue;return u.createElement(Se,{parentPostId:t,responseId:n,type:o,initialValue:s})},Pe=function(e){var t,n,r,s,i=e.response,l=e.index,c=e.parentPost,p=e.omitBottomBorder,f=u.useState(!1),b=a()(f,2),g=b[0],h=b[1],x=u.useState(null),E=a()(x,2),y=E[0],O=E[1],w=u.useContext(m.a),C=w.editingResponsesAtIndices,j=w.setEditingResponsesAtIndices;return u.useEffect((function(){if(g&&!C.includes(l)&&j([].concat(o()(C),[l])),!g&&C.includes(l)){var e=C.filter((function(e){return e!==l}));j(e)}}),[g,C,j]),i.post?g?u.createElement(d.a.Provider,{value:{isEditing:g,setIsEditing:h,latestRev:null===(t=i.post)||void 0===t?void 0:t.latestRev,createdAt:null===(n=i.post)||void 0===n?void 0:n.createdAt,setEditingQuote:O,editingQuote:y}},u.createElement(v.b,{source:{index:l},key:i.post.id,extendSource:!0},u.createElement(_e,{type:Ee.a.edit,parentPostId:c.id,responseId:i.post.id,initialValue:null==i||null===(r=i.post)||void 0===r||null===(s=r.content)||void 0===s?void 0:s.bodyModel}))):u.createElement(d.a.Provider,{value:{isEditing:g,setIsEditing:h,setEditingQuote:O,editingQuote:y}},u.createElement(v.b,{source:{index:l},key:i.post.id,extendSource:!0},u.createElement(he,{parentPost:c,simpleResponse:i.post,omitBottomBorder:p}))):null},ke={"0%":{opacity:"0.8"},"50%":{opacity:"0.5"},"100%":{opacity:"0.8"}},Ie=function(){var e=Object(x.useKeyframes)({shimmerKeyframesName:ke}).shimmerKeyframesName,t=Object(x.useCx)();return u.createElement("div",{className:t((function(){return{animation:"".concat(e," 1.2s ease-in-out infinite"),padding:"32px 0"}}))},u.createElement(g.b,{display:"flex",flexDirection:"row"},u.createElement(g.b,{height:"32px",width:"32px",borderRadius:"100%",backgroundColor:"BASE_NORMAL"}),u.createElement(g.b,{marginLeft:"8px",marginTop:"4px"},u.createElement(g.b,{height:"8px",width:"120px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(g.b,{height:"8px",width:"80px",backgroundColor:"BASE_NORMAL"}))),u.createElement(g.b,{marginTop:"12px"},u.createElement(g.b,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(g.b,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),u.createElement(g.b,{height:"10px",width:"90%",backgroundColor:"BASE_NORMAL"})))},Te=n("./src/schema-types/globalTypes.ts"),Re=n("./src/svg/clap-filled-19px.svg"),Ae=n("./src/svg/response-filled-19px.svg"),Le=n("./src/util/numbers.ts"),Me=function(e){return{fill:e.baseColor.fill.lighter,float:"right"}},Be=function(e){var t,n,r=e.storyResponse,o=e.parentPost,s=e.omitBottomBorder,a=Object(x.useCx)(),i=r.creator,l=r.previewContent,c=r.mediumUrl,d=r.clapCount,m=r.responsesCount,p=null==l||null===(t=l.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(i&&l&&l.bodyModel&&c&&p))return null;var b=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var i=s.value;if(i.text&&(t.push(i),t.length>=2))break}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{title:t[0],subtitle:t[1]}}(p);if(!b.title&&!b.subtitle)return null;var v,E=null!==(null===(n=r.inResponseToMediaResource)||void 0===n?void 0:n.mediumQuote),O=m||0;return u.createElement(y.b,{post:r,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!1},u.createElement(g.b,{paddingTop:"25px",paddingBottom:"20px",borderBottom:s?void 0:"BASE_LIGHTER"},u.createElement(fe,{response:r,responseType:H.STORY,parentPost:o}),u.createElement(f.a,{inResponseToMediaResource:r.inResponseToMediaResource}),u.createElement(g.f,{href:Object(P.xb)(r)},u.createElement("div",{className:a({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"12px",marginTop:E?"12px":"16px"})},u.createElement("div",{className:a(Me)},u.createElement(h.a,{scale:"S",color:"LIGHTER"},u.createElement(g.b,{display:"flex",flexGrow:"0",alignItems:"center",marginLeft:d>0||O>0?"20px":"0"},d>0?u.createElement(g.b,{display:"flex",alignItems:"center"},u.createElement(g.b,{tag:Re.a,marginRight:"2px"}),u.createElement("div",null,Object(Le.d)(d))):null,O>0?u.createElement(g.b,{display:"flex",alignItems:"center"},u.createElement(g.b,{tag:Ae.a,marginLeft:d?"8px":"0",marginRight:"2px"}),u.createElement("div",null,Object(Le.d)(O))):null))),u.createElement(h.a,{scale:"M",clamp:2,color:"DARKER"},b.title&&u.createElement(g.b,null,b.title.text),b.subtitle&&u.createElement("div",{className:a((v=b.title.type,function(e){return{color:v===Te.l.H3?e.baseColor.text.lighter:e.baseColor.text.normal}}))},b.subtitle.text))))))},De=n("./src/components/responses/management-menu/CloseDiscussionMenuItem.tsx"),Ne={position:"absolute !important",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"200px"},Ue=function(e){var t=e.parentPostId,n=e.responsesLocked,r=e.isPopoverMenuVisible,o=e.hidePopoverMenu,s=Object(q.a)(),a=Object(A.f)((function(e){return e.config.authDomain})),i=u.useRef(null);return u.useEffect((function(){var e=function(e){var t;(null==i||null===(t=i.current)||void 0===t?void 0:t.contains(e.target))||o()};if(r)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[r]),u.createElement("div",{className:s(Ne),ref:i},u.createElement(N.a,null,u.createElement(N.b,null,u.createElement(g.t,{href:Object(P.wb)(a,t)},"Manage responses")),u.createElement(De.a,{parentPostId:t,responsesLocked:n,hidePopoverMenu:o})))},Fe=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},Ve=function(e){var t,n,r=e.parentPost,o=e.responsesLocked,s=Object(q.a)(),i=Object(j.b)(),l=Object(A.f)((function(e){return e.config.authDomain})),c=Boolean(Object(C.a)("enable_lock_responses")),d=u.useState(!1),m=a()(d,2),p=m[0],f=m[1],b=(null==i?void 0:i.id)===(null===(t=r.creator)||void 0===t?void 0:t.id),x=null==r||null===(n=r.collection)||void 0===n?void 0:n.viewerIsEditor;return b||x?c?u.createElement(g.b,null,u.createElement(g.t,{onClick:function(e){e.nativeEvent.stopPropagation(),f(!p)},inline:!0,className:s(Fe)},u.createElement(_.a,null)),p&&u.createElement("div",{className:s({position:"relative"})},u.createElement(v.b,{source:{susiEntry:"respond_sidebar"},extendSource:!0},u.createElement(Ue,{parentPostId:r.id,responsesLocked:o,isPopoverMenuVisible:p,hidePopoverMenu:function(){return f(!1)}})))):u.createElement(g.b,{paddingRight:"8px"},u.createElement(g.t,{href:Object(P.wb)(l,r.id),linkStyle:"OBVIOUS",inline:!0},u.createElement(h.a,{scale:"S",color:"LIGHTER"},"Manage responses"))):null},He=n("./src/framework/design-system/components/buttons/CloseButton.tsx");!function(e){e.StoryResponse="StreamItemPostStoryResponse",e.SimpleResponse="StreamItemPostSimpleResponse"}(Ce||(Ce={}));var ze={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},Ge=function(e){var t,n,r,o=e.responses,s=e.parentPost,i=e.responsesLocked,l=e.isLockedResponse,c=e.isLoadingInitialContent,d=e.isFetchingNextSetOfResponses,p=e.isResponsesSidebarVisible,f=e.setIsResponsesSidebarVisible,b=e.inResponseToQuote,E=e.setInResponseToQuote,y=Object(x.useCx)(),O=u.useState(!1),w=a()(O,2),C=w[0],j=w[1],S=u.useState([]),_=a()(S,2),P=_[0],k=_[1],I=s.id,T=(null==o?void 0:o.count)&&0!==(null==o?void 0:o.count)?"(".concat(null==o?void 0:o.count,")"):"",R=null==o||null===(t=o.responsesConnection)||void 0===t?void 0:t.stream,A=null==o||null===(n=o.responsesConnection)||void 0===n||null===(r=n.pagingInfo)||void 0===r?void 0:r.next,L=R&&o&&o.count&&(null==R?void 0:R.length)<(null==o?void 0:o.count)-1,M=d&&A&&L;return u.createElement(m.a.Provider,{value:{setIsSavingResponse:j,responsesLocked:i,isLockedResponse:l,editingResponsesAtIndices:P,setEditingResponsesAtIndices:k,inResponseToQuote:b,setInResponseToQuote:E}},p&&C&&u.createElement(g.u,{horizontalOverride:{left:"calc(100vw - ".concat(Xe,")")}}),u.createElement(g.b,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},u.createElement(h.b,{scale:"S"},"Responses ",T),u.createElement(g.b,{display:"flex",flexDirection:"row"},u.createElement(Ve,{parentPost:s,responsesLocked:i}),u.createElement(g.b,{position:"relative",right:"-7px"},u.createElement(He.a,{onClick:function(){return f(!1)},size:"REGULAR",isPositionAbsolute:!1})))),c?u.createElement(g.b,{padding:"0 24px"},u.createElement(Ie,null)):u.createElement(u.Fragment,null,u.createElement(_e,{parentPostId:I}),o&&0!==(null==R?void 0:R.length)?u.createElement(g.b,{padding:"0 24px"},null==R?void 0:R.map((function(e,t){var n=e.itemType.__typename,r=P.includes(t+1);switch(n){case Ce.SimpleResponse:var o=e.itemType;return o.post?u.createElement(Pe,{key:o.post.id,response:o,index:t,parentPost:s,omitBottomBorder:r}):null;case Ce.StoryResponse:var a=e.itemType;return a.post?u.createElement(v.b,{source:{index:t},key:a.post.id,extendSource:!0},u.createElement(Be,{storyResponse:a.post,parentPost:s,omitBottomBorder:r})):null;default:return null}})),M&&u.createElement(Ie,null)):u.createElement("div",{className:y(ze)},u.createElement(h.a,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),u.createElement(h.a,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},qe=n("./src/components/style/BaseThemeProvider.tsx"),We=n("./src/styles/breakpoints.ts");function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Xe="414px",Qe=function(e){return l()({width:Xe,position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},Object(We.sm)(e),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"})},Je=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},Ze=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},et=function(e){var t,n,r,o,s,i,l=e.setIsResponsesSidebarVisible,d=e.isResponsesSidebarVisible,m=e.inResponseToQuote,p=e.setInResponseToQuote,f=e.parentPost,b=Object(qe.c)().baseTheme,h=Object(x.useCx)(),E=Object(c.e)(L.a,{variables:{postId:f.id,postResponsesPaging:{limit:10}},ssr:!1}),y=E.loading,O=E.data,w=E.fetchMore,C=null==O||null===(t=O.post)||void 0===t?void 0:t.responsesLocked,j=null==O||null===(n=O.post)||void 0===n?void 0:n.isLockedResponse,S=null==O||null===(r=O.post)||void 0===r?void 0:r.postResponses,_=u.useState(0),P=a()(_,2),k=P[0],I=P[1],T=u.useState(!1),R=a()(T,2),A=R[0],M=R[1];u.useEffect((function(){k||I(window.innerWidth)}),[]);var B=null==S||null===(o=S.responsesConnection)||void 0===o||null===(s=o.pagingInfo)||void 0===s?void 0:s.next;if(B){var D={postId:f.id,postResponsesPaging:{limit:B.limit,to:B.to}};i=function(){return w({variables:D,updateQuery:function(e,t){var n=t.fetchMoreResult;return M(!1),nt(e,n)}})}}return u.createElement(g.F,{theme:b},u.createElement(v.b,{source:{name:"responses",postId:f.id},extendSource:!0},u.createElement(g.b,{print:{display:"none"}},u.createElement("div",{className:h([Ye,Ze(d)]),onClick:function(){l(!1)},"aria-hidden":!d}),u.createElement("div",{className:h([Qe,Je(d,k)]),"aria-hidden":!d,onScroll:function(e){return tt(e,B,A,M,i)}},u.createElement(Ge,{responses:S,parentPost:f,responsesLocked:C,isLockedResponse:j,isLoadingInitialContent:y,isFetchingNextSetOfResponses:A,isResponsesSidebarVisible:d,setIsResponsesSidebarVisible:l,inResponseToQuote:m,setInResponseToQuote:p})))))},tt=function(e,t,n,r,o){e.preventDefault();var s=e.currentTarget;s.scrollHeight-s.scrollTop-s.clientHeight<1.5*s.clientHeight&&t&&!n&&(r(!0),o())},nt=function(e,t){var n,r,s,a,i,l,c,u,d=null==t||null===(n=t.post)||void 0===n?void 0:n.postResponses,m=null==t?void 0:t.post;if(!m||!d||!(null===(r=d.responsesConnection)||void 0===r?void 0:r.stream))return e;var p=(null==e||null===(s=e.post)||void 0===s||null===(a=s.postResponses)||void 0===a||null===(i=a.responsesConnection)||void 0===i?void 0:i.stream)||[],f=(null==t||null===(l=t.post)||void 0===l||null===(c=l.postResponses)||void 0===c||null===(u=c.responsesConnection)||void 0===u?void 0:u.stream)||[];return{post:Ke({},m,{postResponses:Ke({},d,{responsesConnection:Ke({},d.responsesConnection,{stream:[].concat(o()(p),o()(f))})})})}}},"./src/components/responses/ResponsesSidebar_PostResponsesQuery.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/components/responses/SimpleResponse_simpleResponse.tsx"),l=n("./src/components/user/UserAvatar.tsx"),c=n("./src/framework/track/PostPresentationTracker.tsx");function u(){var e=o()(["\n  fragment ResponseHeader_post on Post {\n    createdAt\n    creator {\n      ...UserAvatar_user\n      isBlocking\n    }\n    mediumUrl\n  }\n  ","\n"]);return u=function(){return e},e}var d=a()(u(),l.b),m=n("./src/components/responses/ResponseQuote.tsx");function p(){var e=o()(["\n  fragment StoryResponse_storyResponse on StreamItemPostStoryResponse {\n    post {\n      ...ResponseHeader_post\n      ...ResponseQuote_post\n      id\n      responsesCount\n      creator {\n        isBlocking\n      }\n      clapCount\n      ...PostPresentationTracker_post\n      previewContent {\n        bodyModel {\n          paragraphs {\n            text\n            type\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}var f=a()(p(),d,l.b,c.a,m.b),b=n("./src/components/responses/management-menu/CloseDiscussionMenuItem.tsx");function g(){var e=o()(['\n  query PostResponsesQuery($postId: ID!, $postResponsesPaging: PagingOptions) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n      postResponses {\n        count\n        responsesConnection(paging: $postResponsesPaging) @connection(key: "responsesConnection") {\n          pagingInfo {\n            next {\n              limit\n              to\n            }\n          }\n          stream {\n            itemType {\n              __typename\n              ... on StreamItemPostStoryResponse {\n                ...StoryResponse_storyResponse\n              }\n              ... on StreamItemPostSimpleResponse {\n                ...SimpleResponse_simpleResponse\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ',"\n  ","\n  ","\n"]);return g=function(){return e},e}var h=a()(g(),b.b,f,i.a)},"./src/components/responses/SimpleResponse_simpleResponse.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/components/editor/getSlateBodyFromPostBodyModel_bodyModel.tsx"),l=n("./src/components/responses/ResponseQuote.tsx"),c=n("./src/framework/track/index.ts");function u(){var e=o()(["\n  fragment SimpleResponse_simpleResponse on StreamItemPostSimpleResponse {\n    post {\n      id\n      createdAt\n      firstPublishedAt\n      latestPublishedAt\n      title\n      creator {\n        id\n        name\n        username\n        imageId\n        mediumMemberAt\n        isBlocking\n      }\n      clapCount\n      viewerClapCount\n      isPublished\n      voterCount\n      responsesCount\n      allowResponses\n      latestRev\n      recommenders {\n        id\n        name\n      }\n      mediumUrl\n      content {\n        bodyModel {\n          paragraphs {\n            text\n          }\n          ...getSlateBodyFromPostBodyModel_bodyModel\n        }\n      }\n      collection {\n        id\n        slug\n      }\n      isLimitedState\n      ...PostPresentationTracker_post\n      ...PostScrollTracker_post\n      ...ResponseQuote_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}var d=a()(u(),c.c,c.e,l.b,i.a)},"./src/components/responses/editor/SimpleEditorType.tsx":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.edit="EDIT",e.create="CREATE"}(r||(r={}))},"./src/components/responses/management-menu/CloseDiscussionMenuItem.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return I}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(i),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react/index.js"),p=n("./src/components/ui/PopoverMenu.tsx"),f=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/reporter/index.ts"),h=n("./src/framework/source/index.ts"),v=n("./src/framework/style/index.ts");function x(){var e=l()(["\n  query FetchPostResponsesLockedQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function E(){var e=l()(["\n  fragment CloseDiscussion_post on Post {\n    id\n    responsesLocked\n    isLockedResponse\n  }\n"]);return E=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(){var e=l()(["\n  mutation UnlockResponsesOnPostMutation($postId: ID!) {\n    unlockResponsesOnPost(postId: $postId)\n  }\n"]);return w=function(){return e},e}function C(){var e=l()(["\n  mutation LockResponsesOnPostMutation($postId: ID!) {\n    lockResponsesOnPost(postId: $postId)\n  }\n"]);return C=function(){return e},e}var j=function(){return{fontStyle:"italic",textAlign:"center"}},S=d()(C()),_=d()(w()),P=function(e){var t,n=e.parentPostId,r=e.responsesLocked,o=e.hidePopoverMenu,s=Object(v.useCx)(),i=Object(g.c)(),l=Object(h.d)(),u=m.useState(!1),d=a()(u,2),x=d[0],E=d[1],y=Object(c.d)(S,{variables:{postId:n},update:function(e){i.event("responses.locked",{postId:n,source:l}),k(e,n,!0,o)}}),O=a()(y,1)[0],w=Object(c.d)(_,{variables:{postId:n},update:function(e){k(e,n,!1,o)}}),C=a()(w,1)[0];return t=!0===r?m.createElement(f.t,{onClick:C},"Open discussion"):m.createElement(f.t,{onClick:function(){return E(!0)}},"Close discussion"),m.createElement(m.Fragment,null,m.createElement(p.b,null,t),x&&m.createElement(f.i,{isVisible:x,hide:function(){return E(!1)},withCloseButton:!1,noPortal:!0,padding:50},m.createElement(f.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},m.createElement(b.b,{scale:"M"},"Close Discussion"),m.createElement(f.b,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"70px",textAlign:"center"},m.createElement(b.a,{scale:"M",color:"DARKER"},"Closing a discussion prevents responses from being added or edited on your story. Existing responses will remain on your story.")),m.createElement(f.b,{display:"flex",marginBottom:"20px"},m.createElement(f.t,{onClick:function(){return E(!1)}},m.createElement(b.a,{scale:"M",color:"DARKER"},"Cancel")),m.createElement(f.b,{marginLeft:"25px"},m.createElement(f.c,{buttonStyle:"ERROR",onClick:O,"data-test-id":"close-discussion-button"},"Close discussion"))),m.createElement("div",{className:s(j)},m.createElement(b.a,{scale:"M"},"You can reopen the discussion at any time.")))))},k=function(e,t,n,r){var o=e.readQuery({query:T,variables:{postId:t}});o&&(e.writeQuery({query:T,data:Object.assign({},o,{post:O({},o.post,{responsesLocked:n})}),variables:{postId:t}}),r())},I=d()(E()),T=d()(x(),I)},"./src/components/sequence/NormalizeSequenceBodyModel.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/lodash/cloneDeep.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./src/components/post/NormalizePostBodyModel.ts");function m(){var e=o()(["\n  fragment NormalizeSequenceBodyModel_bodyModel on RichText {\n    ...GetFeaturedImageIndex_bodyModel\n    ...GetTitleIndexMap_bodyModel\n    sections {\n      name\n      startIndex\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){var t=Object(d.d)(e.paragraphs),n=[t.titleIndex,t.subtitleIndex,Object(d.c)(e.paragraphs)].filter((function(e){return null!=e})).sort(),r=e.paragraphs.slice(0),o=l()(e.sections);n.forEach((function(t,n){r.splice(t-n,1);for(var s=1;s<e.sections.length;s++){var a=e.sections[s],i=o[s];a.startIndex>=t&&(i.startIndex-=1)}}));var s=o.slice(1).filter((function(e){return e.startIndex>0}));return o.length>0&&s.unshift(o[0]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{paragraphs:r,sections:s})}n.d(t,"e",(function(){return d.d})),n.d(t,"d",(function(){return d.c})),n.d(t,"b",(function(){return d.b})),n.d(t,"a",(function(){return d.a}));var b=u()(m(),d.a,d.b)},"./src/components/sequence/SequenceCoverImage.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/ui/image/index.ts"),c=n("./src/util/miroImage.ts");function u(){var e=o()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function d(e){var t=e.sequence,n=e.width,r=e.height,o=t.title,s=t.coverImage;return s?i.createElement("div",null,i.createElement(l.b,{miroId:s.id,alt:o||"Collection on Medium",width:n,height:r,strategy:c.a.Resample,freezeGifs:!1})):null}var m=a()(u())},"./src/components/sidebar/SidebarWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./src/components/metabar/constants.ts"),i=n("./src/components/session/useFlag.tsx"),l=n("./src/framework/design-system/components/index.ts"),c=n("./src/framework/style/index.ts"),u=n("./src/styles/breakpoints.ts"),d=n("./src/styles/mediaTypes.ts"),m=131,p=function(e){var t=e.enableDifferentGrid,n=e.isFixed,r=void 0===n||n,s=e.scrollableRef,i=e.topOffset,l=e.visible;return function(e){var n,c=u.lg(e);t&&(c=Object(d.a)(e,m,e.grid.xStep*e.grid.marginSteps.lg,s&&"current"in s?s.current:null));var p=void 0===i?a.a+54+40:i;return n={opacity:l?1:0,pointerEvents:"none",position:r?"fixed":"absolute",willChange:"opacity",width:"100%",top:"".concat(p,"px")},o()(n,Object(d.b)("no-preference"),{transition:"opacity 200ms"}),o()(n,c,{display:"none"}),n}},f=function(e){var t=e.children,n=e.isFixed,r=e.scrollableRef,o=e.sidebarRef,a=e.testId,u=e.topOffset,d=e.visible,f=!!Object(i.a)("enable_different_grid"),b=Object(c.useCx)();return s.createElement("div",{className:b(p({enableDifferentGrid:f,isFixed:n,scrollableRef:r,topOffset:u,visible:d})),"data-test-id":a},s.createElement(l.v,{size:"outset"},s.createElement(l.b,{display:"flex",flexDirection:"column",width:"".concat(m,"px"),ref:o},t)))}},"./src/components/social/ShareButton.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return te}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/graphql-tag/src/index.js"),l=n.n(i),c=n("./node_modules/react/index.js"),u=n.n(c),d=n("./node_modules/react-redux/es/index.js"),m=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),f=n("./src/framework/reporter/index.ts"),b=n("./src/framework/source/index.ts"),g=n("./src/framework/style/index.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=u.a.createElement("path",{d:"M18.26 10.55c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-7.75 7.79 7.77 7.77 0 0 0 6.54 7.68v-5.49H7.4v-2.2h1.9V8.92c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71"}),x=function(e){return u.a.createElement("svg",h({width:21,height:21,viewBox:"0 0 21 21"},e),v)},E=n("./src/svg/facebook-square-25px.svg");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=u.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}),w=function(e){return u.a.createElement("svg",y({width:29,height:29},e),O)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=u.a.createElement("path",{d:"M3 4.07C3 3.48 3.5 3 4.1 3h12.8c.6 0 1.1.48 1.1 1.07v12.86c0 .59-.5 1.07-1.1 1.07H4.1A1.1 1.1 0 0 1 3 16.93V4.07z"}),S=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.55 15.56V8.78H5.28v6.78h2.27zM6.4 7.86c.8 0 1.29-.52 1.29-1.17-.02-.67-.5-1.17-1.27-1.17-.78 0-1.28.5-1.28 1.17 0 .65.49 1.17 1.25 1.17h.01zM8.8 15.56h2.27v-3.79a1.24 1.24 0 0 1 1.24-1.37c.81 0 1.14.62 1.14 1.53v3.63h2.27v-3.89c0-2.08-1.12-3.05-2.61-3.05-1.22 0-1.76.68-2.06 1.15h.02v-.99H8.8c.03.64 0 6.78 0 6.78z",fill:"#fff"}),_=function(e){return u.a.createElement("svg",C({width:21,height:21,viewBox:"0 0 21 21",fill:"none"},e),j,S)};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=u.a.createElement("path",{d:"M4 5.22C4 4.55 4.56 4 5.26 4h14.48c.7 0 1.26.55 1.26 1.22v14.56c0 .67-.56 1.22-1.26 1.22H5.26C4.56 21 4 20.45 4 19.78V5.22z"}),I=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.15 18.23v-7.68H6.6v7.68h2.56zM7.87 9.51c.9 0 1.45-.6 1.45-1.33-.01-.75-.56-1.33-1.43-1.33-.88 0-1.46.58-1.46 1.33 0 .74.56 1.33 1.42 1.33h.02zM10.57 18.23h2.57v-4.29c0-.23.02-.45.09-.62.18-.46.6-.93 1.31-.93.93 0 1.3.7 1.3 1.73v4.11h2.57v-4.4c0-2.36-1.26-3.46-2.95-3.46-1.39 0-2 .77-2.34 1.3h.02v-1.12h-2.57c.04.72 0 7.68 0 7.68z",fill:"#fff"}),T=function(e){return u.a.createElement("svg",P({width:25,height:25,viewBox:"0 0 25 25",fill:"none"},e),k,I)};function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=u.a.createElement("path",{d:"M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"}),L=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z",fill:"#fff"}),M=function(e){return u.a.createElement("svg",R({width:29,height:29,viewBox:"0 0 29 29",fill:"none"},e),A,L)},B=n("./src/svg/twitter-filled-21px.svg"),D=n("./src/svg/twitter-filled-25px.svg");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=u.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}),F=function(e){return u.a.createElement("svg",N({width:29,height:29},e),U)},V=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx"),H=n("./src/util/routes.ts");function z(){var e=a()(["\n  fragment ShareButton_post on Post {\n    id\n  }\n"]);return z=function(){return e},e}var G={fill:"#3b5998"},q={fill:"#38a1f3"},W={fill:"#292929"},$=function(e){return{fill:e.baseColor.fill.lighter}},K=function(e){return{fill:e.baseColor.fill.normal}},Y=function(e){return{fill:e.baseColor.fill.lighter}},X=function(){return{opacity:.25,cursor:"not-allowed"}},Q={marginRight:"8px"},J={FACEBOOK:"Facebook",TWITTER:"Twitter",LINKEDIN:"LinkedIn"},Z=l()(z());function ee(e){var t=e.buttonStyle,n=e.socialPlatform,r=Object(g.useCx)(),o=Object(V.a)();switch(t){case"LINK_DISABLED":switch(n){case"FACEBOOK":return c.createElement(w,{className:r(X)});case"TWITTER":return c.createElement(F,{className:r(X)});case"LINKEDIN":return c.createElement(M,{className:r(X)});default:return null}case"LINK":if(o)switch(n){case"FACEBOOK":return c.createElement(w,{className:r(Y)});case"TWITTER":return c.createElement(F,{className:r(Y)});case"LINKEDIN":return c.createElement(M,{className:r(Y)});default:return null}switch(n){case"FACEBOOK":return c.createElement(w,{className:r(K)});case"TWITTER":return c.createElement(F,{className:r(K)});case"LINKEDIN":return c.createElement(M,{className:r(K)});default:return null}case"LINK_INLINE":switch(n){case"FACEBOOK":return c.createElement(x,{className:r($)});case"TWITTER":return c.createElement(B.a,{className:r($)});case"LINKEDIN":return c.createElement(_,{className:r($)});default:return null}case"LINK_INLINE_SHORT_LABEL":switch(n){case"FACEBOOK":return c.createElement(E.a,{className:r($)});case"TWITTER":return c.createElement(D.a,{className:r($)});case"LINKEDIN":return c.createElement(T,{className:r($)});default:return null}case"BUTTON_BRANDED":switch(n){case"FACEBOOK":return c.createElement(x,{className:r([G,Q])});case"TWITTER":return c.createElement(B.a,{className:r([q,Q])});case"LINKEDIN":return c.createElement(_,{className:r([W,Q])});default:return null}default:return null}}var te=Object(d.c)((function(e){var t=e.config;return{authDomain:t.authDomain,isAmp:t.isAmp}}))((function(e){var t,n=e.authDomain,r=e.isAmp,s=e.post,a=e.buttonStyle,i=e.socialPlatform,l=Object(f.c)(),u=Object(b.f)();if("FACEBOOK"===i)t=Object(H.P)(n,s.id);else if("TWITTER"===i)t=Object(H.bc)(n,s.id);else{if("LINKEDIN"!==i)return null;t=Object(H.db)(n,s.id)}var d=J[i];if(!d)return null;var g={href:t,onClick:function(){u&&l.event("post.shareOpen",{postId:s.id,source:u,dest:i.toLowerCase(),dialogType:"native"})},target:"_blank",noFollow:!0};if(!r){delete g.href,delete g.target;var h=g.onClick;g.onClick=function(){h();var e=Math.max((window.outerHeight||200)/2-560,100),n=(window.outerWidth||200)/2-250;"LINKEDIN"===i?window.open(t,"LIP","resizable,scrollbars,status,top=".concat(e,",left=").concat(n,",height=").concat(560,",width=").concat(500)):window.open(t)}}switch(a){case"LINK_DISABLED":return c.createElement(m.H,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(m.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},c.createElement(ee,{buttonStyle:a,socialPlatform:i}));case"LINK":return c.createElement(m.t,g,c.createElement(ee,{buttonStyle:a,socialPlatform:i}));case"LINK_INLINE":return c.createElement(m.t,g,c.createElement(ee,{buttonStyle:a,socialPlatform:i}),c.createElement(m.b,{display:"inline",marginLeft:"8px",marginTop:"2px"},c.createElement(p.a,{scale:"S",tag:"span"},"Share on ",d)));case"LINK_INLINE_SHORT_LABEL":return c.createElement(m.t,g,c.createElement(ee,{buttonStyle:a,socialPlatform:i}),c.createElement(m.b,{display:"inline",marginLeft:"16px",marginTop:"2px"},c.createElement(p.a,{scale:"S",tag:"span"},d)));case"BUTTON_BRANDED":return c.createElement(m.c,o()({},g,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px"}),c.createElement(m.b,{display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(ee,{buttonStyle:a,socialPlatform:i}),"Share with ".concat(d)));default:return null}}))},"./src/components/social/ShareButtons.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./src/components/session/WithFlag.tsx"),c=n("./src/components/social/ShareButton.tsx"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/source/index.ts");function m(){var e=o()(["\n  fragment ShareButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    ...ShareButton_post\n  }\n  ","\n"]);return m=function(){return e},e}var p=a()(m(),c.b);function f(e){var t=e.post,n=e.source,r="UNLISTED"===t.visibility;return i.createElement(d.b,{source:n},i.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(c.a,{socialPlatform:"TWITTER",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),i.createElement(l.a,{name:"share_post_linkedin"},(function(e){return e?i.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(c.a,{socialPlatform:"LINKEDIN",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})):null})),i.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&i.createElement(c.a,{socialPlatform:"FACEBOOK",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})))}},"./src/components/stream/Quote.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(d),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(p),b=n("./node_modules/graphql-tag/src/index.js"),g=n.n(b),h=n("./node_modules/react/index.js"),v=n("./src/components/post/paragraph/TextParagraph.tsx"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/schema-types/globalTypes.ts"),y=n("./src/util/quote.ts"),O=n("./src/util/routes.ts");function w(){var e=o()(["\n  fragment Quote_quote on Quote {\n    quoteId\n    userId\n    post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        username\n        name\n      }\n    }\n    startOffset\n    endOffset\n    paragraphs {\n      text\n      type\n      markups {\n        anchorType\n        end\n        href\n        rel\n        start\n        title\n        type\n        userId\n      }\n      ...TextParagraph_paragraph\n    }\n    ...buildQuotePreviewParagraph_quote\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}var C=function(e){function t(){return a()(this,t),u()(this,m()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.quote;if(!e||null==e.startOffset||null==e.endOffset||!e.post||!e.post.id)return null;var t=e.post.title,n=e.post.creator&&e.post.creator.name,r=e.post.creator&&e.post.creator.username;if(!n||!r)return null;var o=Object(y.b)(e),s=o&&o.type;return o&&s?s===E.l.IMG||s===E.l.IFRAME||s===E.l.COVER_TITLE||s===E.l.HR||s===E.l.MIXTAPE_EMBED||s===E.l.SECTION_CAPTION?null:h.createElement(x.b,{paddingLeft:"20px",paddingRight:"20px"},h.createElement(x.z,{ui:"REGULAR"},h.createElement(x.d,null,"From"," ",h.createElement(x.t,{href:Object(O.xb)(e.post),inline:!0},t)," ","by"," ",h.createElement(x.t,{href:Object(O.lc)(r),inline:!0},n))),h.createElement(x.f,{href:Object(O.xb)(e.post)},h.createElement(v.g,{paragraph:o,paragraphStyle:s,spaceTop:30,richTextStyle:"STREAM"}))):null}}]),t}(h.Component);t.b=C;var j=g()(w(),y.c,v.d)},"./src/components/susi/RedirectToSignIn.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),s=n("./src/components/navigation/Redirect.tsx"),a=n("./src/util/navigation.ts"),i=n("./src/util/routes.ts"),l=function(e){var t=e.opt_isDraft,n=Object(o.f)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}),o.d),l=n.authDomain,c=n.currentLocation,u=Object(a.a)(Object(i.Hb)(l),{redirect:c,isDraft:t?"1":"0"});return r.createElement(s.a,{to:u,temporary:!0})}},"./src/components/susi/alternate-user/AlternateUserEmail.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),l=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/session/useFlag.tsx"),b=n("./src/components/susi/GoogleRecaptcha.tsx"),g=n("./src/components/susi/helpers/index.ts"),h=n("./src/framework/reporter/index.ts"),v=n("./src/framework/source/index.ts"),x=n("./src/screens/helpers/visits.ts");function E(){var e=a()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return E=function(){return e},e}var y=u()(E()),O=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,s=e.token,a=e.userId,c=Object(h.c)(),u=!!Object(f.a)("skip_sign_in_recaptcha"),E=d.useState(!1),O=o()(E,2),w=O[0],C=O[1],j=Object(m.f)((function(e){return e.navigation.currentLocation})),S=Object(m.f)((function(e){return e.session.user.id})),_=function(){C(!1)},P=Object(v.d)(),k=Object(v.g)(),I=t&&s?Object(g.b)(j,P,k,t,s):Object(g.b)(j,P,k),T=Object(l.e)(p.a),R=T.loading,A=T.error,L=T.data,M=(L=void 0===L?{viewer:void 0}:L).viewer;return R||A?d.createElement(d.Fragment,null):d.createElement(i.a,{mutation:y,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":c.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":c.event("site.loginByEmailCaptchaFailure",{}),C(!1);break;case"BadRequest":case"NotFound":default:_()}},onError:_},(function(e){var t=function(t){var n=M?M.id:S;Object(x.m)(!0,n,a,"Email",!1);c.event("susi.methodClicked",{entryPoint:k,operation:"login",susiMethod:"medium".toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:"medium".toLowerCase(),alternateUserSuggestionTargetUserId:a,alternateUserSuggestionSourceUserId:n}),e({variables:{userId:a,redirect:I,captchaValue:t}})};return d.createElement(d.Fragment,null,!u&&d.createElement(b.a,{callback:t,shouldExecuteRecaptcha:w}),n({handleSubmit:function(){return u?t(null):C(!0)}}))}))}},"./src/components/susi/alternate-user/AlternateUserSocial.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),o=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),s=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),a=n("./src/components/susi/oauth-buttons/TwitterSusiButton.tsx"),i=function(e){var t=e.actionUrl,n=e.token,i=e.userSocialLogins,l={actionUrl:t||"",operation:"login",token:n||"",targetUserId:i.userId,alternateUserSuggestion:!0};return i.google?r.createElement(s.a,l):i.facebook?r.createElement(o.a,l):i.twitter?r.createElement(a.a,l):r.createElement(r.Fragment,null)}},"./src/components/susi/alternate-user/NotYou.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/session/WithViewer.tsx"),c=n("./src/components/session/useFlag.tsx"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/source/index.ts"),m=n("./src/store/actions/navigation.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=Object(i.f)((function(e){return{hasRenderedAlternateUserBanner:e.navigation.hasRenderedAlternateUserBanner}}),i.d).hasRenderedAlternateUserBanner,f=!!Object(c.a)("enable_highlander_member_digest"),b=Object(d.g)(),g=Object(i.e)(),h=Object(s.e)(l.a),v=h.loading,x=h.error,E=h.data,y=(E=void 0===E?{viewer:void 0}:E).viewer;if(v||x)return a.createElement(a.Fragment,null);var O=function(e){return e?a.createElement(u.t,{onClick:function(){return w("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):a.createElement(a.Fragment,null,"Not you?"," ",a.createElement(u.t,{onClick:function(){return w("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",a.createElement(u.t,{onClick:function(){return w("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},w=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),g(Object(m.s)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!b&&{susiEntry:b})))};return f&&r?O(y):y?a.createElement(u.t,{onClick:function(){return t()}},"Not me"):O(n)}},"./src/components/susi/alternate-user/SusiAlternateUserController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),u=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d=n("./node_modules/graphql-tag/src/index.js"),m=n.n(d),p=n("./node_modules/react/index.js"),f=n("./node_modules/react-redux/es/index.js"),b=n("./src/components/session/WithViewer.tsx"),g=n("./src/framework/reporter/index.ts"),h=n("./src/framework/source/index.ts"),v=n("./src/framework/source/SourceContext.tsx"),x=n("./src/screens/helpers/users.ts");function E(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return E=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.children,n=e.postRenderCallback,r=Object(g.c)(),o=Object(h.g)(),s=Object(f.f)((function(e){return{referrerSource:e.navigation.referrerSource,sessionUserId:e.session.user.id}}),f.d),a=s.referrerSource,i=s.sessionUserId,d=Object(v.c)(a||""),m=d.userId,E=d.name,y=p.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),w=l()(y,2),j=w[0],S=w[1];p.useEffect((function(){var e=j.shouldRun,t=j.showSuggestedAccount,r=j.userSocialLogins;e&&n(T,t,r)}),[j.shouldRun]);var _=Object(u.e)(b.a),P=_.loading,k=_.error,I=_.data,T=(I=void 0===I?{viewer:void 0}:I).viewer;if(P||k)return p.createElement(p.Fragment,null);var R=!("email"!==E||T&&T.mediumMemberAt||!m);return R&&m?p.createElement(c.b,{query:C,variables:{userId:m}},(function(e){var s=e.loading,a=e.error,l=e.data,c=(l=void 0===l?{}:l).userSocialLogins,u=!(s||a||!c||T&&!c.isMember||!c.facebook&&!c.google&&!c.twitter&&!c.redactedEmailAddress),d=O({loading:s,showSuggestedAccount:u},u&&{userSocialLogins:c,declineSuggestedAccount:function(){var e=Object(x.a)(c);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==c?void 0:c.userId,alternateUserSuggestionSourceUserId:T?T.id:i})}});return!n||s||j.shouldRun||S({shouldRun:!0,showSuggestedAccount:u,userSocialLogins:c}),t(d)})):(n&&!j.shouldRun&&S(O({},j,{shouldRun:!0})),t({showSuggestedAccount:R,loading:!1}))},C=m()(E())},"./src/components/tns/SuspendedBannerLoader.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/store/actions/navigation.ts");function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function d(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return d=function(){return e},e}t.c=Object(l.c)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return i.useEffect((function(){n&&n.isSuspended?t(Object(c.m)({duration:"NEXTPAGE",message:"This is a suspended user.",toastStyle:"ERROR"})):r&&r.isSuspended&&t(Object(c.m)({duration:"NEXTPAGE",message:"This story is under investigation or was found in violation of the Medium Rules",toastStyle:"ERROR"}))}),[]),null}));var m=a()(d()),p=a()(u())},"./src/components/ui/AndroidAppDownloadButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n("./src/components/ui/image/index.ts"),s=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/reporter/index.ts"),i=n("./src/util/miroImage.ts"),l=n("./src/util/routes.ts"),c=function(e){var t=e.entryPoint,n=e.height,c=void 0===n?41:n,u=e.width,d=void 0===u?135:u,m=Object(a.c)();return r.createElement(s.t,{href:Object(l.h)(),onClick:function(){m.event("googlePlay.appStoreButtonClicked",{entryPoint:t})}},r.createElement(o.b,{miroId:"1*HyH8oIcJvXp7xzu5oF6dTg.png",width:d,height:c,strategy:i.a.Resample,alt:"A button that says 'Get it on, Google Play', and if clicked it will lead you to the Google Play store"}))}},"./src/components/ui/Card.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),s=n("./src/framework/style/index.ts");t.a=function(e){var t=e.children,n=Object(s.useTheme)();return r.createElement(o.b,{backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",borderRadius:"5px",boxShadow:"0 1px 4px ".concat(n.baseColor.border.lighter),marginBottom:"24px",padding:"23px 0"},t)}},"./src/components/ui/IosAppDownloadButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),o=n("./src/components/ui/image/index.ts"),s=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/reporter/index.ts"),i=n("./src/framework/source/index.ts"),l=n("./src/util/miroImage.ts"),c=n("./src/util/navigation.ts"),u=n("./src/util/routes.ts"),d=function(e){var t=e.entryPoint,n=e.height,d=void 0===n?41:n,m=e.width,p=void 0===m?135:m,f=Object(a.c)(),b=Object(i.f)(),g=Object(c.a)(Object(u.ab)(),{ct:b});return r.createElement(s.t,{href:g,onClick:function(){f.event("apple.appStoreButtonClicked",{entryPoint:t})}},r.createElement(o.b,{miroId:"1*M2FVPPidy2x386MRAE-EeA.png",width:p,height:d,strategy:l.a.Resample,alt:"A button that says 'Download on the App Store', and if clicked it will lead you to the iOS App store"}))}},"./src/components/ui/banners/AlternateUserTopBanner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/optimizely/OptimizelyWrapper.tsx"),c=n("./src/components/session/WithViewer.tsx"),u=n("./src/components/session/useFlag.tsx"),d=n("./src/components/style/BaseThemeProvider.tsx"),m=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),p=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),f=n("./src/components/susi/alternate-user/NotYou.tsx"),b=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),g=n("./src/components/susi/helpers/useReduxSusi.tsx"),h=n("./src/components/ui/banners/TopBanner.tsx"),v=n("./src/components/user/UserAvatar.tsx"),x=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/design-system/type/index.ts"),y=n("./src/framework/reporter/index.ts"),O=n("./src/framework/source/index.ts"),w=n("./src/screens/helpers/users.ts"),C=n("./src/store/actions/alternateUserTopBanner.ts"),j=n("./src/store/actions/googleOneTap.ts"),S=function(e){var t=e.userSocialLogins,n=Object(g.a)().openModal;return t.facebook||t.google||t.twitter?a.createElement(p.a,{userSocialLogins:t}):a.createElement(m.a,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"alternate_user_top_banner"})},userId:t.userId},(function(e){var t=e.handleSubmit;return a.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},_=function(){var e=Object(s.e)(c.a).data,t=(e=void 0===e?{viewer:void 0}:e).viewer,n=Object(i.f)((function(e){return e.session.user.id})),r=Object(i.e)(),m=Object(y.c)(),p=!!Object(u.a)("enable_highlander_member_digest"),g=a.useState(!1),_=o()(g,2),P=_[0],k=_[1],I=a.useState("loading"),T=o()(I,2),R=T[0],A=T[1];return a.useEffect((function(){r(Object(j.d)(!0)),k(!0)}),[]),a.useEffect((function(){"rendered"===R&&r(Object(C.b)(!0)),"not_eligible"===R&&r(Object(j.d)(!1))}),[R]),a.createElement(O.b,{source:{susiEntry:"alternate_user_top_banner"}},a.createElement(b.a,{postRenderCallback:function(e,t,r){A(t?"rendered":"not_eligible"),t&&(m.event("experiment.eligible",{experimentId:"358323e239a2"}),p&&m.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:Object(w.a)(r),alternateUserSuggestionTargetUserId:r.userId,alternateUserSuggestionSourceUserId:e?e.id:n}))}},(function(e){var r,o=e.showSuggestedAccount,s=e.declineSuggestedAccount,i=e.userSocialLogins;return p&&P&&o&&s&&i?a.createElement(d.b,null,a.createElement(h.a,{onClose:function(){return m.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:Object(w.a)(i),alternateUserSuggestionTargetUserId:i.userId,alternateUserSuggestionSourceUserId:t?t.id:n})}},a.createElement(x.b,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},a.createElement(x.b,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!t&&(null===(r=i.userAvatar)||void 0===r?void 0:r.imageId)&&a.createElement(x.b,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},a.createElement(v.d,{scale:"S",user:i.userAvatar})),a.createElement(l.a,{featureString:"alternate-user-top-banner",target:"header"},a.createElement(E.a,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return a.createElement(a.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",a.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(t,i)))),a.createElement(x.b,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},a.createElement(S,{userSocialLogins:i}),a.createElement(x.b,{margin:"0 12px",sm:{margin:"24px 0 0"}},a.createElement(f.a,{declineSuggestedAccount:s,isSocial:!!(i.facebook||i.google||i.twitter)})))))):a.createElement(a.Fragment,null)})))}},"./src/components/ui/banners/SignInConfirmationBanner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(s),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),d=n("./src/components/session/WithViewer.tsx"),m=n("./src/components/session/useFlag.tsx"),p=n("./src/components/style/BaseThemeProvider.tsx"),f=n("./src/components/susi/helpers/useReduxSusi.tsx"),b=n("./src/components/ui/banners/TopBanner.tsx"),g=n("./src/components/user/UserAvatar.tsx"),h=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/design-system/type/index.ts"),x=n("./src/framework/reporter/index.ts"),E=n("./src/framework/source/index.ts"),y=n("./src/framework/source/SourceContext.tsx"),O=n("./src/screens/helpers/visits.ts"),w=n("./src/util/constants.ts"),C=function(){var e=Object(x.c)(),t=Object(f.a)().openModal,n=!!Object(m.a)("enable_confirm_sign_in"),r=l.useState(!1),s=a()(r,2),C=s[0],j=s[1],S=l.useState(!0),_=a()(S,2),P=_[0],k=_[1],I=Object(i.e)(d.a).data,T=(I=void 0===I?{viewer:void 0}:I).viewer,R=Object(c.f)((function(e){return{referrerSource:e.navigation.referrerSource,xsrf:e.session.xsrf}}),c.d),A=R.referrerSource,L=R.xsrf,M=Object(y.c)(A||"").name;return l.useEffect((function(){return j(!0)}),[]),l.useEffect((function(){if(C&&T){e.event("experiment.eligible",{experimentId:"b4152480e71c"});o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(Object(O.g)(null==T?void 0:T.id,L));case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}})),n&&(Object(O.n)(T.id,L),e.event("signInConfirmationBanner.viewed",{}))}var t}),[C]),!(n&&C&&T&&M&&"login"===M&&T.createdAt)||Date.now()-T.createdAt<=5*w.c||P?null:l.createElement(E.b,{source:{susiEntry:"signin_confirmation_banner"},extendSource:!0},l.createElement(p.b,null,l.createElement(b.a,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},l.createElement(h.b,{display:"flex",alignItems:"center"},l.createElement(h.b,{display:"none",marginRight:"20px",sm:{display:"flex"}},l.createElement(g.d,{scale:"S",user:T})),l.createElement(v.a,{color:"DARKER",scale:"M"},l.createElement(u.a,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",T.mediumMemberAt?"into your member account ":"in as ",l.createElement("b",null,T.email),"."," "),l.createElement(h.t,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:"signin_confirmation_banner"})},linkStyle:"OBVIOUS"},"Not you?"))))))}},"./src/components/ui/banners/TopBanner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),s=function(e){var t=e.children,n=e.onClose;return r.createElement(o.I,{initialVisibility:!0},(function(e){var s=e.isVisible,a=e.hide;return s&&r.createElement(o.b,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},r.createElement(o.v,null,r.createElement(o.b,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,r.createElement(o.g,{onClick:function(){n&&n(),a()},isPositionAbsolute:!1,size:"REGULAR"}))))}))}},"./src/components/user/UserBlockConfirmDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts");function s(e){var t=e.onConfirm,n=e.isVisible,s=e.hide,a=e.isInResponsesSidebar;return r.createElement(o.h,{onConfirm:t,isVisible:n,hide:s,titleText:"Block this user?",cancelText:"Cancel",confirmText:"Block",noPortal:a,withCloseButton:!a&&void 0},"They will no longer be able to follow you or view your content."," ",r.createElement(o.t,{inline:!0,linkStyle:"OBVIOUS",target:"_blank",href:"https://help.medium.com/hc/en-us/articles/217048077-Block-a-user"},"Learn more about blocking"),".")}},"./src/components/user/UserReportStoryDialog.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./src/framework/design-system/components/index.ts"),i=n("./src/framework/design-system/type/index.ts");t.a=function(e){var t=e.isVisible,n=e.hide,r=e.onSubmit,l=e.isResponse,c=s.useState(!1),u=o()(c,2),d=u[0],m=u[1],p=s.useState("Spam"),f=o()(p,2),b=f[0],g=f[1],h=s.useCallback((function(e,t){return g(t)}),[]);return s.createElement(a.i,{isVisible:t,hide:n,noPortal:l,withCloseButton:!l},s.createElement(a.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:l?"flex-start":"center",width:"100%",height:"100%"},s.createElement(i.b,{scale:"M"},"Report ",l?"Response":"Story"),s.createElement(a.b,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},s.createElement(a.b,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},s.createElement(a.y,{onChange:h,value:b,options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}]})),s.createElement(a.e,{checked:d,onChange:function(){m(!d)}},"Also block the author of this ",l?"response":"story")),s.createElement(a.b,{display:"flex",justifyContent:"center",marginBottom:"10px"},s.createElement(a.b,{marginRight:"8px"},s.createElement(a.c,{buttonStyle:"OBVIOUS",onClick:function(){r(d,b),n()}},"Report")),s.createElement(a.c,{onClick:n},"Cancel")),s.createElement(a.b,{marginTop:"50px",textAlign:l?"left":"center"},s.createElement(a.d,null,"Report"," ",s.createElement(a.t,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"copyright infringement")," ","or"," ",s.createElement(a.t,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"trademark infringement"),". ",!l&&s.createElement("br",null),"Read"," ",s.createElement(a.t,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"our rules"),"."))))}},"./src/components/user/UserUnblockButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(i),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),m=n.n(d),p=n("./node_modules/react/index.js"),f=n("./src/components/mutations/UserUnblockMutation.tsx"),b=n("./src/components/session/WithViewer.tsx"),g=n("./src/framework/design-system/components/index.ts"),h=function(e){function t(e){var n;return o()(this,t),(n=l()(this,u()(t).call(this,e))).state={isHovering:!1},n}return m()(t,e),a()(t,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonSize,r=t.targetUserId,o=this.state.isHovering;return p.createElement(b.b,null,(function(t){return p.createElement(f.a,{targetUserId:r,viewerId:t&&t.id},(function(t){var r=t.mutate;return p.createElement(g.c,{buttonStyle:o?"SUBTLE":"ERROR",onClick:r,size:n||"REGULAR",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o?"Unblock":"Blocked")}))}))}}]),t}(p.Component);t.a=h},"./src/framework/design-system/type/Type.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./src/framework/design-system/type/createClampRule.ts"),i=n("./src/framework/design-system/type/createCropRule.ts"),l=n("./src/framework/design-system/type/createSizeRule.ts"),c=n("./src/framework/design-system/util/style/responsiveStyles.ts"),u=n("./src/framework/style/index.ts"),d=function(e){var t=e.fontConfig,n=e.scale,r=e.tag,d=e.children,m=e.additionalRules,p=e.clamp,f=e.cropMargins,b=Object(u.useCx)(),g=r,h={fontFamily:t.family,fontWeight:t.weight},v=Object(c.c)((function(e){var n=o()(e,1)[0];return t.lineHeight[n]}),n),x=Object(l.a)({fontConfig:t,scale:n}),E=p?Object(a.a)({clamp:p,lineHeight:v}):void 0,y=f?Object(i.a)({fontConfig:t,scale:n}):void 0;return s.createElement(g,{className:b([h,x,E,y,m])},d)}},"./src/handlers/EmbeddedPostHandler.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),l=n("./node_modules/react/index.js"),c=n("./src/framework/reporter/index.ts"),u=n("./src/components/post/body/PostBody.tsx");function d(){var e=o()(["\n  fragment PostContentScreen_post on Post {\n    id\n    title\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n    creator {\n      id\n      ...PostBody_creator\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function m(e){var t=e.post,n={bodyModel:t.content.bodyModel,creator:t.creator,postBodyInserts:null,ref:null,richTextStyle:"FULL_PAGE",customStyleSheet:null};return l.createElement(u.f,n)}var p=i()(d(),u.b,u.a);function f(){var e=o()(["\n  query EmbeddedPostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      ...PostContentScreen_post\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var b=i()(f(),p),g=function(e){var t=e.postId,n=e.children,r=Object(c.c)();return l.createElement(s.b,{query:b,variables:{postId:t,postMeteringOptions:{source:null,referrer:null,sk:null}}},(function(e){var o=e.loading,s=e.error,a=e.data,i=(a=void 0===a?{}:a).post;return o?n(null):s?(r.event("embeddedPost.error",{errorMessage:s.message,postId:t}),n(null)):i?(r.event("embeddedPost.postPresented",{postId:t}),n(l.createElement(m,{post:i}))):(r.event("embeddedPost.noPost",{postId:t}),n(null))}))}},"./src/handlers/PostHandler.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PostHandlerQuery",(function(){return f})),n.d(t,"PostHandler",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/framework/source/index.ts"),u=n("./src/handlers/SharedPostHandler.tsx"),d=n("./src/screens/PostScreen.tsx"),m=n("./src/util/hooks/postRecircHooks.tsx");function p(){var e=o()(["\n  query PostHandler(\n    $postId: ID!\n    $postMeteringOptions: PostMeteringOptions\n    $includePostInternalLinks: Boolean!\n    $includePostRecirc: Boolean = false\n    $includeSequenceRecirc: Boolean = false\n    $postRecircPaging: PaginationLimit\n  ) {\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...PostScreen_meteringInfo\n      }\n    }\n    postResult(id: $postId) {\n      __typename\n      ...SharedPostHandler_postResult\n      ... on Post {\n        ...PostScreen_post\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}var f=a()(p(),d.b,u.b,d.c),b=Object(l.c)((function(e){return{recircOptions:e.config.recircOptions}}))((function(e){var t,n,r=e.match,o=e.recircOptions,s=Object(m.a)(),a=(s?null==o||null===(t=o.v2)||void 0===t?void 0:t.limit:null==o||null===(n=o.v1)||void 0===n?void 0:n.limit)||3;return i.createElement(u.a,{match:r,query:f,extraVariables:{includePostInternalLinks:s,postRecircPaging:a}},(function(e){var t=e.meterPost,n=e.postId,r=e.postResult,o=e.viewer;return i.createElement(c.b,{source:{name:"post_page",postId:n}},i.createElement(d.a,{viewer:o,meteringInfo:t,post:r}))}))}))},"./src/handlers/SharedPostHandler.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return I}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/error/PostResultError.tsx"),p=n("./node_modules/url/url.js"),f=n.n(p),b=n("./src/components/navigation/Redirect.tsx"),g=n("./src/util/navigation.ts");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(){var e=a()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return v=function(){return e},e}var x=c()(v()),E=function(e){var t=e.post,n=e.matchedPath,r=e.children,s=Object(d.f)((function(e){var t=e.navigation,n=t.host,r=t.referrerSource;return{currentHost:n,shareKey:t.shareKey,source:r}}),d.d),a=s.currentHost,i=s.shareKey,l=s.source,c=t.mediumUrl;if(!c)return r;var m=f.a.parse(decodeURIComponent(c)),p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l?{source:l}:{},{},i?{sk:i}:{});return a!==m.host?u.createElement(b.a,{to:Object(g.a)(c,p)}):m.path&&n!==m.path?u.createElement(b.a,{to:Object(g.a)(m.path,p)}):r},y=n("./src/components/session/WithViewer.tsx"),O=n("./src/handlers/SharedPostContext.tsx"),w=n("./src/screens/ErrorScreen.tsx"),C=n("./src/screens/LoadingScreen.tsx"),j=n("./src/screens/NotFoundScreen.tsx"),S=n("./src/util/routes.ts");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(){var e=a()(["\n  fragment SharedPostHandler_postResult on PostResult {\n    __typename\n    ...PostResultError_postResult\n    ... on Post {\n      ...PostCanonicalizer_post\n    }\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}var k=c()(P(),m.b,x),I=function(e){var t=e.children,n=e.match,r=e.query,s=e.extraVariables,a=void 0===s?{}:s,l=Object(d.f)((function(e){var t=e.navigation;return{source:t.referrerSource||void 0,referrer:t.referrer,shareKey:t.shareKey}}),d.d),c=l.source,p=l.referrer,f=l.shareKey,b=Object(S.vb)(n);if(!b)return u.createElement(j.a,null);var g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({postId:b,postMeteringOptions:{referrer:p,source:c,sk:f}},a);return u.createElement(i.b,{query:r,variables:g},(function(e){var r=e.loading,o=e.error,s=e.data,a=(s=void 0===s?{}:s).meterPost,i=s.postResult,l=e.refetch,c=e.fetchMore;return r?u.createElement(C.a,null):o?u.createElement(w.a,{error:o}):Object(m.c)(i)?u.createElement(m.a,{postResult:i}):u.createElement(O.a.Provider,{value:{refetch:l,fetchMore:c,postId:b}},u.createElement(E,{post:i,matchedPath:n.url,key:b},u.createElement(y.b,null,(function(e){return t({meterPost:a,postId:b,postResult:i,viewer:e})}))))}))}},"./src/screens/ContentErrorScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/react/index.js"),a=n("./node_modules/react-helmet-async/lib/index.module.js"),i=n("./node_modules/react-router/esm/react-router.js"),l=n("./src/components/metabar/Metabar.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/util/type/toRule.ts"),d=n("./src/framework/style/index.ts"),m=n("./src/styles/font.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f={fontSize:"20px",textTransform:"uppercase"},b=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.a)((function(e){return{font:e.font.marketing,fontSize:192,lineHeight:200,display:"block"}}))(e))},g={fontSize:"24px"};function h(e){var t=e.code,n=e.title,r=e.description,o=e.lumenId,u=Object(d.useCx)();return s.createElement(i.b,{render:function(e){var i=e.staticContext;return i&&(i.statusCode=t),s.createElement("div",null,s.createElement(a.a,null,s.createElement("title",null,n)),s.createElement(l.a,null),s.createElement(c.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},s.createElement(c.A,{columns:8},s.createElement(c.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},s.createElement(c.b,{display:"flex",flexDirection:"column"},s.createElement("div",{className:u(f)},"Error"),s.createElement("div",{className:u(b)},t)),s.createElement("div",{className:u(Object(m.k)())},s.createElement(c.b,{marginBottom:"28px"},s.createElement("div",{className:u(g)},r)),o?s.createElement("div",{className:u(g)},"A report is available on"," ",s.createElement(c.t,{href:"https://lumendatabase.org/notices/".concat(o),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Lumen"),"."):null)))))}})}},"./src/screens/PostScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return Be})),n.d(t,"b",(function(){return Ne})),n.d(t,"c",(function(){return Ue}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),m=n.n(d),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/WatchBounds.tsx"),b=n("./src/components/analytics/ParselyReporter.tsx"),g=n("./src/components/branch-banner/helpers/index.ts"),h=n("./src/components/collection/CollectionMetabar.tsx"),v=n("./src/components/collection/auroraHooks.ts"),x=n("./src/components/collection/package/header/MetaHeader.tsx"),E=n("./src/components/collection/theming/CustomBackgroundWrapper.tsx"),y=n("./src/components/collection/theming/CustomStyleSheetFontController.tsx"),O=n("./src/components/collection/theming/CustomStyleWrapper.tsx"),w=n("./src/components/collection/theming/customStyleSheet.ts"),C=n("./src/components/debug/GoogleAnalytics.tsx"),j=n("./src/components/footer/GlobalFooter.tsx"),S=n("./src/components/metabar/Metabar.tsx"),_=n("./src/components/metabar/MetabarLayout.tsx"),P=n("./src/components/meter/PayWall.tsx"),k=n("./src/components/meter/RegWall.tsx"),I=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),T=n("./src/components/session/useViewer.tsx");function R(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return R=function(){return e},e}function A(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return A=function(){return e},e}var L=u()(A()),M=u()(R()),B=n("./src/components/optimizely/helpers/index.ts"),D=n("./src/components/post/MaybeRedirectToEditor.tsx"),N=n("./src/components/post/PostBodyInserts.tsx"),U=n("./src/components/post/PostHeader.tsx"),F=n("./src/components/post/PostMetadata.tsx"),V=n("./src/components/post/PostPublishedDialog.tsx"),H=n("./src/components/post/PostSidebar.tsx"),z=n("./src/components/post/ResponsesSidebarContext.tsx"),G=n("./src/components/post/body/InteractivePostBody.tsx"),q=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),W=n("./src/components/post/footer/PostFooter.tsx"),$=n("./src/components/post/helpers/loggedOutHistory.ts"),K=n("./src/components/responses/ResponsesSidebar.tsx"),Y=n("./src/components/session/RequireFlag.tsx"),X=n("./src/components/session/useFlag.tsx"),Q=n("./src/framework/design-system/components/index.ts"),J=n("./src/framework/design-system/type/index.ts"),Z=n("./src/store/actions/navigation.ts"),ee=n("./src/styles/colors.ts");function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=m.a.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),re=m.a.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),oe=m.a.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),se=m.a.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"}),ae=function(e){return m.a.createElement("svg",te({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),ne,re,oe,se)};var ie=Object(p.c)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide;return d.createElement(Q.i,{isVisible:n,hide:r,withCloseButton:!1,withTransparentOverlay:!0},d.createElement(Q.b,{display:"flex",justifyContent:"center",paddingTop:"100px"},d.createElement(Q.b,{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",textAlign:"center",background:ee.G,boxShadow:"0 2px 10px ".concat(Object(ee.B)(.15)),borderRadius:"4px",height:"550px",width:"900px",paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},d.createElement(Q.b,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},d.createElement(Q.b,{paddingBottom:"24px"},d.createElement(ae,null)),d.createElement(Q.b,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},d.createElement(J.b,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),d.createElement(Q.b,{padding:"0 0 24px 0"},d.createElement(Q.c,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t(Object(Z.m)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),d.createElement(Q.I,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return d.createElement(Q.w,{isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return d.createElement(Q.b,{padding:"15px 20px",width:"400px"},d.createElement(J.a,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},d.createElement(Q.b,{paddingTop:"10px"},d.createElement(Q.t,{onClick:n},d.createElement("u",null,d.createElement(J.a,{scale:"S"},"Why am I seeing this?")))))})))),d.createElement(Q.b,{display:"flex",justifyContent:"center"},d.createElement(Q.d,null,"View our"," ",d.createElement(Q.t,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",d.createElement(Q.t,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",d.createElement(Q.t,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),le=n("./src/framework/style/index.ts");function ce(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return ce=function(){return e},e}var ue=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function de(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,s=e.children,a=Object(le.useCx)(),i=d.useState(!1),c=l()(i,2),u=c[0],m=c[1];return d.useEffect((function(){m(!0)}),[]),r&&(n&&n.id)!==o?d.createElement(Q.I,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return d.createElement(d.Fragment,null,d.createElement("div",{className:a(ue(t))},s),u&&d.createElement(ie,{isVisible:t,hide:n}))})):s}var me=u()(ce()),pe=n("./src/components/tns/SuspendedBannerLoader.tsx"),fe=n("./src/components/ui/banners/AlternateUserTopBanner.tsx"),be=n("./src/components/ui/banners/SignInConfirmationBanner.tsx"),ge=n("./src/framework/reporter/index.ts"),he=n("./src/framework/track/index.ts"),ve=n("./src/schema-types/globalTypes.ts"),xe=n("./src/screens/helpers/users.ts"),Ee=n("./src/screens/helpers/visits.ts"),ye=n("./src/store/actions/branch.ts"),Oe=n("./node_modules/serialize-javascript/index.js"),we=n.n(Oe);function Ce(e){var t={__html:'<script type="application/json">'.concat(we()(e.json,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}var je=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),Se=n.n(je);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Se()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=Object(p.c)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r={triggers:Pe({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}},{},n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{})},o={__html:'<script type="application/json">'.concat(we()(r,{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:o})}));function Ie(){var e={__html:'<script type="application/json">'.concat(we()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return d.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var Te=n("./src/util/hooks/useIsEligibleToViewNewResponses.tsx"),Re=n("./src/util/routes.ts"),Ae=n("./src/util/theme.ts");function Le(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      customStyleSheet {\n        id\n        postBody {\n          ...SupportedContainerStyles_styleNode\n        }\n        ...CustomBackgroundWrapper_customStyleSheet\n        ...InteractivePostBody_customStyleSheet\n        ...customStyleSheetFontTheme_customStyleSheet\n        ...CustomStyleSheetFontController_customStyleSheet\n        ...MetaHeader_customStyleSheet\n      }\n      ...CollectionMetabar_collection\n      ...MetaHeader_collection\n      ...auroraHooks_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      ...SuspendedBannerLoader_user\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Le=function(){return e},e}function Me(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Me=function(){return e},e}function Be(e){var t,n=e.meteringInfo,r=e.post,o=e.viewer,s=r.id,a=r.isPublished,i=r.isLocked,c=r.content,u=r.collection,m=r.canonicalUrl,h=Object(p.e)(),x=Object(ge.c)(),S=Object(p.f)((function(e){return{authDomain:e.config.authDomain,isAmp:e.config.isAmp,isBot:e.client.isBot,inAppBrowser:e.client.inAppBrowserName,currentHash:e.navigation.currentHash,postPublishedType:e.navigation.postPublishedType,referrer:e.navigation.referrer,referrerSource:e.navigation.referrerSource,responsesOpen:e.navigation.responsesOpen,sessionUserId:e.session.user.id}}),p.d),_=S.authDomain,R=S.currentHash,A=S.isAmp,L=S.isBot,X=S.inAppBrowser,J=S.postPublishedType,ee=S.referrer,te=S.referrerSource,ne=S.responsesOpen,re=S.sessionUserId,oe=d.useState(!1),se=l()(oe,2),ae=se[0],ie=se[1],le=d.useState(r.readingList===ve.r.READING_LIST_QUEUE||r.readingList===ve.r.READING_LIST_ARCHIVE),ce=l()(le,2),ue=ce[0],me=ce[1],Oe=d.useRef(null),we=!!o,je=u||{},Se=je.id,_e=je.slug,Pe=je.googleAnalyticsId,Le=c||{},Me=Le.isLockedPreviewOnly,Be=Le.validatedShareKey,Ne=Pe?[Pe]:null;Object(C.b)(Ne,L,A),Object(he.h)(Oe,r),Object(he.g)(!!we,Oe,r),function(e){var t=Object(T.b)(),n=Object(I.d)(M,{variables:{postId:e.id}}),r=l()(n,2),o=r[0],s=r[1].called;d.useEffect((function(){!e.isPublished&&(null==t?void 0:t.id)&&!s&&o()}),[t])}(r);var Ue=Object(Te.a)(),Fe=Ue&&ne,Ve=d.useState(Boolean(Fe)),He=l()(Ve,2),ze=He[0],Ge=He[1],qe=d.useState(void 0),We=l()(qe,2),$e=We[0],Ke=We[1],Ye=Object(v.c)(u),Xe=Object(N.b)(r);d.useEffect((function(){if(a){we||(r.isLocked?Object(Ee.k)():Object(Ee.l)());var e=Object(g.a)({inAppBrowser:X,post:r,meteringInfo:n,referrer:ee,referrerSource:te,viewer:o,currentUserId:re});u&&u.domain&&(e.data.$canonical_url=Object(Re.zb)(_,r.id));var t=o&&o.name?Object(xe.b)(o.name):void 0;Object(B.c)({post:r},t),Object(g.g)(e),h(Object(ye.h)(e)),h(Object(ye.j)()),x.event("post.clientViewed",{postId:s,collectionId:Se,collectionSlug:_e,context:1,isFriendLink:!!Be})}else x.event("post.draftViewed",{postId:s});switch(we||Object($.b)(s),J){case"initial":ie(!0),h(Object(Z.k)());break;case"repub":h(Object(Z.m)({duration:3e3,message:"Your changes have been published."})),h(Object(Z.k)())}return function(){h(Object(ye.g)())}}),[s,a]);var Qe,Je,Ze=Me&&(we?d.createElement(P.a,{post:r}):d.createElement(k.a,{post:r,collection:u,meteringInfo:n})),et=function(e){Ke(e),Ge(!0)},tt=i?{className:"meteredContent"}:{};if(R){var nt=R.split("-");Qe=nt[0],Je=nt[1]}return d.createElement(d.Fragment,null,d.createElement(b.a,null),d.createElement(D.a,{post:r},d.createElement(F.b,{isAmp:A,post:r}),(null==o?void 0:o.id)===(null===(t=r.creator)||void 0===t?void 0:t.id)?d.createElement(pe.c,{post:r,user:r.creator}):d.createElement(Y.a,{name:"can_view_blacklisted_posts"},d.createElement(pe.c,{post:r,user:r.creator})),d.createElement(Q.L,null,(function(e){var t,s,i,l=function(e){return Object(Ae.j)(null==u?void 0:u.customStyleSheet,Object(Ae.d)(u,e,Ye))}(e);return d.createElement(Q.F,{theme:l},d.createElement(y.a,{customStyleSheet:null==r||null===(t=r.collection)||void 0===t?void 0:t.customStyleSheet}),d.createElement(E.a,{customStyleSheet:null==r||null===(s=r.collection)||void 0===s?void 0:s.customStyleSheet},d.createElement(De,{post:r}),Ue&&d.createElement(K.a,{isResponsesSidebarVisible:ze,setIsResponsesSidebarVisible:Ge,inResponseToQuote:$e,parentPost:r,setInResponseToQuote:Ke}),d.createElement(O.a,{rule:(i=null==u?void 0:u.customStyleSheet,Object(w.i)(null==i?void 0:i.postBody))},d.createElement(f.c,null,d.createElement(q.a.Provider,{value:{isFirstLoadAndInReadingList:ue,setIsFirstLoadAndInReadingList:me}},d.createElement(fe.a,null),d.createElement(be.a,null),d.createElement("article",tt,d.createElement(U.a,{post:r,meteringInfo:n}),d.createElement(z.a.Provider,{value:{openSidebarToRespondToHighlight:et}},d.createElement(de,{post:r,viewerId:null==o?void 0:o.id},d.createElement(G.c,{activeGrafId:Qe,activeNoteId:Je,post:r,postBodyInserts:Xe,customStyleSheet:null==u?void 0:u.customStyleSheet,ref:Oe})))),!Me&&!!a&&d.createElement(H.a,{post:r,setIsResponsesSidebarVisible:Ge}),Ze,!Me&&d.createElement(W.c,{post:r,setIsResponsesSidebarVisible:Ge})))),d.createElement(V.a,{hide:function(){return ie(!1)},isVisible:ae,post:r}),!!a&&d.createElement(j.a,null)))})),A&&d.createElement(d.Fragment,null,d.createElement(Ce,{json:{requests:{base:Object(Re.f)(_),pageview:Object(Re.c)(_),scrollPing:Object(Re.e)(_)},vars:{postId:s,collectionId:Se,canonicalUrl:m},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),d.createElement(ke,{collectionGoogleAnalyticsId:Pe}),d.createElement(Ie,null))))}var De=function(e){var t=e.post,n=t.collection,r=Object(v.f)(n),o=Object(X.a)("enable_post_page_nav_stickiness_removal"),s=Object(p.f)((function(e){return e.config.isAmp}));if(n&&r)return d.createElement(x.a,{collection:n,customStyleSheet:null==n?void 0:n.customStyleSheet,post:t,forceSmall:!0});var i={behavior:_.b.Aggressive,isAmp:s,isFixed:!o,post:t};if(n)return d.createElement(h.a,a()({},i,{collection:n}));var l=t.layerCake,c=t.primaryTopic,u=l&&(1===l||2===l||3===l),m=u?c:null;return d.createElement(S.a,a()({},i,{isMonogramOnly:!u,marginBottom:0,marginBottomSm:0,topic:m}))},Ne=u()(Me(),U.b,k.b,g.b),Ue=u()(Le(),L,h.c,E.b,Ae.k,G.b,G.a,me,D.b,S.b,x.b,x.c,P.b,N.a,W.b,U.c,F.a,V.b,he.d,he.e,H.c,k.c,w.b,pe.a,pe.b,v.a,g.c,Ae.e,B.b,y.b)},"./src/screens/SuspendedScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/WithFlag.tsx"),s=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/design-system/type/index.ts"),i=n("./src/framework/reporter/index.ts"),l=n("./src/screens/ContentErrorScreen.tsx"),c=n("./src/util/routes.ts"),u=function(e){var t=e.suspension,n=Object(i.c)();return r.createElement(l.a,{code:410,title:"410 ".concat(t," suspended — Medium"),description:r.createElement(o.a,{name:"enable_new_suspended_page"},(function(e){return e?r.createElement(r.Fragment,null,r.createElement(s.b,{display:"flex",marginTop:"-30px"},r.createElement(a.f,{scale:"S"},"This ",t," is under investigation or was found in violation of the Medium Rules."," ")),r.createElement(s.b,{display:"flex",marginTop:"80px"},r.createElement(a.f,{color:"DARKER",scale:"M"},"There are thousands of stories to read on Medium. Visit our homepage ",r.createElement("br",null)," to find one that’s right for you.")),r.createElement(s.b,{display:"flex",marginTop:"15px"},r.createElement(s.c,{buttonStyle:"SUBTLE",href:Object(c.X)(),onClick:function(){n.event("suspendedPage.backToHomeClicked",{})}},"Take me to Medium"))):r.createElement(r.Fragment,null,"This ",t," is under investigation or was found in violation of the"," ",r.createElement(s.t,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"))}))})}},"./src/screens/helpers/users.ts":function(e,t,n){"use strict";function r(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function o(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},"./src/svg/arrow-down-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M4 7.33L10.03 14l.5.55.5-.55 5.96-6.6-.98-.9-5.98 6.6h1L4.98 6.45z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21,viewBox:"0 0 21 21"},e),a)}},"./src/svg/audio-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),i=o.a.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a,i)}},"./src/svg/bookmark-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/svg/bookmark-archive-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47 9.95h17v-3h-17v3zm16 1h1a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-17a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v9a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-9zm-1 0h-13v9h13v-9z"}),i=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.47 12.45c0-.28.21-.5.48-.5h6.04c.27 0 .48.22.48.5 0 .27-.21.5-.48.5H9.95a.49.49 0 0 1-.48-.5z"});t.a=function(e){return o.a.createElement("svg",s({width:25,height:25,viewBox:"0 1 25 25",fill:"#757575"},e),a,i)}},"./src/svg/bookmark-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});t.a=function(e){return o.a.createElement("svg",s({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/svg/bookmark-remove-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.48 7.45H3.46v10.13H16a.47.47 0 1 1 0 .94H3.46c-.54 0-.99-.42-.99-.94V7.45c0-.52.45-.93 1-.93h17c.55 0 1 .41 1 .93v5.57a.5.5 0 0 1-1 0V7.45zM5.47 10.02c0-.28.22-.5.5-.5h9.11a.5.5 0 1 1 0 1H5.97a.5.5 0 0 1-.5-.5zm.51 2.5a.5.5 0 0 0-.51.5c0 .27.23.5.51.5h5.98a.5.5 0 0 0 .51-.5.5.5 0 0 0-.51-.5H5.98zm12.52 3.02c.2-.2.5-.2.7 0l1.77 1.77 1.77-1.77a.5.5 0 1 1 .7.7l-1.76 1.78 1.76 1.76a.5.5 0 1 1-.7.71l-1.77-1.77-1.77 1.77a.5.5 0 0 1-.7-.7l1.76-1.77-1.76-1.77a.5.5 0 0 1 0-.7z"});t.a=function(e){return o.a.createElement("svg",s({width:25,height:25,viewBox:"0 0 25 25",fill:"#757575"},e),a)}},"./src/svg/clap-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"}));t.a=function(e){return o.a.createElement("svg",s({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/svg/clap-filled-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),o.a.createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"}));t.a=function(e){return o.a.createElement("svg",s({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},"./src/svg/clap-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),o.a.createElement("path",{d:"M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}));t.a=function(e){return o.a.createElement("svg",s({width:25,height:25},e),a)}},"./src/svg/creative-commons-by-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a)}},"./src/svg/creative-commons-nc-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a)}},"./src/svg/creative-commons-nd-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a)}},"./src/svg/creative-commons-sa-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a)}},"./src/svg/creative-commons-zero-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),o.a.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));t.a=function(e){return o.a.createElement("svg",s({width:21,height:21},e),a)}},"./src/svg/link-slim.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M16.94 1.1A3.7 3.7 0 0 0 14.3 0c-1 0-1.94.39-2.64 1.1L7.43 5.3c-.91.92-2.09 3.2 0 5.27a.75.75 0 0 0 .82.16c.09-.03.17-.09.24-.15a.74.74 0 0 0 0-1.06c-1.16-1.15-.77-2.39-.02-3.16l4.24-4.22a2.2 2.2 0 0 1 1.58-.65c.6 0 1.16.23 1.58.65.86.87.86 2.29 0 3.16L12.7 8.47a.74.74 0 0 0 1.04 1.05l3.17-3.16a3.73 3.73 0 0 0 0-5.27h.03zM9.54 7.4a.74.74 0 0 0 0 1.06c1.16 1.15.76 2.39 0 3.16l-4.22 4.22c-.42.42-.99.65-1.59.65a2.23 2.23 0 0 1-1.58-3.82l3.17-3.16A.73.73 0 0 0 5.54 9a.78.78 0 0 0-.22-.52.77.77 0 0 0-1.05 0L1.1 11.64A3.72 3.72 0 0 0 3.74 18c1 0 1.94-.39 2.65-1.1l4.23-4.2c.21-.22.94-1.02 1.13-2.2.18-1.12-.2-2.15-1.12-3.07-.27-.27-.78-.27-1.06 0l-.02-.02z",clipRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({fill:"none",viewBox:"0 0 18 18","aria-labelledby":"link-slim-svg"},e),a)}},"./src/svg/response-filled-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",s({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},"./src/svg/twitter-filled-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M18.5 4.43a6.9 6.9 0 0 1-2.18.88 3.45 3.45 0 0 0-2.55-1.12 3.49 3.49 0 0 0-3.49 3.48c0 .28.03.55.07.81a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44.15.15 0 0 0 0 .06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06A3.5 3.5 0 0 0 7.17 15a7.33 7.33 0 0 1-4.36 1.49L2 16.44A9.96 9.96 0 0 0 7.36 18c6.4 0 9.91-5.32 9.9-9.9v-.5A6.55 6.55 0 0 0 19 5.79a6.18 6.18 0 0 1-2 .56 3.33 3.33 0 0 0 1.5-1.93"});t.a=function(e){return o.a.createElement("svg",s({width:21,height:21,viewBox:"0 0 21 21"},e),a)}},"./src/svg/unlisted-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),o.a.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));t.a=function(e){return o.a.createElement("svg",s({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},"./src/util/hooks/postRecircHooks.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/store/selectors/session.ts");function s(){var e=Object(r.f)((function(e){var t=e.session;return{user:t.user,isSpoofed:t.isSpoofed}})),t=e.user.id,n=e.isSpoofed;return!(t&&Object(o.a)(t)||n)}},"./src/util/hooks/useInterval.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js");function o(e,t){var n=r.useRef(e);function o(){n.current&&n.current()}r.useEffect((function(){n.current=e}),[e]),r.useEffect((function(){if(null!==t){var e=setInterval(o,t);return function(){clearInterval(e)}}}),[t])}},"./src/util/hooks/useIsEligibleToViewNewResponses.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/components/session/useFlag.tsx"),o=n("./src/components/session/useViewer.tsx"),s=function(){var e=Boolean(Object(r.a)("enable_responses_2")),t=Boolean(Object(r.a)("is_super_user")),n=Object(o.b)();return e&&(t||Boolean(null==n?void 0:n.isEligibleToViewNewResponses))}},"./src/util/hooks/useTimer.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=function(){var e=r.useRef(null),t=function(){e.current&&clearTimeout(e.current)};return r.useEffect((function(){return t})),function(n,r){return t(),e.current=setTimeout(n,r),t}}},"./src/util/post/claps.ts":function(e,t,n){"use strict";function r(e,t){return!!t&&e[t.id]||{clapCount:(null==t?void 0:t.clapCount)||0,viewerClapCount:(null==t?void 0:t.viewerClapCount)||0,viewerHasClappedSinceFetch:!1}}n.d(t,"a",(function(){return r}))},"./src/util/post/metaDescription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/graphql-tag/src/index.js"),a=n.n(s),i=n("./src/schema-types/globalTypes.ts"),l=n("./src/util/post/metaHelpers.ts"),c=n("./src/util/string.ts");function u(){var e=o()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=o()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return d=function(){return e},e}var m=function(e){var t=e.metaDescription,n=e.seoDescription,r=e.title||"";if(n)return n;if(t)return t;var o=function(e){var t=Object(l.a)(e,250);return t&&Object(c.b)(t,200)}(e);if(o.length>150)return o;var s=e.previewContent&&e.previewContent.subtitle||"";if(s.length>140)return s;s.length>0&&(s+=".");var a=(r.length?r+". ":"")+s;if(a.length>140)return a;var i="“".concat(r,"” is published");return e.creator&&e.creator.name&&(i+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(i+=" in ".concat(e.collection.name)),"".concat(s," ").concat(i,".")},p=function(e){return m(e).trim()},f=function(e,t){var n=e.metaDescription,r=e.seoDescription,o=e.shortformType,s=o===i.s.SHORTFORM_TYPE_NOTE||!o;if(r)return r;if(n)return n;if(s&&t){var a=Object(l.a)(e,350,0);return Object(c.b)(a,300)}return""},b=a()(d(),l.b),g=a()(u(),l.b)},"./src/util/post/metaHelpers.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return A})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"i",(function(){return B})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return U}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(s),i=n("./node_modules/date-fns/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./src/components/post/NormalizePostBodyModel.ts"),d=n("./src/schema-types/globalTypes.ts"),m=n("./src/util/post/titleHelpers.ts"),p=n("./src/util/string.ts");function f(){var e=a()(["\n  fragment shouldIndex_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return f=function(){return e},e}function b(){var e=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return b=function(){return e},e}function g(){var e=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return x=function(){return e},e}function E(){var e=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return E=function(){return e},e}function y(){var e=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}function O(){var e=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return O=function(){return e},e}function w(){var e=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return w=function(){return e},e}function C(e,t){var n,r,o;return(null===(n=t.sequence)||void 0===n?void 0:n.title)?e+=" - ".concat(t.sequence.title):(null===(r=t.collection)||void 0===r?void 0:r.name)?e+=" - ".concat(t.collection.name):(null===(o=t.creator)||void 0===o?void 0:o.name)&&(e+=" - ".concat(t.creator.name)),e}var j=c()(w());function S(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},a=s.includeMixtapeHref,i=(null===(t=e.content)||void 0===t||null===(n=t.bodyModel)||void 0===n?void 0:n.paragraphs)||[],l="",c=!0,u=!1,d=void 0;try{for(var m,p=i[Symbol.iterator]();!(c=(m=p.next()).done);c=!0){var f=m.value,b=f.mixtapeMetadata,g=f.text,h=f.type;if(a&&(null==b?void 0:b.href)?l+=l?" ".concat(b.href):b.href:"P"===h&&g&&g.length>o&&(l+=l?" ".concat(g):g),l.length>r)break}}catch(e){u=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}return l}var _=c()(O());function P(e){var t=!1,n="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var r=e.content.bodyModel.paragraphs,o=Object(u.d)(r).titleIndex;"number"==typeof o&&(n=r[o].text,t=!0)}return{hasTitleGraf:t,latestTitle:n}}var k=c()(y(),_,u.b);function I(e,t,n){return(null==n?void 0:n.domain)?e:"".concat(e," - ").concat(t)}var T=c()(E());function R(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.seoTitle,a=e.title||"",l=(null===(n=e.previewContent)||void 0===n?void 0:n.subtitle)||"";if(s)return Object(m.a)(s,e.collection&&e.collection.name,t);if(!o)return a.length>50?a:a=I(a=C(a,e),t,e.collection);a.length<33&&l&&(l=Object(p.b)(l,40),a+=". ".concat(l)),(null===(r=e.creator)||void 0===r?void 0:r.name)&&(a+=" | by ".concat(e.creator.name));var c="",u=Date.now()-2592e6;e.firstPublishedAt>=u&&(c=" | ".concat(Object(i.format)(e.firstPublishedAt,"MMM, YYYY")));var d=e.collection;return d?d.domain?a+="".concat(c," | ").concat(d.name):a+=" | ".concat(d.name).concat(c," | ").concat(t):a+="".concat(c," | ").concat(t),a}var A=c()(x(),_,j,T);function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P(e),r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.title||"",s=n.latestTitle||o,a=v({},e,{title:s});return R(a,t,r).trim()}var M=c()(g(),A,k);function B(e,t,n){var r=e.seoTitle,o=e.title||"";return r?Object(m.a)(r,e.collection&&e.collection.name,t):o=I(o=C(o=function(e,t,n){var r=t.shortformType,o=r===d.s.SHORTFORM_TYPE_NOTE||!r;return n||(o?e=S(t,250,0):r===d.s.SHORTFORM_TYPE_LINK&&(e=S(t,250,0,{includeMixtapeHref:!0}))),Object(p.b)(e,200)}(o,e,n),e),t,e.collection)}var D=c()(b(),_,j,T);function N(e){var t=e.firstPublishedAt,n=e.isLimitedState,r=e.isShortform,o=e.shortformType,s=e.visibility,a=o===d.s.SHORTFORM_TYPE_NOTE||!o;return!!t&&(("PUBLIC"===s||"LOCKED"===s)&&(!n&&(!r||(a?S(e,10,0).length>10:S(e,10,0).length>0))))}var U=c()(f(),_)},"./src/util/post/titleHelpers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return e||"Untitled story"},o=function(e,t,n){return t?"".concat(e," | ").concat(t):n?"".concat(e," | ").concat(n):e}},"./src/util/quote.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),i=n("./node_modules/lodash/cloneDeep.js"),l=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),d=n("./src/schema-types/globalTypes.ts");function m(){var e=o()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return m=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=function(e){if(1!==e.paragraphs.length)return null;var t=l()(e.paragraphs[0]),n=t.text||"",r=0,o=e.startOffset||0,s=e.endOffset||n.length;if(n.length-s>100&&(n=n.substring(0,s+100)+"…"),o>100){var a=o-100;n="…"+n.substring(a),r=a-1}t.text=n,t.type=d.l.P,t.markups.unshift({end:s,start:o,type:d.j.HIGHLIGHT});var i=!0,c=!1,u=void 0;try{for(var m,p=t.markups[Symbol.iterator]();!(i=(m=p.next()).done);i=!0){var f=m.value;f.start-=r,f.end-=r}}catch(e){c=!0,u=e}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}return t},b=function(e){if(1!==e.paragraphs.length)return null;var t=e.paragraphs[0].text||"",n=e.startOffset||0,r=e.endOffset||t.length,o=t.slice(n,r);return o.length>=185&&(o=o.substring(0,185)+"..."),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.paragraphs[0],{text:o,type:d.l.P,markups:[{end:o.length,start:0,type:d.j.HIGHLIGHT,anchorType:null,href:null,linkMetadata:null,userId:null}],hasDropCap:null,dropCapImage:null})},g=u()(m())},"./src/util/string.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){return/^[\s\xa0]*$/.test(e)},o=function(e,t){if(e.length<t)return e;var n=e.substr(0,t),r=n.charCodeAt(n.length-1),o=n.charCodeAt(n.length-2);return r>=55296&&r<=57343&&!(o>=55296&&o<=57343)&&(n=n.substr(0,n.length-1)),(n=(n=n.replace(/(\s+\S+|\s+)$/,"")).replace(/[.,:;?!-]+$/,""))+"…"}}}]);
//# sourceMappingURL=Post.99ff4549.chunk.js.map